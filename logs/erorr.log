{"text": "2024-03-09 00:07:03.242 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.\n", "record": {"elapsed": {"repr": "0:01:28.477775", "seconds": 88.477775}, "exception": null, "extra": {}, "file": {"name": "httptools_impl.py", "path": "E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\uvicorn\\protocols\\http\\httptools_impl.py"}, "function": "data_received", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 180, "message": "Invalid HTTP request received.", "module": "httptools_impl", "name": "uvicorn.protocols.http.httptools_impl", "process": {"id": 7676, "name": "SpawnProcess-7"}, "thread": {"id": 14284, "name": "MainThread"}, "time": {"repr": "2024-03-09 00:07:03.242775+08:00", "timestamp": 1709914023.242775}}}
{"text": "2024-03-09 00:07:03.243 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.\n", "record": {"elapsed": {"repr": "0:01:28.478775", "seconds": 88.478775}, "exception": null, "extra": {}, "file": {"name": "httptools_impl.py", "path": "E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\uvicorn\\protocols\\http\\httptools_impl.py"}, "function": "data_received", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 180, "message": "Invalid HTTP request received.", "module": "httptools_impl", "name": "uvicorn.protocols.http.httptools_impl", "process": {"id": 7676, "name": "SpawnProcess-7"}, "thread": {"id": 14284, "name": "MainThread"}, "time": {"repr": "2024-03-09 00:07:03.243775+08:00", "timestamp": 1709914023.243775}}}
{"text": "2024-03-09 00:07:03.244 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.\n", "record": {"elapsed": {"repr": "0:01:28.479774", "seconds": 88.479774}, "exception": null, "extra": {}, "file": {"name": "httptools_impl.py", "path": "E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\uvicorn\\protocols\\http\\httptools_impl.py"}, "function": "data_received", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 180, "message": "Invalid HTTP request received.", "module": "httptools_impl", "name": "uvicorn.protocols.http.httptools_impl", "process": {"id": 7676, "name": "SpawnProcess-7"}, "thread": {"id": 14284, "name": "MainThread"}, "time": {"repr": "2024-03-09 00:07:03.244774+08:00", "timestamp": 1709914023.244774}}}
{"text": "2024-03-09 00:07:03.245 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.\n", "record": {"elapsed": {"repr": "0:01:28.480801", "seconds": 88.480801}, "exception": null, "extra": {}, "file": {"name": "httptools_impl.py", "path": "E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\uvicorn\\protocols\\http\\httptools_impl.py"}, "function": "data_received", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 180, "message": "Invalid HTTP request received.", "module": "httptools_impl", "name": "uvicorn.protocols.http.httptools_impl", "process": {"id": 7676, "name": "SpawnProcess-7"}, "thread": {"id": 14284, "name": "MainThread"}, "time": {"repr": "2024-03-09 00:07:03.245801+08:00", "timestamp": 1709914023.245801}}}
{"text": "2024-03-09 00:11:23.026 | ERROR    | uvicorn.lifespan.on:send:134 - Traceback (most recent call last):\n  File \"E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\starlette\\routing.py\", line 743, in lifespan\n    await receive()\n  File \"E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\uvicorn\\lifespan\\on.py\", line 137, in receive\n    return await self.receive_queue.get()\n  File \"C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\queues.py\", line 163, in get\n    await getter\nasyncio.exceptions.CancelledError\n\n", "record": {"elapsed": {"repr": "0:00:07.989983", "seconds": 7.989983}, "exception": null, "extra": {}, "file": {"name": "on.py", "path": "E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\uvicorn\\lifespan\\on.py"}, "function": "send", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 134, "message": "Traceback (most recent call last):\n  File \"E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\starlette\\routing.py\", line 743, in lifespan\n    await receive()\n  File \"E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\uvicorn\\lifespan\\on.py\", line 137, in receive\n    return await self.receive_queue.get()\n  File \"C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\queues.py\", line 163, in get\n    await getter\nasyncio.exceptions.CancelledError\n", "module": "on", "name": "uvicorn.lifespan.on", "process": {"id": 11364, "name": "SpawnProcess-12"}, "thread": {"id": 12160, "name": "MainThread"}, "time": {"repr": "2024-03-09 00:11:23.026093+08:00", "timestamp": 1709914283.026093}}}
2024-03-09 00:29:08.064 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B67003E8E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:29:08.108 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B67003E8E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:29:09.881 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B672C19910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B672C19A90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B672C19A90>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:29:09.898 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B672C19910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B672C19A90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B672C19A90>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:31:00.440 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000002189CEE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000002189CDF35E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002189CDF2C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002189EE08820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    └ <function subprocess_started at 0x000002189EDF2EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002189CEFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002189EDF20D0>
           │       │   └ <uvicorn.server.Server object at 0x000002189CEFDEE0>
           │       └ <function run at 0x000002189EA8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002189FFCB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002189EA8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002189EA8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002189EA904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002189E9FC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>
          └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002189FAD76D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002189FE17F10>>
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002189FB76040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002189F960EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002189FAD7940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002189FAD7940>
                     └ <function get_request_handler.<locals>.app at 0x000002189F960C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002189FAF5550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000218A2584520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x00000218A24D3C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:31:00.473 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000002189CEE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000002189CDF35E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002189CDF2C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002189EE08820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    └ <function subprocess_started at 0x000002189EDF2EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002189CEFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002189EDF20D0>
           │       │   └ <uvicorn.server.Server object at 0x000002189CEFDEE0>
           │       └ <function run at 0x000002189EA8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002189FFCB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002189EA8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002189EA8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002189EA904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002189E9FC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>
          └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002189FAD76D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002189FE17F10>>
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002189FB76040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002189F960EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002189FAD7940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002189FAD7940>
                     └ <function get_request_handler.<locals>.app at 0x000002189F960C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002189FAF5550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000218A2584520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x00000218A24D3C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:31:34.016 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000024547EF74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000024547DF35E0>
           └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000024547DF2C10>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024549E38820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024549E22EE0>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000024547F0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000024549E220D0>
           │       │   └ <uvicorn.server.Server object at 0x0000024547F0DEE0>
           │       └ <function run at 0x0000024549ABB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002454AFFB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024549ABC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024549ABC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024549ABF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024549A2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>
          └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002454AB096D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002454AE47F10>>
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002454ACB2040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002454A990EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002454AB09940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002454AB09940>
                     └ <function get_request_handler.<locals>.app at 0x000002454A990C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002454AB26550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002454D5B5520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000002454D503C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:31:34.052 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000024547EF74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000024547DF35E0>
           └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000024547DF2C10>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024549E38820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024549E22EE0>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000024547F0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000024549E220D0>
           │       │   └ <uvicorn.server.Server object at 0x0000024547F0DEE0>
           │       └ <function run at 0x0000024549ABB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002454AFFB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024549ABC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024549ABC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024549ABF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024549A2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>
          └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002454AB096D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002454AE47F10>>
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002454ACB2040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002454A990EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002454AB09940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002454AB09940>
                     └ <function get_request_handler.<locals>.app at 0x000002454A990C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002454AB26550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002454D5B5520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000002454D503C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:32:32.674 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F883B074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F8839F35E0>
           └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F8839F2C10>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F885A48820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F885A32EE0>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F883B1DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F885A320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F883B1DEE0>
           │       └ <function run at 0x000001F8856CC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F886BC7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F8856CD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F8856CD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F8856D04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F88563C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>
          └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F8867176D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F886A57F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F8867B6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F8865A3EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F886717940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F886717940>
                     └ <function get_request_handler.<locals>.app at 0x000001F8865A3C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F886735550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F8891C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token).data
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTUzMzQsImV...
                └ <function jwt_decode at 0x000001F88917E940>

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:32:32.712 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F883B074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F8839F35E0>
           └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F8839F2C10>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F885A48820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F885A32EE0>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F883B1DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F885A320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F883B1DEE0>
           │       └ <function run at 0x000001F8856CC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F886BC7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F8856CD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F8856CD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F8856D04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F88563C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>
          └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F8867176D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F886A57F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F8867B6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F8865A3EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F886717940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F886717940>
                     └ <function get_request_handler.<locals>.app at 0x000001F8865A3C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F886735550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F8891C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token).data
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTUzMzQsImV...
                └ <function jwt_decode at 0x000001F88917E940>

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:33:48.400 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F2482C74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F2481B35E0>
           └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F2481B2C10>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F24A608820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F24A5F2EE0>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F2482DDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F24A5F20D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F2482DDEE0>
           │       └ <function run at 0x000001F249E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F24B389340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F249E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F249E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F249E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F249DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>
          └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F24AED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F24B217F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F24AF96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F24AD63EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F24AED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F24AED9940>
                     └ <function get_request_handler.<locals>.app at 0x000001F24AD63C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F24AEEE550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F24D984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001F24D984520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:33:48.430 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F2482C74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F2481B35E0>
           └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F2481B2C10>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F24A608820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F24A5F2EE0>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F2482DDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F24A5F20D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F2482DDEE0>
           │       └ <function run at 0x000001F249E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F24B389340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F249E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F249E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F249E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F249DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>
          └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F24AED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F24B217F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F24AF96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F24AD63EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F24AED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F24AED9940>
                     └ <function get_request_handler.<locals>.app at 0x000001F24AD63C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F24AEEE550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F24D984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001F24D984520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:34:28.749 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x000001AF0A3074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x000001AF0A2135E0>
           └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001AF0A212C10>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001AF0C248820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    └ <function subprocess_started at 0x000001AF0C232EE0>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001AF0A31DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001AF0C2320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001AF0A31DEE0>
           │       └ <function run at 0x000001AF0BECB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001AF0D40B340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001AF0BECC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001AF0BECC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001AF0BECF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001AF0BE3C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>
          └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001AF0CF196D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001AF0D257F10>>
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001AF0CFB6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001AF0CDA2EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
                     └ <function get_request_handler.<locals>.app at 0x000001AF0CDA2C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001AF0CF27550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001AF0F9C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001AF0F9C4520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:34:28.772 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x000001AF0A3074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x000001AF0A2135E0>
           └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001AF0A212C10>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001AF0C248820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    └ <function subprocess_started at 0x000001AF0C232EE0>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001AF0A31DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001AF0C2320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001AF0A31DEE0>
           │       └ <function run at 0x000001AF0BECB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001AF0D40B340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001AF0BECC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001AF0BECC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001AF0BECF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001AF0BE3C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>
          └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001AF0CF196D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001AF0D257F10>>
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001AF0CFB6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001AF0CDA2EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
                     └ <function get_request_handler.<locals>.app at 0x000001AF0CDA2C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001AF0CF27550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001AF0F9C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001AF0F9C4520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:38:16.393 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 172
               │     └ 3
               └ <function _main at 0x000002B1AE8F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 172
           │    └ <function BaseProcess._bootstrap at 0x000002B1AE7D35E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002B1AE7D2C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002B1B0838820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    └ <function subprocess_started at 0x000002B1B0823EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002B1AE90DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002B1B08230D0>
           │       │   └ <uvicorn.server.Server object at 0x000002B1AE90DEE0>
           │       └ <function run at 0x000002B1B04BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002B1B19B9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002B1B04BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002B1B04BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002B1B04C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002B1B042C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>
          └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002B1B14318E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002B1B1847B80>>
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002B1B15C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002B1B1360A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
                     └ <function get_request_handler.<locals>.app at 0x000002B1B3F8EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002B1B151E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002B1B3FBB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000002B1B3FBB6A0>
       └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:38:16.435 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 172
               │     └ 3
               └ <function _main at 0x000002B1AE8F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 172
           │    └ <function BaseProcess._bootstrap at 0x000002B1AE7D35E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002B1AE7D2C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002B1B0838820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    └ <function subprocess_started at 0x000002B1B0823EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002B1AE90DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002B1B08230D0>
           │       │   └ <uvicorn.server.Server object at 0x000002B1AE90DEE0>
           │       └ <function run at 0x000002B1B04BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002B1B19B9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002B1B04BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002B1B04BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002B1B04C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002B1B042C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>
          └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002B1B14318E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002B1B1847B80>>
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002B1B15C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002B1B1360A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
                     └ <function get_request_handler.<locals>.app at 0x000002B1B3F8EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002B1B151E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002B1B3FBB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000002B1B3FBB6A0>
       └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:38:50.676 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x0000016ADF2D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x0000016ADF1E35E0>
           └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000016ADF1E2C10>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000016AE1208820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    └ <function subprocess_started at 0x0000016AE11F2EE0>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000016ADF2EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000016AE11F20D0>
           │       │   └ <uvicorn.server.Server object at 0x0000016ADF2EDEE0>
           │       └ <function run at 0x0000016AE0E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000016AE2388340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000016AE0E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000016AE0E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000016AE0E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000016AE0DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>
          └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000016AE1ED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000016AE2218F10>>
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000016AE1F6F040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000016AE1D60EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E149D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
                     └ <function get_request_handler.<locals>.app at 0x0000016AE1D60C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000016AE1EF9550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000016AE4984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x0000016AE48D2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:38:50.709 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x0000016ADF2D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x0000016ADF1E35E0>
           └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000016ADF1E2C10>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000016AE1208820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    └ <function subprocess_started at 0x0000016AE11F2EE0>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000016ADF2EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000016AE11F20D0>
           │       │   └ <uvicorn.server.Server object at 0x0000016ADF2EDEE0>
           │       └ <function run at 0x0000016AE0E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000016AE2388340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000016AE0E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000016AE0E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000016AE0E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000016AE0DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>
          └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000016AE1ED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000016AE2218F10>>
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000016AE1F6F040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000016AE1D60EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E149D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
                     └ <function get_request_handler.<locals>.app at 0x0000016AE1D60C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000016AE1EF9550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000016AE4984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x0000016AE48D2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:44:25.295 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x00000243519D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x00000243518E35E0>
           └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000243518E2C10>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024353918820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024353902EE0>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000243519EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000243539020D0>
           │       │   └ <uvicorn.server.Server object at 0x00000243519EDEE0>
           │       └ <function run at 0x000002435359C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000024354A96340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002435359D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002435359D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000243535A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002435350C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>
          └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000243570B2910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000024354928A00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000024354928A00>>
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000243547AF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000024354779AF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000243570B2E80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243570B0CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000243570B2E80>
                     └ <function get_request_handler.<locals>.app at 0x0000024354779A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000024354605550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000024357083FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
                 │        └ <staticmethod object at 0x0000024356FF2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:44:25.328 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x00000243519D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x00000243518E35E0>
           └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000243518E2C10>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024353918820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024353902EE0>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000243519EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000243539020D0>
           │       │   └ <uvicorn.server.Server object at 0x00000243519EDEE0>
           │       └ <function run at 0x000002435359C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000024354A96340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002435359D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002435359D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000243535A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002435350C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>
          └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000243570B2910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000024354928A00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000024354928A00>>
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000243547AF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000024354779AF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000243570B2E80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243570B0CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000243570B2E80>
                     └ <function get_request_handler.<locals>.app at 0x0000024354779A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000024354605550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000024357083FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
                 │        └ <staticmethod object at 0x0000024356FF2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:46:14.005 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 412
               │     └ 3
               └ <function _main at 0x000002A7031374C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 412
           │    └ <function BaseProcess._bootstrap at 0x000002A7030335E0>
           └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A703032C10>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A705078820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    └ <function subprocess_started at 0x000002A705062EE0>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A70314DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002A7050620D0>
           │       │   └ <uvicorn.server.Server object at 0x000002A70314DEE0>
           │       └ <function run at 0x000002A704CFB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A7061F6340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A704CFC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A704CFC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A704CFF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A704C6C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>
          └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002A705D476D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002A706087F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002A706087F10>>
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002A705E06040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002A705EDBAF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002A705D47940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FC9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A705D47940>
                     └ <function get_request_handler.<locals>.app at 0x000002A705EDBA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002A705D5E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002A7087D4FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    print(user_info.id)
          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:46:14.041 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 412
               │     └ 3
               └ <function _main at 0x000002A7031374C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 412
           │    └ <function BaseProcess._bootstrap at 0x000002A7030335E0>
           └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A703032C10>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A705078820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    └ <function subprocess_started at 0x000002A705062EE0>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A70314DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002A7050620D0>
           │       │   └ <uvicorn.server.Server object at 0x000002A70314DEE0>
           │       └ <function run at 0x000002A704CFB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A7061F6340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A704CFC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A704CFC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A704CFF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A704C6C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>
          └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002A705D476D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002A706087F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002A706087F10>>
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002A705E06040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002A705EDBAF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002A705D47940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FC9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A705D47940>
                     └ <function get_request_handler.<locals>.app at 0x000002A705EDBA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002A705D5E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002A7087D4FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    print(user_info.id)
          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:50:13.555 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 00:50:13.555 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 01:20:12.587 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 01:20:12.587 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 01:51:06.551 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000227672737F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x0000022767287280>
              └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x0000022767287430>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920266.550088
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x0000022767287670>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x00000227642F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x00000227641E35E0>
           └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000227641E2C10>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022766238820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    └ <function subprocess_started at 0x0000022766222EE0>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002276430DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000227662220D0>
           │       │   └ <uvicorn.server.Server object at 0x000002276430DEE0>
           │       └ <function run at 0x0000022765EBB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000227673B8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022765EBC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022765EBC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022765EBF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022765E2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>
          └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022766E32940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022767247B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022767247B80>>
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022766FC6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002276709CDC0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022766EE8040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
                     └ <function get_request_handler.<locals>.app at 0x000002276709CD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000022766F1E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000227699AEEB0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000002276996E9D0>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:51:06.592 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000227672737F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x0000022767287280>
              └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x0000022767287430>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920266.550088
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x0000022767287670>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x00000227642F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x00000227641E35E0>
           └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000227641E2C10>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022766238820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    └ <function subprocess_started at 0x0000022766222EE0>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002276430DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000227662220D0>
           │       │   └ <uvicorn.server.Server object at 0x000002276430DEE0>
           │       └ <function run at 0x0000022765EBB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000227673B8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022765EBC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022765EBC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022765EBF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022765E2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>
          └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022766E32940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022767247B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022767247B80>>
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022766FC6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002276709CDC0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022766EE8040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
                     └ <function get_request_handler.<locals>.app at 0x000002276709CD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000022766F1E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000227699AEEB0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000002276996E9D0>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:14.150 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x00000196EA977280>
              └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x00000196EA977430>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920454.14774
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x00000196EA977670>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000196E79F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000196E79035E0>
           └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000196E7902C10>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000196E9928820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    └ <function subprocess_started at 0x00000196E9910EE0>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000196E7A0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000196E99100D0>
           │       │   └ <uvicorn.server.Server object at 0x00000196E7A0DEE0>
           │       └ <function run at 0x00000196E95AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000196EAAA8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000196E95AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000196E95AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000196E95B04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000196E951C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>
          └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000196EA536790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000196ED03DD90>>
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000196EA7BF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000196EA445B80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000196EA536A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0A60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000196EA536A00>
                     └ <function get_request_handler.<locals>.app at 0x00000196EA445AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x00000196EA615550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000196ED083D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x00000196ED05FA60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:14.201 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x00000196EA977280>
              └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x00000196EA977430>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920454.14774
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x00000196EA977670>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000196E79F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000196E79035E0>
           └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000196E7902C10>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000196E9928820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    └ <function subprocess_started at 0x00000196E9910EE0>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000196E7A0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000196E99100D0>
           │       │   └ <uvicorn.server.Server object at 0x00000196E7A0DEE0>
           │       └ <function run at 0x00000196E95AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000196EAAA8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000196E95AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000196E95AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000196E95B04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000196E951C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>
          └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000196EA536790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000196ED03DD90>>
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000196EA7BF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000196EA445B80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000196EA536A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0A60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000196EA536A00>
                     └ <function get_request_handler.<locals>.app at 0x00000196EA445AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x00000196EA615550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000196ED083D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x00000196ED05FA60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:17.337 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920457.335285
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0B7A26790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:17.374 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920457.335285
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0B7A26790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:22.892 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 257, in _load
    signing_input, crypto_segment = jwt.rsplit(b".", 1)
                                    │   └ <method 'rsplit' of 'bytes' objects>
                                    └ b'121'

ValueError: not enough values to unpack (expected 2, got 1)


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 151, in decode_complete
    decoded = api_jws.decode_complete(
              │       └ <bound method PyJWS.decode_complete of <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>>
              └ <module 'jwt.api_jws' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\api_jws.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 198, in decode_complete
    payload, signing_input, header, signature = self._load(jwt)
                                                │    │     └ '121'
                                                │    └ <function PyJWS._load at 0x000001C0B7E52B80>
                                                └ <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 260, in _load
    raise DecodeError("Not enough segments") from err
          └ <class 'jwt.exceptions.DecodeError'>

jwt.exceptions.DecodeError: Not enough segments


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA73C5B0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA7325E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': '121'}
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ '121'
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 68, in jwt_decode
    raise Exception("Token不合法, 请重新登录")

Exception: Token不合法, 请重新登录
2024-03-09 01:54:22.919 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 257, in _load
    signing_input, crypto_segment = jwt.rsplit(b".", 1)
                                    │   └ <method 'rsplit' of 'bytes' objects>
                                    └ b'121'

ValueError: not enough values to unpack (expected 2, got 1)


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 151, in decode_complete
    decoded = api_jws.decode_complete(
              │       └ <bound method PyJWS.decode_complete of <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>>
              └ <module 'jwt.api_jws' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\api_jws.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 198, in decode_complete
    payload, signing_input, header, signature = self._load(jwt)
                                                │    │     └ '121'
                                                │    └ <function PyJWS._load at 0x000001C0B7E52B80>
                                                └ <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 260, in _load
    raise DecodeError("Not enough segments") from err
          └ <class 'jwt.exceptions.DecodeError'>

jwt.exceptions.DecodeError: Not enough segments


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA73C5B0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA7325E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': '121'}
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ '121'
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 68, in jwt_decode
    raise Exception("Token不合法, 请重新登录")

Exception: Token不合法, 请重新登录
2024-03-09 01:54:25.581 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920465.568024
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74A280>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:25.609 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920465.568024
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74A280>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:55:39.510 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920539.506754
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74AEE0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA74B040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:55:39.539 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920539.506754
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74AEE0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA74B040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 13:04:32.702 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:04:32.705 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:09:51.717 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:09:51.718 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:20:30.736 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:20:30.737 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:41:49.751 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:41:49.752 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 14:11:48.771 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 14:11:48.772 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 14:41:47.788 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 14:41:47.790 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:11:46.835 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:11:46.837 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:41:45.847 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:41:45.848 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:11:44.865 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:11:44.866 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:41:43.889 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:41:43.892 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 17:11:43.419 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 17:11:43.420 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 17:41:42.438 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 17:41:42.439 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:11:41.455 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:11:41.456 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:22.766 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:22.767 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:22.768 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:22.770 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:24.426 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:24.428 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:24.429 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:24.430 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:40.470 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:40.471 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:43.885 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:43.886 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:48.662 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:48.666 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 19:11:39.832 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 19:11:39.833 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 19:41:38.858 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 19:41:38.863 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:11:37.883 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:11:37.887 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:41:36.903 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:41:36.903 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:45:33.734 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:45:33.740 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:56:53.613 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:56:53.614 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 21:11:36.466 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 21:11:36.468 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 21:41:35.486 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 21:41:35.489 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 22:11:34.508 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 22:11:34.510 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 22:14:55.474 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x00000225258294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x00000225257085E0>
           └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022525713C10>
    └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002252583E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>
    │    └ <function subprocess_started at 0x0000022527753EE0>
    └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002252583E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000225277530D0>
           │       │   └ <uvicorn.server.Server object at 0x000002252583E460>
           │       └ <function run at 0x00000225273EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000225288E8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000225273ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000225273ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000225273F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002252735E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002252891DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022528082FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002252891DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002252AE96F40>
          └ <fastapi.applications.FastAPI object at 0x0000022528082FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002252AE96F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002252AE96F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002252AE96EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002252AE96F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002252AEAFDC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002252AE96EB0>
          └ <function wrap_app_handling_exceptions at 0x00000225284DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002252AE1FD60>>
          └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000225284B0D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002252842C940>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002252AEE64F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002252842C0D0>
          └ <function wrap_app_handling_exceptions at 0x00000225284DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CE50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002252842C0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002252AEE64F0>
                     └ <function get_request_handler.<locals>.app at 0x000002252842C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000225284BB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002252AEE6730>}
                 │         └ <function page at 0x00000225282FE040>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022528419400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 66, in page
    users = await UserCRUD.get(db,id=1)
                  │        │   └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002252AEE6730>
                  │        └ <staticmethod object at 0x000002252AE2BD60>
                  └ <class 'app.crud.auth.user.UserCRUD'>

TypeError: get() missing 1 required positional argument: 'schema_to_select'
2024-03-09 22:14:55.571 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x00000225258294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x00000225257085E0>
           └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022525713C10>
    └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002252583E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>
    │    └ <function subprocess_started at 0x0000022527753EE0>
    └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002252583E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000225277530D0>
           │       │   └ <uvicorn.server.Server object at 0x000002252583E460>
           │       └ <function run at 0x00000225273EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000225288E8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000225273ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000225273ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000225273F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002252735E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002252891DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022528082FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002252891DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002252AE96F40>
          └ <fastapi.applications.FastAPI object at 0x0000022528082FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002252AE96F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002252AE96F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002252AE96EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002252AE96F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002252AEAFDC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002252AE96EB0>
          └ <function wrap_app_handling_exceptions at 0x00000225284DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002252AE1FD60>>
          └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000225284B0D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002252842C940>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002252AEE64F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002252842C0D0>
          └ <function wrap_app_handling_exceptions at 0x00000225284DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CE50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002252842C0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002252AEE64F0>
                     └ <function get_request_handler.<locals>.app at 0x000002252842C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000225284BB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002252AEE6730>}
                 │         └ <function page at 0x00000225282FE040>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022528419400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 66, in page
    users = await UserCRUD.get(db,id=1)
                  │        │   └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002252AEE6730>
                  │        └ <staticmethod object at 0x000002252AE2BD60>
                  └ <class 'app.crud.auth.user.UserCRUD'>

TypeError: get() missing 1 required positional argument: 'schema_to_select'
2024-03-09 22:27:34.527 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000027C767C94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000027C766985E0>
           └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000027C766A3C10>
    └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000027C767DE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>
    │    └ <function subprocess_started at 0x0000027C786F3EE0>
    └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000027C767DE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000027C786F30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000027C767DE460>
           │       └ <function run at 0x0000027C7838C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000027C79888340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000027C7838D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000027C7838D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000027C783914C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000027C782FE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027C798BAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027C79022FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027C798BAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027C7BE4C220>
          └ <fastapi.applications.FastAPI object at 0x0000027C79022FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027C7BE4C130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027C7BE4C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027C7BE38F70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027C7BE4C130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000027C7BEBAF70>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027C7BE38F70>
          └ <function wrap_app_handling_exceptions at 0x0000027C7949D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>>
          └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000027C7944BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000027C793AD820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000027C7BE4CB80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000027C793ADCA0>
          └ <function wrap_app_handling_exceptions at 0x0000027C7949D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7921B1F0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000027C793ADCA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000027C7BE4CB80>
                     └ <function get_request_handler.<locals>.app at 0x0000027C793AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000027C7944A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000027C7BE4CA30>}
                 │         └ <function page at 0x0000027C7BE27EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000027C793B73D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 67, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user.User object at 0x0000027C7BEE30A0>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x0000027C79572820>
    │           └ <app.utils.responses.SuccessExtra object at 0x0000027C7BE87340>
    └ <app.utils.responses.SuccessExtra object at 0x0000027C7BE87340>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x0000027C78452DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x0000027C78452D30>
             └ <json.encoder.JSONEncoder object at 0x0000027C7BEBAE50>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x0000027C7BEE5820>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:27:34.625 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000027C767C94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000027C766985E0>
           └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000027C766A3C10>
    └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000027C767DE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>
    │    └ <function subprocess_started at 0x0000027C786F3EE0>
    └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000027C767DE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000027C786F30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000027C767DE460>
           │       └ <function run at 0x0000027C7838C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000027C79888340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000027C7838D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000027C7838D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000027C783914C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000027C782FE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027C798BAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027C79022FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027C798BAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027C7BE4C220>
          └ <fastapi.applications.FastAPI object at 0x0000027C79022FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027C7BE4C130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027C7BE4C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027C7BE38F70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027C7BE4C130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000027C7BEBAF70>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027C7BE38F70>
          └ <function wrap_app_handling_exceptions at 0x0000027C7949D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>>
          └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000027C7944BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000027C793AD820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000027C7BE4CB80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000027C793ADCA0>
          └ <function wrap_app_handling_exceptions at 0x0000027C7949D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7921B1F0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000027C793ADCA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000027C7BE4CB80>
                     └ <function get_request_handler.<locals>.app at 0x0000027C793AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000027C7944A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000027C7BE4CA30>}
                 │         └ <function page at 0x0000027C7BE27EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000027C793B73D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 67, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user.User object at 0x0000027C7BEE30A0>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x0000027C79572820>
    │           └ <app.utils.responses.SuccessExtra object at 0x0000027C7BE87340>
    └ <app.utils.responses.SuccessExtra object at 0x0000027C7BE87340>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x0000027C78452DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x0000027C78452D30>
             └ <json.encoder.JSONEncoder object at 0x0000027C7BEBAE50>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x0000027C7BEE5820>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:05.139 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 404
               │     └ 3
               └ <function _main at 0x0000020292A294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 404
           │    └ <function BaseProcess._bootstrap at 0x00000202929285E0>
           └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000020292933C10>
    └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000020292A3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>
    │    └ <function subprocess_started at 0x0000020294944EE0>
    └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000020292A3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000202949440D0>
           │       │   └ <uvicorn.server.Server object at 0x0000020292A3E460>
           │       └ <function run at 0x00000202945DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000020295ADB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000202945DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000202945DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000202945E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002029454E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020295B13AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000020295272FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020295B13AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020298098250>
          └ <fastapi.applications.FastAPI object at 0x0000020295272FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000202980981F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020298098250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020298085EE0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000202980981F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000202980D7040>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002029800FA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020298085EE0>
          └ <function wrap_app_handling_exceptions at 0x00000202956EE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002029800FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002029800FA00>>
          └ <fastapi.routing.APIRouter object at 0x000002029800FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002029569FD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000202955FD820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000202980D72B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000202955FD940>
          └ <function wrap_app_handling_exceptions at 0x00000202956EE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FDDC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000202955FD940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000202980D72B0>
                     └ <function get_request_handler.<locals>.app at 0x00000202955FD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000202956928B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000202980D7640>}
                 │         └ <function page at 0x0000020298076EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000020295608400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user.User object at 0x0000020298111A90>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x00000202957B3820>
    │           └ <app.utils.responses.SuccessExtra object at 0x00000202980D7E20>
    └ <app.utils.responses.SuccessExtra object at 0x00000202980D7E20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x00000202946A1DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x00000202946A1D30>
             └ <json.encoder.JSONEncoder object at 0x00000202980D7DF0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x00000202980E7D60>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:05.176 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 404
               │     └ 3
               └ <function _main at 0x0000020292A294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 404
           │    └ <function BaseProcess._bootstrap at 0x00000202929285E0>
           └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000020292933C10>
    └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000020292A3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>
    │    └ <function subprocess_started at 0x0000020294944EE0>
    └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000020292A3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000202949440D0>
           │       │   └ <uvicorn.server.Server object at 0x0000020292A3E460>
           │       └ <function run at 0x00000202945DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000020295ADB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000202945DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000202945DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000202945E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002029454E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020295B13AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000020295272FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020295B13AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020298098250>
          └ <fastapi.applications.FastAPI object at 0x0000020295272FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000202980981F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020298098250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020298085EE0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000202980981F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000202980D7040>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002029800FA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020298085EE0>
          └ <function wrap_app_handling_exceptions at 0x00000202956EE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002029800FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002029800FA00>>
          └ <fastapi.routing.APIRouter object at 0x000002029800FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002029569FD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000202955FD820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000202980D72B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000202955FD940>
          └ <function wrap_app_handling_exceptions at 0x00000202956EE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FDDC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000202955FD940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000202980D72B0>
                     └ <function get_request_handler.<locals>.app at 0x00000202955FD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000202956928B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000202980D7640>}
                 │         └ <function page at 0x0000020298076EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000020295608400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user.User object at 0x0000020298111A90>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x00000202957B3820>
    │           └ <app.utils.responses.SuccessExtra object at 0x00000202980D7E20>
    └ <app.utils.responses.SuccessExtra object at 0x00000202980D7E20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x00000202946A1DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x00000202946A1D30>
             └ <json.encoder.JSONEncoder object at 0x00000202980D7DF0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x00000202980E7D60>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:31.484 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 364
               │     └ 3
               └ <function _main at 0x000001F964D994C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 364
           │    └ <function BaseProcess._bootstrap at 0x000001F964C885E0>
           └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F964C93C10>
    └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F964DAE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>
    │    └ <function subprocess_started at 0x000001F966CC4EE0>
    └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F964DAE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F966CC40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F964DAE460>
           │       └ <function run at 0x000001F96695C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F967E58340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F96695D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F96695D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F9669604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F9668CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F967E8FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F9675F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F967E8FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F96A4281F0>
          └ <fastapi.applications.FastAPI object at 0x000001F9675F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F96A415EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F96A4281F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F96A415FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F96A415EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F96A467040>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F96A415FA0>
          └ <function wrap_app_handling_exceptions at 0x000001F967A4B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F96A39FA00>>
          └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F967A25D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F96799C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F96A4672B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F96799C940>
          └ <function wrap_app_handling_exceptions at 0x000001F967A4B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799CCA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F96799C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F96A4672B0>
                     └ <function get_request_handler.<locals>.app at 0x000001F96799C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001F967A268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001F96A467640>}
                 │         └ <function page at 0x000001F96A406EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001F967985400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 6
           │                 └ [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user.User object at 0x000001F96A4A1A90>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x000001F967B34820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001F96A467E20>
    └ <app.utils.responses.SuccessExtra object at 0x000001F96A467E20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001F966A22DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x000001F966A22D30>
             └ <json.encoder.JSONEncoder object at 0x000001F96A467DF0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x000001F96A477CA0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:31.519 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 364
               │     └ 3
               └ <function _main at 0x000001F964D994C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 364
           │    └ <function BaseProcess._bootstrap at 0x000001F964C885E0>
           └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F964C93C10>
    └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F964DAE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>
    │    └ <function subprocess_started at 0x000001F966CC4EE0>
    └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F964DAE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F966CC40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F964DAE460>
           │       └ <function run at 0x000001F96695C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F967E58340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F96695D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F96695D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F9669604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F9668CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F967E8FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F9675F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F967E8FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F96A4281F0>
          └ <fastapi.applications.FastAPI object at 0x000001F9675F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F96A415EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F96A4281F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F96A415FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F96A415EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F96A467040>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F96A415FA0>
          └ <function wrap_app_handling_exceptions at 0x000001F967A4B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F96A39FA00>>
          └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F967A25D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F96799C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F96A4672B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F96799C940>
          └ <function wrap_app_handling_exceptions at 0x000001F967A4B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799CCA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F96799C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F96A4672B0>
                     └ <function get_request_handler.<locals>.app at 0x000001F96799C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001F967A268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001F96A467640>}
                 │         └ <function page at 0x000001F96A406EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001F967985400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 6
           │                 └ [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user.User object at 0x000001F96A4A1A90>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x000001F967B34820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001F96A467E20>
    └ <app.utils.responses.SuccessExtra object at 0x000001F96A467E20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001F966A22DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x000001F966A22D30>
             └ <json.encoder.JSONEncoder object at 0x000001F96A467DF0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x000001F96A477CA0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:52.587 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x00000281533D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x00000281532A85E0>
           └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000281532B3C10>
    └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000281533EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>
    │    └ <function subprocess_started at 0x0000028155304EE0>
    └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=756, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000281533EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=756, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000281553040D0>
           │       │   └ <uvicorn.server.Server object at 0x00000281533EE460>
           │       └ <function run at 0x0000028154F9C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000028156499340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000028154F9D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000028154F9D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000028154FA04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000028154F0E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000281564CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000028155C32FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000281564CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028158A46A30>
          └ <fastapi.applications.FastAPI object at 0x0000028155C32FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028158A46F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028158A46A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028158A46FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028158A46F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000028158A60E20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028158A46FA0>
          └ <function wrap_app_handling_exceptions at 0x0000028156084790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000281589CFA00>>
          └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002815605DD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000028155FC0820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000028158A60FA0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000028155FC08B0>
          └ <function wrap_app_handling_exceptions at 0x0000028156084790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000028155FC08B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000028158A60FA0>
                     └ <function get_request_handler.<locals>.app at 0x0000028155FC0790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002815606B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000028158A97430>}
                 │         └ <function page at 0x0000028158A36EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000028155FC5400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 69, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user.User object at 0x0000028158AD2880>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x0000028156171820>
    │           └ <app.utils.responses.SuccessExtra object at 0x0000028158A97D60>
    └ <app.utils.responses.SuccessExtra object at 0x0000028158A97D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x0000028155061DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x0000028155061D30>
             └ <json.encoder.JSONEncoder object at 0x0000028158A97C70>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x0000028158AD4700>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:52.627 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x00000281533D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x00000281532A85E0>
           └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000281532B3C10>
    └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000281533EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>
    │    └ <function subprocess_started at 0x0000028155304EE0>
    └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=756, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000281533EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=756, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000281553040D0>
           │       │   └ <uvicorn.server.Server object at 0x00000281533EE460>
           │       └ <function run at 0x0000028154F9C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000028156499340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000028154F9D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000028154F9D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000028154FA04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000028154F0E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000281564CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000028155C32FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000281564CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028158A46A30>
          └ <fastapi.applications.FastAPI object at 0x0000028155C32FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028158A46F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028158A46A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028158A46FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028158A46F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000028158A60E20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028158A46FA0>
          └ <function wrap_app_handling_exceptions at 0x0000028156084790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000281589CFA00>>
          └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002815605DD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000028155FC0820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000028158A60FA0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000028155FC08B0>
          └ <function wrap_app_handling_exceptions at 0x0000028156084790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000028155FC08B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000028158A60FA0>
                     └ <function get_request_handler.<locals>.app at 0x0000028155FC0790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002815606B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000028158A97430>}
                 │         └ <function page at 0x0000028158A36EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000028155FC5400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 69, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user.User object at 0x0000028158AD2880>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x0000028156171820>
    │           └ <app.utils.responses.SuccessExtra object at 0x0000028158A97D60>
    └ <app.utils.responses.SuccessExtra object at 0x0000028158A97D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x0000028155061DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x0000028155061D30>
             └ <json.encoder.JSONEncoder object at 0x0000028158A97C70>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x0000028158AD4700>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:41:33.524 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 22:41:33.526 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 22:53:52.162 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000001C5690594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000001C568F585E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C568F63C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C56906E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>
    │    └ <function subprocess_started at 0x000001C56AF73EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=824, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C56906E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=824, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C56AF730D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C56906E460>
           │       └ <function run at 0x000001C56AC0C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C56C109340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C56AC0D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C56AC0D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C56AC104C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C56AB7E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C56C13FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C56B8A2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C56C13FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C56E6D3250>
          └ <fastapi.applications.FastAPI object at 0x000001C56B8A2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C56E6C7EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C56E6D3250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C56E6C7FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C56E6C7EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C56E6D3D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C56E6C7FD0>
          └ <function wrap_app_handling_exceptions at 0x000001C56BD1E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C56E64EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C56BCCBD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C56BC49820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C56E6D3F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C56BC499D0>
          └ <function wrap_app_handling_exceptions at 0x000001C56BD1E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56E6B69D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C56BC499D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C56E6D3F70>
                     └ <function get_request_handler.<locals>.app at 0x000001C56BC49790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001C56BCC28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C56E6F3430>}
                 │         └ <function page at 0x000001C56E6B6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001C56BC36400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001C56BDE4820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001C56E6D3070>
    └ <app.utils.responses.SuccessExtra object at 0x000001C56E6D3070>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001C56ACD1DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001C56ACD1D30>
             └ <json.encoder.JSONEncoder object at 0x000001C56E7147C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001C56E747D00>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:53:52.209 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000001C5690594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000001C568F585E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C568F63C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C56906E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>
    │    └ <function subprocess_started at 0x000001C56AF73EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=824, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C56906E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=824, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C56AF730D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C56906E460>
           │       └ <function run at 0x000001C56AC0C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C56C109340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C56AC0D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C56AC0D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C56AC104C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C56AB7E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C56C13FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C56B8A2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C56C13FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C56E6D3250>
          └ <fastapi.applications.FastAPI object at 0x000001C56B8A2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C56E6C7EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C56E6D3250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C56E6C7FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C56E6C7EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C56E6D3D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C56E6C7FD0>
          └ <function wrap_app_handling_exceptions at 0x000001C56BD1E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C56E64EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C56BCCBD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C56BC49820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C56E6D3F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C56BC499D0>
          └ <function wrap_app_handling_exceptions at 0x000001C56BD1E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56E6B69D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C56BC499D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C56E6D3F70>
                     └ <function get_request_handler.<locals>.app at 0x000001C56BC49790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001C56BCC28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C56E6F3430>}
                 │         └ <function page at 0x000001C56E6B6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001C56BC36400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001C56BDE4820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001C56E6D3070>
    └ <app.utils.responses.SuccessExtra object at 0x000001C56E6D3070>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001C56ACD1DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001C56ACD1D30>
             └ <json.encoder.JSONEncoder object at 0x000001C56E7147C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001C56E747D00>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:54:32.314 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x000001BF8FAD94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x000001BF8F8D45E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001BF8F8D3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001BF8FAEE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    └ <function subprocess_started at 0x000001BF91A03EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001BF8FAEE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001BF91A030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001BF8FAEE460>
           │       └ <function run at 0x000001BF9169C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001BF92B98340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001BF9169D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001BF9169D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001BF916A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001BF9160E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>
          └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001BF95162DC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001BF950CEA00>>
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001BF9275BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001BF926DB820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001BF95162FD0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001BF926DB8B0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DBC10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001BF926DB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001BF95162FD0>
                     └ <function get_request_handler.<locals>.app at 0x000001BF926DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001BF9275A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001BF95197400>}
                 │         └ <function page at 0x000001BF95136EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001BF926CA3D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001BF92882820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001BF951AAFD0>
    └ <app.utils.responses.SuccessExtra object at 0x000001BF951AAFD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001BF91761DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001BF91761D30>
             └ <json.encoder.JSONEncoder object at 0x000001BF95197BB0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001BF951C2B20>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:54:32.371 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x000001BF8FAD94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x000001BF8F8D45E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001BF8F8D3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001BF8FAEE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    └ <function subprocess_started at 0x000001BF91A03EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001BF8FAEE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001BF91A030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001BF8FAEE460>
           │       └ <function run at 0x000001BF9169C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001BF92B98340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001BF9169D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001BF9169D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001BF916A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001BF9160E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>
          └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001BF95162DC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001BF950CEA00>>
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001BF9275BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001BF926DB820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001BF95162FD0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001BF926DB8B0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DBC10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001BF926DB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001BF95162FD0>
                     └ <function get_request_handler.<locals>.app at 0x000001BF926DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001BF9275A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001BF95197400>}
                 │         └ <function page at 0x000001BF95136EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001BF926CA3D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001BF92882820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001BF951AAFD0>
    └ <app.utils.responses.SuccessExtra object at 0x000001BF951AAFD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001BF91761DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001BF91761D30>
             └ <json.encoder.JSONEncoder object at 0x000001BF95197BB0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001BF951C2B20>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:55:18.763 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x000001BF8FAD94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x000001BF8F8D45E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001BF8F8D3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001BF8FAEE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    └ <function subprocess_started at 0x000001BF91A03EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001BF8FAEE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>]
           │       │   │    └ <function Server.serve at 0x000001BF91A030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001BF8FAEE460>
           │       └ <function run at 0x000001BF9169C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001BF92B98340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001BF9169D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001BF9169D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001BF916A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001BF9160E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>
          └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001BF951C4430>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001BF950CEA00>>
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001BF9275BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001BF926DB820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001BF951C4670>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001BF95328DC0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001BF95328DC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001BF951C4670>
                     └ <function get_request_handler.<locals>.app at 0x000001BF926DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001BF9275A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001BF951C4A60>}
                 │         └ <function page at 0x000001BF95136EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001BF926CA3D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001BF92882820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001BF951AA3D0>
    └ <app.utils.responses.SuccessExtra object at 0x000001BF951AA3D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001BF91761DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001BF91761D30>
             └ <json.encoder.JSONEncoder object at 0x000001BF951C4C70>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001BF9533ACA0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:55:18.791 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x000001BF8FAD94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x000001BF8F8D45E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001BF8F8D3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001BF8FAEE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    └ <function subprocess_started at 0x000001BF91A03EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001BF8FAEE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>]
           │       │   │    └ <function Server.serve at 0x000001BF91A030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001BF8FAEE460>
           │       └ <function run at 0x000001BF9169C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001BF92B98340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001BF9169D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001BF9169D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001BF916A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001BF9160E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>
          └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001BF951C4430>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001BF950CEA00>>
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001BF9275BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001BF926DB820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001BF951C4670>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001BF95328DC0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001BF95328DC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001BF951C4670>
                     └ <function get_request_handler.<locals>.app at 0x000001BF926DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001BF9275A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001BF951C4A60>}
                 │         └ <function page at 0x000001BF95136EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001BF926CA3D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001BF92882820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001BF951AA3D0>
    └ <app.utils.responses.SuccessExtra object at 0x000001BF951AA3D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001BF91761DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001BF91761D30>
             └ <json.encoder.JSONEncoder object at 0x000001BF951C4C70>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001BF9533ACA0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:58:53.245 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x000001DBCA0A84C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x000001DBC9F885E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DBC9F93C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DBCA0BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DBCBFD3EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DBCA0BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DBCBFD30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DBCA0BE460>
           │       └ <function run at 0x000001DBCBC6C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DBCD168340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DBCBC6D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DBCBC6D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DBCBC704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DBCBBDE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>
          └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DBCF727D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>>
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DBCCD28D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DBCCCAA820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DBCF727F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCCAA9D0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCF7089D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCCAA9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DBCF727F70>
                     └ <function get_request_handler.<locals>.app at 0x000001DBCCCAA790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DBCCD3A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DBCF743430>}
                 │         └ <function page at 0x000001DBCF708EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DBCCC99400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: list_user, total: total}
            │     │          │      └ 0
            │     │          └ 0
            │     └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:58:53.275 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x000001DBCA0A84C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x000001DBC9F885E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DBC9F93C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DBCA0BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DBCBFD3EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DBCA0BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DBCBFD30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DBCA0BE460>
           │       └ <function run at 0x000001DBCBC6C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DBCD168340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DBCBC6D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DBCBC6D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DBCBC704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DBCBBDE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>
          └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DBCF727D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>>
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DBCCD28D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DBCCCAA820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DBCF727F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCCAA9D0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCF7089D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCCAA9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DBCF727F70>
                     └ <function get_request_handler.<locals>.app at 0x000001DBCCCAA790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DBCCD3A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DBCF743430>}
                 │         └ <function page at 0x000001DBCF708EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DBCCC99400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: list_user, total: total}
            │     │          │      └ 0
            │     │          └ 0
            │     └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:58:58.105 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x000001DBCA0A84C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x000001DBC9F885E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DBC9F93C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DBCA0BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DBCBFD3EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DBCA0BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DBCBFD30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DBCA0BE460>
           │       └ <function run at 0x000001DBCBC6C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DBCD168340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DBCBC6D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DBCBC6D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DBCBC704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DBCBBDE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>
          └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DBCF786520>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>>
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DBCCD28D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DBCCCAA820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DBCF786730>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCAF4310>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCF8E9A60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCAF4310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DBCF786730>
                     └ <function get_request_handler.<locals>.app at 0x000001DBCCCAA790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DBCCD3A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DBCF786BE0>}
                 │         └ <function page at 0x000001DBCF708EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DBCCC99400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: list_user, total: total}
            │     │          │      └ 0
            │     │          └ 0
            │     └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:58:58.124 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x000001DBCA0A84C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x000001DBC9F885E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DBC9F93C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DBCA0BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DBCBFD3EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DBCA0BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DBCBFD30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DBCA0BE460>
           │       └ <function run at 0x000001DBCBC6C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DBCD168340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DBCBC6D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DBCBC6D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DBCBC704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DBCBBDE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>
          └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DBCF786520>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>>
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DBCCD28D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DBCCCAA820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DBCF786730>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCAF4310>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCF8E9A60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCAF4310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DBCF786730>
                     └ <function get_request_handler.<locals>.app at 0x000001DBCCCAA790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DBCCD3A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DBCF786BE0>}
                 │         └ <function page at 0x000001DBCF708EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DBCCC99400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: list_user, total: total}
            │     │          │      └ 0
            │     │          └ 0
            │     └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:59:22.838 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000025AD2B294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000025AD2A085E0>
           └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025AD2A13C10>
    └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025AD2B3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>
    │    └ <function subprocess_started at 0x0000025AD4A54EE0>
    └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=452, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000025AD2B3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=452, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000025AD4A540D0>
           │       │   └ <uvicorn.server.Server object at 0x0000025AD2B3E460>
           │       └ <function run at 0x0000025AD46EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000025AD5BEB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000025AD46ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025AD46ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025AD46F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025AD465E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025AD5C1EAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000025AD5382FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025AD5C1EAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025AD8195A60>
          └ <fastapi.applications.FastAPI object at 0x0000025AD5382FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025AD8195F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025AD8195A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025AD8195FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025AD8195F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000025AD81B1BB0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025AD8195FA0>
          └ <function wrap_app_handling_exceptions at 0x0000025AD57D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000025AD816B310>>
          └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000025AD57ADD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000025AD570D820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000025AD81D8250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000025AD570D040>
          └ <function wrap_app_handling_exceptions at 0x0000025AD57D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000025AD570D040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025AD81D8250>
                     └ <function get_request_handler.<locals>.app at 0x0000025AD570D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000025AD57B78B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025AD81D8610>}
                 │         └ <function page at 0x0000025AD8186EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000025AD5718400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: str(list_user), total: total}
            │         │           │      └ 0
            │         │           └ 0
            │         └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:59:22.890 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000025AD2B294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000025AD2A085E0>
           └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025AD2A13C10>
    └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025AD2B3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>
    │    └ <function subprocess_started at 0x0000025AD4A54EE0>
    └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=452, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000025AD2B3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=452, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000025AD4A540D0>
           │       │   └ <uvicorn.server.Server object at 0x0000025AD2B3E460>
           │       └ <function run at 0x0000025AD46EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000025AD5BEB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000025AD46ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025AD46ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025AD46F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025AD465E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025AD5C1EAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000025AD5382FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025AD5C1EAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025AD8195A60>
          └ <fastapi.applications.FastAPI object at 0x0000025AD5382FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025AD8195F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025AD8195A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025AD8195FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025AD8195F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000025AD81B1BB0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025AD8195FA0>
          └ <function wrap_app_handling_exceptions at 0x0000025AD57D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000025AD816B310>>
          └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000025AD57ADD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000025AD570D820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000025AD81D8250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000025AD570D040>
          └ <function wrap_app_handling_exceptions at 0x0000025AD57D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000025AD570D040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025AD81D8250>
                     └ <function get_request_handler.<locals>.app at 0x0000025AD570D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000025AD57B78B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025AD81D8610>}
                 │         └ <function page at 0x0000025AD8186EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000025AD5718400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: str(list_user), total: total}
            │         │           │      └ 0
            │         │           └ 0
            │         └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:59:54.755 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000002A40D9594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000002A40D7485E0>
           └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A40D753C10>
    └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A40D96E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>
    │    └ <function subprocess_started at 0x000002A40F885EE0>
    └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=584, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A40D96E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=584, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002A40F8850D0>
           │       │   └ <uvicorn.server.Server object at 0x000002A40D96E460>
           │       └ <function run at 0x000002A40F51C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A410A18340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A40F51D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A40F51D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A40F5204C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A40F48E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A410A4AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A4101B2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A410A4AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A412FE7250>
          └ <fastapi.applications.FastAPI object at 0x000002A4101B2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A412FD7EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A412FE7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A412FD7FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A412FD7EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002A412FE7D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A412FD7FA0>
          └ <function wrap_app_handling_exceptions at 0x000002A41060B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002A412F5DA30>>
          └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002A4105E3D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002A41055C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002A412FE7F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002A41055C9D0>
          └ <function wrap_app_handling_exceptions at 0x000002A41060B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A412FC89D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002A41055C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A412FE7F70>
                     └ <function get_request_handler.<locals>.app at 0x000002A41055C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002A4105E78B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002A413003430>}
                 │         └ <function page at 0x000002A412FC8EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002A410545400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data, total: total}
            │     │     │      └ 5
            │     │     └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 22:59:54.798 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000002A40D9594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000002A40D7485E0>
           └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A40D753C10>
    └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A40D96E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>
    │    └ <function subprocess_started at 0x000002A40F885EE0>
    └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=584, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A40D96E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=584, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002A40F8850D0>
           │       │   └ <uvicorn.server.Server object at 0x000002A40D96E460>
           │       └ <function run at 0x000002A40F51C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A410A18340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A40F51D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A40F51D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A40F5204C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A40F48E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A410A4AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A4101B2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A410A4AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A412FE7250>
          └ <fastapi.applications.FastAPI object at 0x000002A4101B2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A412FD7EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A412FE7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A412FD7FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A412FD7EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002A412FE7D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A412FD7FA0>
          └ <function wrap_app_handling_exceptions at 0x000002A41060B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002A412F5DA30>>
          └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002A4105E3D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002A41055C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002A412FE7F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002A41055C9D0>
          └ <function wrap_app_handling_exceptions at 0x000002A41060B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A412FC89D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002A41055C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A412FE7F70>
                     └ <function get_request_handler.<locals>.app at 0x000002A41055C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002A4105E78B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002A413003430>}
                 │         └ <function page at 0x000002A412FC8EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002A410545400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data, total: total}
            │     │     │      └ 5
            │     │     └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:00:15.015 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 404
               │     └ 3
               └ <function _main at 0x00000235AAE394C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 404
           │    └ <function BaseProcess._bootstrap at 0x00000235AAD285E0>
           └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000235AAD33C10>
    └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000235AAE4E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>
    │    └ <function subprocess_started at 0x00000235ACD63EE0>
    └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=488, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000235AAE4E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=488, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000235ACD630D0>
           │       │   └ <uvicorn.server.Server object at 0x00000235AAE4E460>
           │       └ <function run at 0x00000235AC9FC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000235ADEF6340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000235AC9FD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000235AC9FD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000235ACA004C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000235AC96E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000235ADF2DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000235AD692FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000235ADF2DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000235B04B72B0>
          └ <fastapi.applications.FastAPI object at 0x00000235AD692FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000235B04A7F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000235B04B72B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000235B04A7EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000235B04A7F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000235B04B7E20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000235B04A7EB0>
          └ <function wrap_app_handling_exceptions at 0x00000235ADAE4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000235B042EA00>>
          └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000235ADABDD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000235ADA1C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000235B04B7190>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000235ADA1C9D0>
          └ <function wrap_app_handling_exceptions at 0x00000235ADAE4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235B04969D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000235ADA1C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000235B04B7190>
                     └ <function get_request_handler.<locals>.app at 0x00000235ADA1C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000235ADACB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000235B04D3430>}
                 │         └ <function page at 0x00000235B0496EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000235ADA26400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: str(data), total: total}
            │         │      │      └ 5
            │         │      └ 5
            │         └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:00:15.050 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 404
               │     └ 3
               └ <function _main at 0x00000235AAE394C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 404
           │    └ <function BaseProcess._bootstrap at 0x00000235AAD285E0>
           └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000235AAD33C10>
    └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000235AAE4E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>
    │    └ <function subprocess_started at 0x00000235ACD63EE0>
    └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=488, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000235AAE4E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=488, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000235ACD630D0>
           │       │   └ <uvicorn.server.Server object at 0x00000235AAE4E460>
           │       └ <function run at 0x00000235AC9FC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000235ADEF6340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000235AC9FD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000235AC9FD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000235ACA004C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000235AC96E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000235ADF2DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000235AD692FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000235ADF2DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000235B04B72B0>
          └ <fastapi.applications.FastAPI object at 0x00000235AD692FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000235B04A7F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000235B04B72B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000235B04A7EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000235B04A7F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000235B04B7E20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000235B04A7EB0>
          └ <function wrap_app_handling_exceptions at 0x00000235ADAE4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000235B042EA00>>
          └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000235ADABDD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000235ADA1C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000235B04B7190>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000235ADA1C9D0>
          └ <function wrap_app_handling_exceptions at 0x00000235ADAE4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235B04969D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000235ADA1C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000235B04B7190>
                     └ <function get_request_handler.<locals>.app at 0x00000235ADA1C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000235ADACB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000235B04D3430>}
                 │         └ <function page at 0x00000235B0496EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000235ADA26400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: str(data), total: total}
            │         │      │      └ 5
            │         │      └ 5
            │         └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:08.048 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x00000204A50594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x00000204A4F385E0>
           └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000204A4F43C10>
    └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000204A506E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>
    │    └ <function subprocess_started at 0x00000204A6F84EE0>
    └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000204A506E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000204A6F840D0>
           │       │   └ <uvicorn.server.Server object at 0x00000204A506E460>
           │       └ <function run at 0x00000204A6C1C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000204A8118340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000204A6C1D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000204A6C1D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000204A6C214C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000204A6B8E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000204A814DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000204A78B2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000204A814DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000204AA6C8A30>
          └ <fastapi.applications.FastAPI object at 0x00000204A78B2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000204AA6C8F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000204AA6C8A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000204AA6C8F70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000204AA6C8F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000204AA6E2B80>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000204AA6C8F70>
          └ <function wrap_app_handling_exceptions at 0x00000204A7D0B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000204AA64EA00>>
          └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000204A7CDBD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000204A7C3C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000204AA6E2DF0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000204A7C3C040>
          └ <function wrap_app_handling_exceptions at 0x00000204A7D0B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000204A7C3C040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000204AA6E2DF0>
                     └ <function get_request_handler.<locals>.app at 0x00000204A7C3C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000204A7CEA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000204AA6F2220>}
                 │         └ <function page at 0x00000204AA6B6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000204A7C49400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:08.093 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x00000204A50594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x00000204A4F385E0>
           └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000204A4F43C10>
    └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000204A506E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>
    │    └ <function subprocess_started at 0x00000204A6F84EE0>
    └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000204A506E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000204A6F840D0>
           │       │   └ <uvicorn.server.Server object at 0x00000204A506E460>
           │       └ <function run at 0x00000204A6C1C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000204A8118340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000204A6C1D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000204A6C1D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000204A6C214C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000204A6B8E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000204A814DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000204A78B2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000204A814DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000204AA6C8A30>
          └ <fastapi.applications.FastAPI object at 0x00000204A78B2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000204AA6C8F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000204AA6C8A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000204AA6C8F70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000204AA6C8F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000204AA6E2B80>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000204AA6C8F70>
          └ <function wrap_app_handling_exceptions at 0x00000204A7D0B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000204AA64EA00>>
          └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000204A7CDBD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000204A7C3C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000204AA6E2DF0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000204A7C3C040>
          └ <function wrap_app_handling_exceptions at 0x00000204A7D0B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000204A7C3C040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000204AA6E2DF0>
                     └ <function get_request_handler.<locals>.app at 0x00000204A7C3C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000204A7CEA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000204AA6F2220>}
                 │         └ <function page at 0x00000204AA6B6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000204A7C49400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:24.503 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF1CFD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A4FFF57280>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4FD480940>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD480CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4FD480940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A4FFF57280>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A4FFF57610>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:24.541 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF1CFD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A4FFF57280>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4FD480940>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD480CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4FD480940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A4FFF57280>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A4FFF57610>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:26.181 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF85670>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A4FFF858B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9820>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E98B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A4FFF858B0>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A4FFF85D60>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:26.208 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF85670>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A4FFF858B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9820>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E98B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A4FFF858B0>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A4FFF85D60>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:27.063 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF6DC70>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A48010F190>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9E50>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A48010F190>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A48010F910>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:27.091 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF6DC70>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A48010F190>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9E50>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A48010F190>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A48010F910>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:02:02.677 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000023ABD6E94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000023ABD5C85E0>
           └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000023ABD5D3C10>
    └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000023ABD6FE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>
    │    └ <function subprocess_started at 0x0000023ABF613EE0>
    └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000023ABD6FE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000023ABF6130D0>
           │       │   └ <uvicorn.server.Server object at 0x0000023ABD6FE460>
           │       └ <function run at 0x0000023ABF2AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000023AC07A8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000023ABF2AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000023ABF2AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000023ABF2B04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000023ABF21E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023AC07DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000023ABFF42FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023AC07DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000023AC2D682B0>
          └ <fastapi.applications.FastAPI object at 0x0000023ABFF42FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000023AC2D57EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000023AC2D682B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000023AC2D57FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000023AC2D57EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000023AC2D68DF0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000023AC2D57FA0>
          └ <function wrap_app_handling_exceptions at 0x0000023AC039B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>>
          └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000023AC0373D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000023AC02EC820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000023AC2D68FD0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000023AC02EC9D0>
          └ <function wrap_app_handling_exceptions at 0x0000023AC039B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC2D479D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000023AC02EC9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000023AC2D68FD0>
                     └ <function get_request_handler.<locals>.app at 0x0000023AC02EC790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000023AC03768B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000023AC2D83430>}
                 │         └ <function page at 0x0000023AC2D47EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000023AC02CE400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data, total: total}
            │     │     │      └ 5
            │     │     └ 5
            │     └ {'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': '...
            └ {'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': '...

TypeError: unhashable type: 'dict'
2024-03-09 23:02:02.722 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000023ABD6E94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000023ABD5C85E0>
           └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000023ABD5D3C10>
    └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000023ABD6FE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>
    │    └ <function subprocess_started at 0x0000023ABF613EE0>
    └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000023ABD6FE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000023ABF6130D0>
           │       │   └ <uvicorn.server.Server object at 0x0000023ABD6FE460>
           │       └ <function run at 0x0000023ABF2AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000023AC07A8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000023ABF2AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000023ABF2AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000023ABF2B04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000023ABF21E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023AC07DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000023ABFF42FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023AC07DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000023AC2D682B0>
          └ <fastapi.applications.FastAPI object at 0x0000023ABFF42FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000023AC2D57EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000023AC2D682B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000023AC2D57FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000023AC2D57EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000023AC2D68DF0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000023AC2D57FA0>
          └ <function wrap_app_handling_exceptions at 0x0000023AC039B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>>
          └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000023AC0373D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000023AC02EC820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000023AC2D68FD0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000023AC02EC9D0>
          └ <function wrap_app_handling_exceptions at 0x0000023AC039B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC2D479D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000023AC02EC9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000023AC2D68FD0>
                     └ <function get_request_handler.<locals>.app at 0x0000023AC02EC790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000023AC03768B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000023AC2D83430>}
                 │         └ <function page at 0x0000023AC2D47EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000023AC02CE400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data, total: total}
            │     │     │      └ 5
            │     │     └ 5
            │     └ {'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': '...
            └ {'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': '...

TypeError: unhashable type: 'dict'
2024-03-09 23:11:33.159 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 23:11:33.161 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 23:12:11.534 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000296322294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000296321285E0>
           └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000029632133C10>
    └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002963223E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>
    │    └ <function subprocess_started at 0x0000029634153EE0>
    └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002963223E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000296341530D0>
           │       │   └ <uvicorn.server.Server object at 0x000002963223E460>
           │       └ <function run at 0x0000029633DEC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000296352E8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000029633DED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000029633DED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000029633DF14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000029633D5E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002963531FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000029634A82FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002963531FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000296378AC1F0>
          └ <fastapi.applications.FastAPI object at 0x0000029634A82FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000296378AC190>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000296378AC1F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000296378AC1C0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000296378AC190>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000296378ACFD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002963781E700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000296378AC1C0>
          └ <function wrap_app_handling_exceptions at 0x0000029634EFD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002963781E700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002963781E700>>
          └ <fastapi.routing.APIRouter object at 0x000002963781E700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000029634EABD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000029634E0C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000296378E6250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000029634E0C940>
          └ <function wrap_app_handling_exceptions at 0x0000029634EFD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0CCA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000029634E0C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000296378E6250>
                     └ <function get_request_handler.<locals>.app at 0x0000029634E0C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000029634EAA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000296378E65E0>}
                 │         └ <function page at 0x0000029637887EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000029634E123A0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 66, in page
    data, total = await UserCRUD.page_list_users(db)
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000296378E65E0>
                        │        └ <staticmethod object at 0x00000296377E4220>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 84, in page_list_users
    return data.scalars().all(), len(result.scalars().all())
           │                         │      └ <function Result.scalars at 0x0000029637267DC0>
           │                         └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x0000029637921EC0>
           └ <sqlalchemy.sql.selectable.Select object at 0x000002963791F460>

AttributeError: 'Select' object has no attribute 'scalars'
2024-03-09 23:12:11.562 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000296322294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000296321285E0>
           └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000029632133C10>
    └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002963223E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>
    │    └ <function subprocess_started at 0x0000029634153EE0>
    └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002963223E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000296341530D0>
           │       │   └ <uvicorn.server.Server object at 0x000002963223E460>
           │       └ <function run at 0x0000029633DEC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000296352E8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000029633DED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000029633DED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000029633DF14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000029633D5E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002963531FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000029634A82FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002963531FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000296378AC1F0>
          └ <fastapi.applications.FastAPI object at 0x0000029634A82FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000296378AC190>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000296378AC1F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000296378AC1C0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000296378AC190>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000296378ACFD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002963781E700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000296378AC1C0>
          └ <function wrap_app_handling_exceptions at 0x0000029634EFD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002963781E700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002963781E700>>
          └ <fastapi.routing.APIRouter object at 0x000002963781E700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000029634EABD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000029634E0C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000296378E6250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000029634E0C940>
          └ <function wrap_app_handling_exceptions at 0x0000029634EFD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0CCA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000029634E0C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000296378E6250>
                     └ <function get_request_handler.<locals>.app at 0x0000029634E0C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000029634EAA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000296378E65E0>}
                 │         └ <function page at 0x0000029637887EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000029634E123A0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 66, in page
    data, total = await UserCRUD.page_list_users(db)
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000296378E65E0>
                        │        └ <staticmethod object at 0x00000296377E4220>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 84, in page_list_users
    return data.scalars().all(), len(result.scalars().all())
           │                         │      └ <function Result.scalars at 0x0000029637267DC0>
           │                         └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x0000029637921EC0>
           └ <sqlalchemy.sql.selectable.Select object at 0x000002963791F460>

AttributeError: 'Select' object has no attribute 'scalars'
2024-03-09 23:13:48.138 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x00000279DC7A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x00000279DC6885E0>
           └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000279DC693C10>
    └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000279DC7BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>
    │    └ <function subprocess_started at 0x00000279DE6D3EE0>
    └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000279DC7BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000279DE6D30D0>
           │       │   └ <uvicorn.server.Server object at 0x00000279DC7BE460>
           │       └ <function run at 0x00000279DE36C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000279DF866340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000279DE36D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000279DE36D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000279DE3714C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000279DE2DE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000279DF89DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000279DF002FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000279DF89DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000279E1E1AE20>
          └ <fastapi.applications.FastAPI object at 0x00000279DF002FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000279E1E1AB20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000279E1E1AE20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000279E1E1AC40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000279E1E1AB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000279E1E36C10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000279E1E1AC40>
          └ <function wrap_app_handling_exceptions at 0x00000279DF454790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000279E1D9D700>>
          └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000279DF42DD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000279DF3AC5E0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000279E1E36E80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000279E1E07C10>
          └ <function wrap_app_handling_exceptions at 0x00000279DF454790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279E1E07B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000279E1E07C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000279E1E36E80>
                     └ <function get_request_handler.<locals>.app at 0x00000279DF3AC550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000279DF43B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000279E1E66250>}
                 │         └ <function page at 0x00000279E1E073A0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000279DF398220>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00000279E1EA15B0>, <app.models.user.U...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
    │           │    └ <function JSONResponse.render at 0x00000279DF54E820>
    │           └ <app.utils.responses.SuccessExtra object at 0x00000279E165F0D0>
    └ <app.utils.responses.SuccessExtra object at 0x00000279E165F0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x00000279DE432DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
             │    └ <function JSONEncoder.iterencode at 0x00000279DE432D30>
             └ <json.encoder.JSONEncoder object at 0x00000279E1E667F0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
           └ <_json.Encoder object at 0x00000279E1E9F160>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 23:13:48.185 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x00000279DC7A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x00000279DC6885E0>
           └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000279DC693C10>
    └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000279DC7BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>
    │    └ <function subprocess_started at 0x00000279DE6D3EE0>
    └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000279DC7BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000279DE6D30D0>
           │       │   └ <uvicorn.server.Server object at 0x00000279DC7BE460>
           │       └ <function run at 0x00000279DE36C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000279DF866340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000279DE36D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000279DE36D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000279DE3714C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000279DE2DE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000279DF89DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000279DF002FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000279DF89DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000279E1E1AE20>
          └ <fastapi.applications.FastAPI object at 0x00000279DF002FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000279E1E1AB20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000279E1E1AE20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000279E1E1AC40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000279E1E1AB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000279E1E36C10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000279E1E1AC40>
          └ <function wrap_app_handling_exceptions at 0x00000279DF454790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000279E1D9D700>>
          └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000279DF42DD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000279DF3AC5E0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000279E1E36E80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000279E1E07C10>
          └ <function wrap_app_handling_exceptions at 0x00000279DF454790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279E1E07B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000279E1E07C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000279E1E36E80>
                     └ <function get_request_handler.<locals>.app at 0x00000279DF3AC550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000279DF43B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000279E1E66250>}
                 │         └ <function page at 0x00000279E1E073A0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000279DF398220>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00000279E1EA15B0>, <app.models.user.U...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
    │           │    └ <function JSONResponse.render at 0x00000279DF54E820>
    │           └ <app.utils.responses.SuccessExtra object at 0x00000279E165F0D0>
    └ <app.utils.responses.SuccessExtra object at 0x00000279E165F0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x00000279DE432DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
             │    └ <function JSONEncoder.iterencode at 0x00000279DE432D30>
             └ <json.encoder.JSONEncoder object at 0x00000279E1E667F0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
           └ <_json.Encoder object at 0x00000279E1E9F160>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 23:17:52.243 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001DCA1AC8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001DCA1B07790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (0, -2, 2)
    │      │       └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001DCA1F39B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (0, -2, 2)
           │    │      │    │              └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA1F39CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>
           └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (0, -2, 2)
                   │    │               └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Cursor._query at 0x000001DCA1FD7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001DCA2...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Connection.query at 0x000001DCA1FE30D0>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001DCA1FE3820>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001DCA1FE4430>
          └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001DCA1FB4790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>
    │   └ <function raise_mysql_exception at 0x000001DCA1F621F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to...
          │          └ 1064
          └ <class 'pymysql.err.ProgrammingError'>

pymysql.err.ProgrammingError: (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-2, 2' at line 4")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000001DC9CA294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000001DC9C8185E0>
           └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DC9C823C10>
    └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DC9CA3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DC9E953EE0>
    └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=752, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DC9CA3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=752, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DC9E9530D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DC9CA3E460>
           │       └ <function run at 0x000001DC9E5EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DC9FAE8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DC9E5ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DC9E5ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DC9E5F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DC9E55E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC9FB1DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DC9F282FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC9FB1DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC9F621E80>
          └ <fastapi.applications.FastAPI object at 0x000001DC9F282FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DC9F6218E0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC9F621E80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC9F621F40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DC9F6218E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DCA20D8220>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC9F621F40>
          └ <function wrap_app_handling_exceptions at 0x000001DC9F6D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DCA202D700>>
          └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DC9F6ADD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DC9F62C8B0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DCA20D85B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DC9F62C940>
          └ <function wrap_app_handling_exceptions at 0x000001DC9F6D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DC9F62C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DCA20D85B0>
                     └ <function get_request_handler.<locals>.app at 0x000001DC9F62C820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DC9F6BB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>, 'pageNum': 0, 'pageSize': 2}
                 │         └ <function page at 0x000001DCA2096EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DC9F618220>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 67, in page
    data, total = await UserCRUD.page_list_users(db, pageNum, pageSize)
                        │        │               │   │        └ 2
                        │        │               │   └ 0
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>
                        │        └ <staticmethod object at 0x000001DCA1FDCF70>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 81, in page_list_users
    data = await async_session.execute(select(User).where(*search).offset((pageNum - 1) * pageSize).limit(pageSize))
                 │             │       │      │            │               │              │               └ 2
                 │             │       │      │            │               │              └ 2
                 │             │       │      │            │               └ 0
                 │             │       │      │            └ [<sqlalchemy.sql.elements.BinaryExpression object at 0x000001DCA20D8C40>]
                 │             │       │      └ <class 'app.models.user.User'>
                 │             │       └ <function select at 0x000001DCA19985E0>
                 │             └ <function AsyncSession.execute at 0x000001DCA1EB3160>
                 └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x000001DCA0542CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x000001DCA1DD8700>
           └ <sqlalchemy.orm.session.Session object at 0x000001DCA20D8970>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x000001DCA1C5E370>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x000001DCA1A04940>
             └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000001DCA2128E20>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000001DCA1A04C10>
           └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000001DCA1A04DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000001DCA1A04E50>
           └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000001DCA1A070D0>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ ProgrammingError(1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version ...
          │                    │              └ (<class 'pymysql.err.ProgrammingError'>, ProgrammingError(1064, "You have an error in your SQL syntax; check the manual that ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that correspo...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001DCA1AC8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001DCA1B07790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (0, -2, 2)
    │      │       └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001DCA1F39B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (0, -2, 2)
           │    │      │    │              └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA1F39CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>
           └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (0, -2, 2)
                   │    │               └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Cursor._query at 0x000001DCA1FD7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001DCA2...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Connection.query at 0x000001DCA1FE30D0>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001DCA1FE3820>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001DCA1FE4430>
          └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001DCA1FB4790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>
    │   └ <function raise_mysql_exception at 0x000001DCA1F621F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to...
          │          └ 1064
          └ <class 'pymysql.err.ProgrammingError'>

sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-2, 2' at line 4")
[SQL: SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, brisk_users.phone, brisk_users.created_at, brisk_users.updated_at, brisk_users.deleted_at, brisk_users.update_user, brisk_users.last_login_at, brisk_users.avatar, brisk_users.is_valid 
FROM brisk_users 
WHERE brisk_users.deleted_at = %s 
 LIMIT %s, %s]
[parameters: (0, -2, 2)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-03-09 23:17:52.539 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001DCA1AC8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001DCA1B07790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (0, -2, 2)
    │      │       └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001DCA1F39B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (0, -2, 2)
           │    │      │    │              └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA1F39CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>
           └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (0, -2, 2)
                   │    │               └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Cursor._query at 0x000001DCA1FD7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001DCA2...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Connection.query at 0x000001DCA1FE30D0>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001DCA1FE3820>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001DCA1FE4430>
          └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001DCA1FB4790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>
    │   └ <function raise_mysql_exception at 0x000001DCA1F621F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to...
          │          └ 1064
          └ <class 'pymysql.err.ProgrammingError'>

pymysql.err.ProgrammingError: (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-2, 2' at line 4")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000001DC9CA294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000001DC9C8185E0>
           └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DC9C823C10>
    └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DC9CA3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DC9E953EE0>
    └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=752, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DC9CA3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=752, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DC9E9530D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DC9CA3E460>
           │       └ <function run at 0x000001DC9E5EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DC9FAE8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DC9E5ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DC9E5ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DC9E5F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DC9E55E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC9FB1DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DC9F282FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC9FB1DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC9F621E80>
          └ <fastapi.applications.FastAPI object at 0x000001DC9F282FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DC9F6218E0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC9F621E80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC9F621F40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DC9F6218E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DCA20D8220>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC9F621F40>
          └ <function wrap_app_handling_exceptions at 0x000001DC9F6D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DCA202D700>>
          └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DC9F6ADD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DC9F62C8B0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DCA20D85B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DC9F62C940>
          └ <function wrap_app_handling_exceptions at 0x000001DC9F6D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DC9F62C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DCA20D85B0>
                     └ <function get_request_handler.<locals>.app at 0x000001DC9F62C820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DC9F6BB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>, 'pageNum': 0, 'pageSize': 2}
                 │         └ <function page at 0x000001DCA2096EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DC9F618220>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 67, in page
    data, total = await UserCRUD.page_list_users(db, pageNum, pageSize)
                        │        │               │   │        └ 2
                        │        │               │   └ 0
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>
                        │        └ <staticmethod object at 0x000001DCA1FDCF70>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 81, in page_list_users
    data = await async_session.execute(select(User).where(*search).offset((pageNum - 1) * pageSize).limit(pageSize))
                 │             │       │      │            │               │              │               └ 2
                 │             │       │      │            │               │              └ 2
                 │             │       │      │            │               └ 0
                 │             │       │      │            └ [<sqlalchemy.sql.elements.BinaryExpression object at 0x000001DCA20D8C40>]
                 │             │       │      └ <class 'app.models.user.User'>
                 │             │       └ <function select at 0x000001DCA19985E0>
                 │             └ <function AsyncSession.execute at 0x000001DCA1EB3160>
                 └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x000001DCA0542CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x000001DCA1DD8700>
           └ <sqlalchemy.orm.session.Session object at 0x000001DCA20D8970>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x000001DCA1C5E370>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x000001DCA1A04940>
             └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000001DCA2128E20>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000001DCA1A04C10>
           └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000001DCA1A04DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000001DCA1A04E50>
           └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000001DCA1A070D0>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ ProgrammingError(1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version ...
          │                    │              └ (<class 'pymysql.err.ProgrammingError'>, ProgrammingError(1064, "You have an error in your SQL syntax; check the manual that ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that correspo...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001DCA1AC8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001DCA1B07790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (0, -2, 2)
    │      │       └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001DCA1F39B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (0, -2, 2)
           │    │      │    │              └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA1F39CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>
           └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (0, -2, 2)
                   │    │               └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Cursor._query at 0x000001DCA1FD7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001DCA2...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Connection.query at 0x000001DCA1FE30D0>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001DCA1FE3820>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001DCA1FE4430>
          └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001DCA1FB4790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>
    │   └ <function raise_mysql_exception at 0x000001DCA1F621F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to...
          │          └ 1064
          └ <class 'pymysql.err.ProgrammingError'>

sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-2, 2' at line 4")
[SQL: SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, brisk_users.phone, brisk_users.created_at, brisk_users.updated_at, brisk_users.deleted_at, brisk_users.update_user, brisk_users.last_login_at, brisk_users.avatar, brisk_users.is_valid 
FROM brisk_users 
WHERE brisk_users.deleted_at = %s 
 LIMIT %s, %s]
[parameters: (0, -2, 2)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-03-09 23:36:57.376 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000021D2DB194C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000021D2D9185E0>
           └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000021D2D923C10>
    └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000021D2DB2E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>
    │    └ <function subprocess_started at 0x0000021D2FA43EE0>
    └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=520, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000021D2DB2E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=520, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000021D2FA430D0>
           │       │   └ <uvicorn.server.Server object at 0x0000021D2DB2E460>
           │       └ <function run at 0x0000021D2F6DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000021D30BD8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000021D2F6DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000021D2F6DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021D2F6E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021D2F64E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021D30C0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000021D30372FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021D30C0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021D33195610>
          └ <fastapi.applications.FastAPI object at 0x0000021D30372FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021D3070BB20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021D33195610>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021D3070BA60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021D3070BB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000021D331B7940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021D33128040>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021D3070BA60>
          └ <function wrap_app_handling_exceptions at 0x0000021D307CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000021D33128040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021D33128040>>
          └ <fastapi.routing.APIRouter object at 0x0000021D33128040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000021D307A5D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000021D307140D0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000021D331B79D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021D30700CA0>
          └ <function wrap_app_handling_exceptions at 0x0000021D307CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D30700B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000021D30700CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000021D331B79D0>
                     └ <function get_request_handler.<locals>.app at 0x0000021D30714040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000021D307A68B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000021D331B7A30>, 'pageNum': 0, 'pageSize': 0}
                 │         └ <function page at 0x0000021D305741F0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000021D30712130>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 64, in page
    data, total = await UserCRUD.page_list_users(db, pageNum, pageSize)
                        │        │               │   │        └ 0
                        │        │               │   └ 0
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000021D331B7A30>
                        │        └ <staticmethod object at 0x0000021D330D21F0>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 77, in page_list_users
    raise ValueError("输入数值必须大于0")

ValueError: 输入数值必须大于0
2024-03-09 23:36:57.511 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000021D2DB194C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000021D2D9185E0>
           └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000021D2D923C10>
    └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000021D2DB2E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>
    │    └ <function subprocess_started at 0x0000021D2FA43EE0>
    └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=520, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000021D2DB2E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=520, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000021D2FA430D0>
           │       │   └ <uvicorn.server.Server object at 0x0000021D2DB2E460>
           │       └ <function run at 0x0000021D2F6DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000021D30BD8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000021D2F6DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000021D2F6DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021D2F6E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021D2F64E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021D30C0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000021D30372FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021D30C0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021D33195610>
          └ <fastapi.applications.FastAPI object at 0x0000021D30372FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021D3070BB20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021D33195610>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021D3070BA60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021D3070BB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000021D331B7940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021D33128040>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021D3070BA60>
          └ <function wrap_app_handling_exceptions at 0x0000021D307CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000021D33128040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021D33128040>>
          └ <fastapi.routing.APIRouter object at 0x0000021D33128040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000021D307A5D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000021D307140D0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000021D331B79D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021D30700CA0>
          └ <function wrap_app_handling_exceptions at 0x0000021D307CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D30700B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000021D30700CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000021D331B79D0>
                     └ <function get_request_handler.<locals>.app at 0x0000021D30714040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000021D307A68B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000021D331B7A30>, 'pageNum': 0, 'pageSize': 0}
                 │         └ <function page at 0x0000021D305741F0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000021D30712130>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 64, in page
    data, total = await UserCRUD.page_list_users(db, pageNum, pageSize)
                        │        │               │   │        └ 0
                        │        │               │   └ 0
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000021D331B7A30>
                        │        └ <staticmethod object at 0x0000021D330D21F0>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 77, in page_list_users
    raise ValueError("输入数值必须大于0")

ValueError: 输入数值必须大于0
2024-03-09 23:41:32.171 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 23:41:32.171 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 00:05:23.261 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED2F949D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '149', 'sec-ch-ua': '"Chromium";v="122", "Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED2F949D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED6166C10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED6155040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6131820>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED61319D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6131820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED6155040>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6155940>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6155940>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='string', name='string', username='string', phone='string', role=0, email='user@example.com', is_valid=True)
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:05:23.304 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED2F949D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '149', 'sec-ch-ua': '"Chromium";v="122", "Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED2F949D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED6166C10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED6155040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6131820>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED61319D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6131820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED6155040>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6155940>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6155940>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='string', name='string', username='string', phone='string', role=0, email='user@example.com', is_valid=True)
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:06:56.927 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '179', 'sec-ch-ua': '"Chromium";v="122", "Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478040>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED61E6B20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED61E6970>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED64781F0>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478280>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED64781F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED61E6970>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED61E6FD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED61E6FD0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username='string', phone='string', role=0, email='us...
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:06:56.948 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '179', 'sec-ch-ua': '"Chromium";v="122", "Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478040>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED61E6B20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED61E6970>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED64781F0>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478280>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED64781F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED61E6970>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED61E6FD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED61E6FD0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username='string', phone='string', role=0, email='us...
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:07:59.496 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478790>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED6490280>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED64903D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6478940>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64788B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6478940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED64903D0>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6490A00>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6490A00>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:07:59.518 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478790>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED6490280>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED64903D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6478940>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64788B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6478940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED64903D0>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6490A00>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6490A00>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:09:38.660 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF47C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF47C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61BF85850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61BF85AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF5A670>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF5A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61BF85AC0>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61BF85E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61BF85E80>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:09:38.694 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF47C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF47C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61BF85850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61BF85AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF5A670>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF5A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61BF85AC0>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61BF85E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61BF85E80>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:10:42.093 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF5AA60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF5AA60>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61BFD9940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61BFD9C10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF47F70>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF47EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF47F70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61BFD9C10>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E6194C2A60>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E6194C2A60>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:10:42.115 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF5AA60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF5AA60>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61BFD9940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61BFD9C10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF47F70>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF47EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF47F70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61BFD9C10>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E6194C2A60>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E6194C2A60>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:10:43.659 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61C134DC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61C134DC0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61C15D160>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61C15D280>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61C134E50>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61C134E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61C15D280>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61C15D8E0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61C15D8E0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:10:43.695 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61C134DC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61C134DC0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61C15D160>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61C15D280>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61C134E50>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61C134E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61C15D280>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61C15D8E0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61C15D8E0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:11:31.194 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 00:11:31.194 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 00:12:01.651 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001C6C25794C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001C6C24585E0>
           └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C6C2463C10>
    └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C6C258E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>
    │    └ <function subprocess_started at 0x000001C6C44A3EE0>
    └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=676, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C6C258E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=676, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C6C44A30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C6C258E460>
           │       └ <function run at 0x000001C6C413C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C6C5638340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C6C413D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C6C413D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C6C41404C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C6C40AE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C6C566FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C6C4DD2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C6C566FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C6C7C0DAC0>
          └ <fastapi.applications.FastAPI object at 0x000001C6C4DD2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C6C7BF6EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C6C7C0DAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C6C7BF6EE0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001C6C548BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C6C7C0D850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C6C7C2E9A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C6C7C0D850>
          └ <function wrap_app_handling_exceptions at 0x000001C6C5224790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>>
          └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C6C51FDD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C6C7BF6430>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C6C7C2EC10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C6C7C08A60>
          └ <function wrap_app_handling_exceptions at 0x000001C6C5224790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C6C7C08A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C6C7C2EC10>
                     └ <function get_request_handler.<locals>.app at 0x000001C6C7BF63A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001C6C520B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C6C7C2EFD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001C6C7BDA4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001C6C5172BB0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C6C7C2EFD0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001C6C7B9A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:12:01.684 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001C6C25794C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001C6C24585E0>
           └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C6C2463C10>
    └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C6C258E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>
    │    └ <function subprocess_started at 0x000001C6C44A3EE0>
    └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=676, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C6C258E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=676, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C6C44A30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C6C258E460>
           │       └ <function run at 0x000001C6C413C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C6C5638340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C6C413D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C6C413D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C6C41404C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C6C40AE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C6C566FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C6C4DD2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C6C566FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C6C7C0DAC0>
          └ <fastapi.applications.FastAPI object at 0x000001C6C4DD2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C6C7BF6EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C6C7C0DAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C6C7BF6EE0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001C6C548BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C6C7C0D850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C6C7C2E9A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C6C7C0D850>
          └ <function wrap_app_handling_exceptions at 0x000001C6C5224790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>>
          └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C6C51FDD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C6C7BF6430>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C6C7C2EC10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C6C7C08A60>
          └ <function wrap_app_handling_exceptions at 0x000001C6C5224790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C6C7C08A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C6C7C2EC10>
                     └ <function get_request_handler.<locals>.app at 0x000001C6C7BF63A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001C6C520B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C6C7C2EFD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001C6C7BDA4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001C6C5172BB0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C6C7C2EFD0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001C6C7B9A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:13:19.721 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x00000186614794C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x00000186613785E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000018661383C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001866148E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>
    │    └ <function subprocess_started at 0x0000018663393EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001866148E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000186633930D0>
           │       │   └ <uvicorn.server.Server object at 0x000001866148E460>
           │       └ <function run at 0x000001866302C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000018664528340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001866302D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001866302D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000186630304C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000018662F9E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001866455DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000018663CC2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001866455DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018666AEDAC0>
          └ <fastapi.applications.FastAPI object at 0x0000018663CC2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018666AD6EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018666AEDAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018666AD6EE0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001866437BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018666AED850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000018666B0E9A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018666AED850>
          └ <function wrap_app_handling_exceptions at 0x0000018664129790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000018666AA7F40>>
          └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000186640F0D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000018666AD6430>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000018666B0EC10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000018666AE8A60>
          └ <function wrap_app_handling_exceptions at 0x0000018664129790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000018666AE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000018666B0EC10>
                     └ <function get_request_handler.<locals>.app at 0x0000018666AD63A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000186640EC8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018666B0EFD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000018666ABA4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000018664054BB0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018666B0EFD0>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000018666A7A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 94, in update_user
    if "updated_at" in update_data.keys():
                       └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pydantic\main.py", line 767, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')

AttributeError: 'UserUpdateForm' object has no attribute 'keys'
2024-03-10 00:13:19.765 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x00000186614794C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x00000186613785E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000018661383C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001866148E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>
    │    └ <function subprocess_started at 0x0000018663393EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001866148E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000186633930D0>
           │       │   └ <uvicorn.server.Server object at 0x000001866148E460>
           │       └ <function run at 0x000001866302C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000018664528340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001866302D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001866302D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000186630304C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000018662F9E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001866455DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000018663CC2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001866455DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018666AEDAC0>
          └ <fastapi.applications.FastAPI object at 0x0000018663CC2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018666AD6EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018666AEDAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018666AD6EE0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001866437BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018666AED850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000018666B0E9A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018666AED850>
          └ <function wrap_app_handling_exceptions at 0x0000018664129790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000018666AA7F40>>
          └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000186640F0D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000018666AD6430>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000018666B0EC10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000018666AE8A60>
          └ <function wrap_app_handling_exceptions at 0x0000018664129790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000018666AE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000018666B0EC10>
                     └ <function get_request_handler.<locals>.app at 0x0000018666AD63A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000186640EC8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018666B0EFD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000018666ABA4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000018664054BB0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018666B0EFD0>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000018666A7A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 94, in update_user
    if "updated_at" in update_data.keys():
                       └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pydantic\main.py", line 767, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')

AttributeError: 'UserUpdateForm' object has no attribute 'keys'
2024-03-10 00:14:07.275 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 312
               │     └ 3
               └ <function _main at 0x000001B2A64F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 312
           │    └ <function BaseProcess._bootstrap at 0x000001B2A62D85E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B2A62E3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B2A650E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>
    │    └ <function subprocess_started at 0x000001B2A8424EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B2A650E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B2A84240D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B2A650E460>
           │       └ <function run at 0x000001B2A80BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B2A95B8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B2A80BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B2A80BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B2A80C14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B2A802E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B2A95EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B2A8D52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B2A95EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B2ABB7E910>
          └ <fastapi.applications.FastAPI object at 0x000001B2A8D52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B2ABB66C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B2ABB7E910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B2ABB66C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001B2A940BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B2ABB7E760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B2ABBA5850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B2ABB7E760>
          └ <function wrap_app_handling_exceptions at 0x000001B2A91CE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>>
          └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B2A917FD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B2ABB664C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B2ABBA5AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B2ABB7A670>
          └ <function wrap_app_handling_exceptions at 0x000001B2A91CE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B2ABB7A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B2ABBA5AC0>
                     └ <function get_request_handler.<locals>.app at 0x000001B2ABB66430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001B2A91728B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B2ABBA5E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001B2ABB4B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001B2A90E2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B2ABBA5E80>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001B2ABB0A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 95, in update_user
    update_data["updated_at"] = datetime.now()
    │                           │        └ <method 'now' of 'datetime.datetime' objects>
    │                           └ <class 'datetime.datetime'>
    └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...

TypeError: 'UserUpdateForm' object does not support item assignment
2024-03-10 00:14:07.330 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 312
               │     └ 3
               └ <function _main at 0x000001B2A64F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 312
           │    └ <function BaseProcess._bootstrap at 0x000001B2A62D85E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B2A62E3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B2A650E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>
    │    └ <function subprocess_started at 0x000001B2A8424EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B2A650E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B2A84240D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B2A650E460>
           │       └ <function run at 0x000001B2A80BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B2A95B8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B2A80BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B2A80BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B2A80C14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B2A802E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B2A95EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B2A8D52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B2A95EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B2ABB7E910>
          └ <fastapi.applications.FastAPI object at 0x000001B2A8D52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B2ABB66C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B2ABB7E910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B2ABB66C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001B2A940BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B2ABB7E760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B2ABBA5850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B2ABB7E760>
          └ <function wrap_app_handling_exceptions at 0x000001B2A91CE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>>
          └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B2A917FD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B2ABB664C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B2ABBA5AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B2ABB7A670>
          └ <function wrap_app_handling_exceptions at 0x000001B2A91CE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B2ABB7A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B2ABBA5AC0>
                     └ <function get_request_handler.<locals>.app at 0x000001B2ABB66430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001B2A91728B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B2ABBA5E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001B2ABB4B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001B2A90E2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B2ABBA5E80>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001B2ABB0A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 95, in update_user
    update_data["updated_at"] = datetime.now()
    │                           │        └ <method 'now' of 'datetime.datetime' objects>
    │                           └ <class 'datetime.datetime'>
    └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...

TypeError: 'UserUpdateForm' object does not support item assignment
2024-03-10 00:15:04.539 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000026459858EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000026459897790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000026459CC9B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459CC9CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>
           └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x0000026459D67160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000026459...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x0000026459D730D0>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000026459D73820>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000026459D74430>
          └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000026459D43790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>
    │   └ <function raise_mysql_exception at 0x0000026459CF21F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'email' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x00000264547C94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x00000264546B85E0>
           └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000264546C3C10>
    └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000264547DE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>
    │    └ <function subprocess_started at 0x00000264566F3EE0>
    └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000264547DE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000264566F30D0>
           │       │   └ <uvicorn.server.Server object at 0x00000264547DE460>
           │       └ <function run at 0x000002645638C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000264578CA340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002645638D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002645638D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000264563904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000264562FE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026457881AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000026457022FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026457881AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026459E4D910>
          └ <fastapi.applications.FastAPI object at 0x0000026457022FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026459E36C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026459E4D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026459E36C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000264576DBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026459E4D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000026459E75850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026459E4D760>
          └ <function wrap_app_handling_exceptions at 0x000002645749E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000026459E07F40>>
          └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002645744DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000026459E364C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000026459E75AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026459E4A670>
          └ <function wrap_app_handling_exceptions at 0x000002645749E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000026459E4A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000026459E75AC0>
                     └ <function get_request_handler.<locals>.app at 0x0000026459E36430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000264574418B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000026459E1B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000264573C1C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000026459DDA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 99, in update_user
    await async_session.execute(stmt)
          │             │       └ <sqlalchemy.sql.dml.Update object at 0x0000026459EC8F10>
          │             └ <function AsyncSession.execute at 0x0000026459C41160>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x00000264582D3CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x0000026459B65700>
           └ <sqlalchemy.orm.session.Session object at 0x0000026459E75EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x0000026459B3D1C0>
                   │      └ <class 'sqlalchemy.orm.bulk_persistence.BulkORMUpdate'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\bulk_persistence.py", line 1617, in orm_execute_statement
    return super().orm_execute_statement(

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x0000026459794940>
             └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x0000026459EC8730>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x0000026459794C10>
           └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x0000026459794DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x0000026459794E50>
           └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x00000264597960D0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'email' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'email' cannot be null"), <traceback object at 0x00000264...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'email\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000026459858EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000026459897790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000026459CC9B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459CC9CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>
           └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x0000026459D67160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000026459...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x0000026459D730D0>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000026459D73820>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000026459D74430>
          └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000026459D43790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>
    │   └ <function raise_mysql_exception at 0x0000026459CF21F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'email' cannot be null")
[SQL: UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s]
[parameters: ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 00:15:04.779 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000026459858EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000026459897790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000026459CC9B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459CC9CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>
           └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x0000026459D67160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000026459...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x0000026459D730D0>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000026459D73820>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000026459D74430>
          └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000026459D43790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>
    │   └ <function raise_mysql_exception at 0x0000026459CF21F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'email' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x00000264547C94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x00000264546B85E0>
           └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000264546C3C10>
    └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000264547DE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>
    │    └ <function subprocess_started at 0x00000264566F3EE0>
    └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000264547DE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000264566F30D0>
           │       │   └ <uvicorn.server.Server object at 0x00000264547DE460>
           │       └ <function run at 0x000002645638C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000264578CA340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002645638D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002645638D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000264563904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000264562FE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026457881AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000026457022FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026457881AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026459E4D910>
          └ <fastapi.applications.FastAPI object at 0x0000026457022FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026459E36C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026459E4D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026459E36C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000264576DBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026459E4D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000026459E75850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026459E4D760>
          └ <function wrap_app_handling_exceptions at 0x000002645749E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000026459E07F40>>
          └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002645744DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000026459E364C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000026459E75AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026459E4A670>
          └ <function wrap_app_handling_exceptions at 0x000002645749E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000026459E4A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000026459E75AC0>
                     └ <function get_request_handler.<locals>.app at 0x0000026459E36430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000264574418B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000026459E1B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000264573C1C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000026459DDA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 99, in update_user
    await async_session.execute(stmt)
          │             │       └ <sqlalchemy.sql.dml.Update object at 0x0000026459EC8F10>
          │             └ <function AsyncSession.execute at 0x0000026459C41160>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x00000264582D3CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x0000026459B65700>
           └ <sqlalchemy.orm.session.Session object at 0x0000026459E75EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x0000026459B3D1C0>
                   │      └ <class 'sqlalchemy.orm.bulk_persistence.BulkORMUpdate'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\bulk_persistence.py", line 1617, in orm_execute_statement
    return super().orm_execute_statement(

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x0000026459794940>
             └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x0000026459EC8730>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x0000026459794C10>
           └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x0000026459794DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x0000026459794E50>
           └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x00000264597960D0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'email' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'email' cannot be null"), <traceback object at 0x00000264...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'email\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000026459858EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000026459897790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000026459CC9B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459CC9CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>
           └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x0000026459D67160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000026459...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x0000026459D730D0>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000026459D73820>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000026459D74430>
          └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000026459D43790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>
    │   └ <function raise_mysql_exception at 0x0000026459CF21F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'email' cannot be null")
[SQL: UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s]
[parameters: ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 00:17:35.928 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000002497F6A8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000002497F6E7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000002497FB19B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FB19CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>
           └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x000002497FBB7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000002497F...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x000002497FBC30D0>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000002497FBC3820>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000002497FBC4430>
          └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000002497FB93790>
    └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>
    │   └ <function raise_mysql_exception at 0x000002497FB421F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'email' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 288
               │     └ 3
               └ <function _main at 0x000002497A6194C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 288
           │    └ <function BaseProcess._bootstrap at 0x000002497A4F85E0>
           └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002497A503C10>
    └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002497A62E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>
    │    └ <function subprocess_started at 0x000002497C545EE0>
    └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002497A62E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002497C5450D0>
           │       │   └ <uvicorn.server.Server object at 0x000002497A62E460>
           │       └ <function run at 0x000002497C1DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002497D71A340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002497C1DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002497C1DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002497C1E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002497C14E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002497D734AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002497CE72FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002497D734AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002497FC9D940>
          └ <fastapi.applications.FastAPI object at 0x000002497CE72FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002497FC88C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002497FC9D940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002497FC88C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000002497D52BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002497FC9D790>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002497FCC5880>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002497FC9D790>
          └ <function wrap_app_handling_exceptions at 0x000002497D2C4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002497FC56FD0>>
          └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002497D29DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002497FC884C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002497FCC5AF0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002497FC9A670>
          └ <function wrap_app_handling_exceptions at 0x000002497D2C4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002497FC9A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002497FCC5AF0>
                     └ <function get_request_handler.<locals>.app at 0x000002497FC88430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002497D2AB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000002497FC6B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002497D202C70>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000002497FC2B670>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 99, in update_user
    await async_session.execute(stmt)
          │             │       └ <sqlalchemy.sql.dml.Update object at 0x000002497FD19F10>
          │             └ <function AsyncSession.execute at 0x000002497FA90160>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x000002497E122CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x000002497F9B8700>
           └ <sqlalchemy.orm.session.Session object at 0x000002497FCC5F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x000002497F98D1C0>
                   │      └ <class 'sqlalchemy.orm.bulk_persistence.BulkORMUpdate'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\bulk_persistence.py", line 1617, in orm_execute_statement
    return super().orm_execute_statement(

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x000002497F5E4940>
             └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x000002497FD19730>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000002497F5E4C10>
           └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000002497F5E4DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000002497F5E4E50>
           └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000002497F5E60D0>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'email' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'email' cannot be null"), <traceback object at 0x00000249...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'email\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000002497F6A8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000002497F6E7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000002497FB19B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FB19CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>
           └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x000002497FBB7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000002497F...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x000002497FBC30D0>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000002497FBC3820>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000002497FBC4430>
          └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000002497FB93790>
    └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>
    │   └ <function raise_mysql_exception at 0x000002497FB421F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'email' cannot be null")
[SQL: UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s]
[parameters: ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 00:17:36.015 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000002497F6A8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000002497F6E7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000002497FB19B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FB19CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>
           └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x000002497FBB7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000002497F...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x000002497FBC30D0>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000002497FBC3820>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000002497FBC4430>
          └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000002497FB93790>
    └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>
    │   └ <function raise_mysql_exception at 0x000002497FB421F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'email' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 288
               │     └ 3
               └ <function _main at 0x000002497A6194C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 288
           │    └ <function BaseProcess._bootstrap at 0x000002497A4F85E0>
           └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002497A503C10>
    └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002497A62E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>
    │    └ <function subprocess_started at 0x000002497C545EE0>
    └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002497A62E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002497C5450D0>
           │       │   └ <uvicorn.server.Server object at 0x000002497A62E460>
           │       └ <function run at 0x000002497C1DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002497D71A340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002497C1DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002497C1DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002497C1E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002497C14E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002497D734AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002497CE72FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002497D734AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002497FC9D940>
          └ <fastapi.applications.FastAPI object at 0x000002497CE72FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002497FC88C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002497FC9D940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002497FC88C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000002497D52BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002497FC9D790>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002497FCC5880>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002497FC9D790>
          └ <function wrap_app_handling_exceptions at 0x000002497D2C4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002497FC56FD0>>
          └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002497D29DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002497FC884C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002497FCC5AF0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002497FC9A670>
          └ <function wrap_app_handling_exceptions at 0x000002497D2C4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002497FC9A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002497FCC5AF0>
                     └ <function get_request_handler.<locals>.app at 0x000002497FC88430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002497D2AB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000002497FC6B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002497D202C70>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000002497FC2B670>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 99, in update_user
    await async_session.execute(stmt)
          │             │       └ <sqlalchemy.sql.dml.Update object at 0x000002497FD19F10>
          │             └ <function AsyncSession.execute at 0x000002497FA90160>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x000002497E122CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x000002497F9B8700>
           └ <sqlalchemy.orm.session.Session object at 0x000002497FCC5F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x000002497F98D1C0>
                   │      └ <class 'sqlalchemy.orm.bulk_persistence.BulkORMUpdate'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\bulk_persistence.py", line 1617, in orm_execute_statement
    return super().orm_execute_statement(

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x000002497F5E4940>
             └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x000002497FD19730>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000002497F5E4C10>
           └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000002497F5E4DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000002497F5E4E50>
           └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000002497F5E60D0>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'email' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'email' cannot be null"), <traceback object at 0x00000249...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'email\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000002497F6A8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000002497F6E7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000002497FB19B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FB19CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>
           └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x000002497FBB7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000002497F...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x000002497FBC30D0>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000002497FBC3820>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000002497FBC4430>
          └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000002497FB93790>
    └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>
    │   └ <function raise_mysql_exception at 0x000002497FB421F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'email' cannot be null")
[SQL: UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s]
[parameters: ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 00:23:54.634 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 412
               │     └ 3
               └ <function _main at 0x00000222DC2F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 412
           │    └ <function BaseProcess._bootstrap at 0x00000222DC1C85E0>
           └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000222DC1D3C10>
    └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000222DC30E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>
    │    └ <function subprocess_started at 0x00000222DE224EE0>
    └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=556, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000222DC30E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=556, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000222DE2240D0>
           │       │   └ <uvicorn.server.Server object at 0x00000222DC30E460>
           │       └ <function run at 0x00000222DDEBC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000222DF3B9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000222DDEBD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000222DDEBD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000222DDEC14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000222DDE2E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000222DF3EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000222DEB52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000222DF3EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000222E197C9D0>
          └ <fastapi.applications.FastAPI object at 0x00000222DEB52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000222E1968C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000222E197C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000222E1968C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000222DF20BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000222E197C820>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000222E199E910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000222E197C820>
          └ <function wrap_app_handling_exceptions at 0x00000222DEFAB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000222E191DD90>>
          └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000222DEF80D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000222E19684C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000222E199EB80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000222E1979670>
          └ <function wrap_app_handling_exceptions at 0x00000222DEFAB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E19798B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000222E1979670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000222E199EB80>
                     └ <function get_request_handler.<locals>.app at 0x00000222E1968430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000222DEF8B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000222E199EF40>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x00000222E194B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000222DEEE2D00>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000222E199EF40>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x00000222E1908700>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 103, in update_user
    stmt = update(User).where(and_(User.id == update_data.id)).values(update_data)
           │      │           │    │    │     │                       └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    │     └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000222E18A84A0>
           │      │           │    └ <class 'app.models.user.User'>
           │      │           └ <function and_ at 0x00000222E1250F70>
           │      └ <class 'app.models.user.User'>
           └ <function update at 0x00000222E1250B80>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:23:54.667 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 412
               │     └ 3
               └ <function _main at 0x00000222DC2F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 412
           │    └ <function BaseProcess._bootstrap at 0x00000222DC1C85E0>
           └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000222DC1D3C10>
    └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000222DC30E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>
    │    └ <function subprocess_started at 0x00000222DE224EE0>
    └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=556, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000222DC30E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=556, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000222DE2240D0>
           │       │   └ <uvicorn.server.Server object at 0x00000222DC30E460>
           │       └ <function run at 0x00000222DDEBC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000222DF3B9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000222DDEBD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000222DDEBD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000222DDEC14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000222DDE2E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000222DF3EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000222DEB52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000222DF3EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000222E197C9D0>
          └ <fastapi.applications.FastAPI object at 0x00000222DEB52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000222E1968C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000222E197C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000222E1968C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000222DF20BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000222E197C820>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000222E199E910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000222E197C820>
          └ <function wrap_app_handling_exceptions at 0x00000222DEFAB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000222E191DD90>>
          └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000222DEF80D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000222E19684C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000222E199EB80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000222E1979670>
          └ <function wrap_app_handling_exceptions at 0x00000222DEFAB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E19798B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000222E1979670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000222E199EB80>
                     └ <function get_request_handler.<locals>.app at 0x00000222E1968430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000222DEF8B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000222E199EF40>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x00000222E194B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000222DEEE2D00>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000222E199EF40>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x00000222E1908700>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 103, in update_user
    stmt = update(User).where(and_(User.id == update_data.id)).values(update_data)
           │      │           │    │    │     │                       └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    │     └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000222E18A84A0>
           │      │           │    └ <class 'app.models.user.User'>
           │      │           └ <function and_ at 0x00000222E1250F70>
           │      └ <class 'app.models.user.User'>
           └ <function update at 0x00000222E1250B80>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:24:47.188 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x0000025E659E94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x0000025E658E85E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025E658F3C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025E659FE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>
    │    └ <function subprocess_started at 0x0000025E67905EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000025E659FE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000025E679050D0>
           │       │   └ <uvicorn.server.Server object at 0x0000025E659FE460>
           │       └ <function run at 0x0000025E6759C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000025E68A99340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000025E6759D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025E6759D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025E675A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025E6750E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025E68ACFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000025E68232FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025E68ACFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025E6B05C880>
          └ <fastapi.applications.FastAPI object at 0x0000025E68232FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025E67EB49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025E6B05C880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025E67EB49D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000025E688EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025E6B05C8B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000025E6B07A6A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025E6B05C8B0>
          └ <function wrap_app_handling_exceptions at 0x0000025E686AE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>>
          └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000025E6865DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000025E6B03A4C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000025E6B07A910>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000025E6B0598B0>
          └ <function wrap_app_handling_exceptions at 0x0000025E686AE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000025E6B0598B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025E6B07A910>
                     └ <function get_request_handler.<locals>.app at 0x0000025E6B03A430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000025E686528B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025E6B07AD60>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000025E6B02B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000025E685C2D00>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025E6B07AD60>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000025E6AFE7700>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 103, in update_user
    stmt = update(User).where(and_(User.id == update_data.id)).values(update_data)
           │      │           │    │    │     │                       └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    │     └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x0000025E6AF884A0>
           │      │           │    └ <class 'app.models.user.User'>
           │      │           └ <function and_ at 0x0000025E6A92FF70>
           │      └ <class 'app.models.user.User'>
           └ <function update at 0x0000025E6A92FB80>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:24:47.236 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x0000025E659E94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x0000025E658E85E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025E658F3C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025E659FE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>
    │    └ <function subprocess_started at 0x0000025E67905EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000025E659FE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000025E679050D0>
           │       │   └ <uvicorn.server.Server object at 0x0000025E659FE460>
           │       └ <function run at 0x0000025E6759C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000025E68A99340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000025E6759D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025E6759D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025E675A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025E6750E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025E68ACFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000025E68232FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025E68ACFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025E6B05C880>
          └ <fastapi.applications.FastAPI object at 0x0000025E68232FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025E67EB49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025E6B05C880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025E67EB49D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000025E688EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025E6B05C8B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000025E6B07A6A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025E6B05C8B0>
          └ <function wrap_app_handling_exceptions at 0x0000025E686AE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>>
          └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000025E6865DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000025E6B03A4C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000025E6B07A910>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000025E6B0598B0>
          └ <function wrap_app_handling_exceptions at 0x0000025E686AE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000025E6B0598B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025E6B07A910>
                     └ <function get_request_handler.<locals>.app at 0x0000025E6B03A430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000025E686528B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025E6B07AD60>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000025E6B02B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000025E685C2D00>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025E6B07AD60>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000025E6AFE7700>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 103, in update_user
    stmt = update(User).where(and_(User.id == update_data.id)).values(update_data)
           │      │           │    │    │     │                       └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    │     └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x0000025E6AF884A0>
           │      │           │    └ <class 'app.models.user.User'>
           │      │           └ <function and_ at 0x0000025E6A92FF70>
           │      └ <class 'app.models.user.User'>
           └ <function update at 0x0000025E6A92FB80>

AttributeError: 'dict' object has no attribute 'id'
