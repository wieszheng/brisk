2024-03-09 00:23:10.964 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:23:10.965 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:23:10.966 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:23:10.966 | INFO     | uvicorn.server:serve:77 - Started server process [5580]
2024-03-09 00:23:10.967 | INFO     | uvicorn.server:serve:77 - Started server process [5580]
2024-03-09 00:23:10.967 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:23:10.968 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:23:10.968 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:23:10.969 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:23:10.970 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:23:46.669 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56960 - "GET /docs HTTP/1.1" 200
2024-03-09 00:23:46.927 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56960 - "GET /static/swagger-ui.css HTTP/1.1" 200
2024-03-09 00:23:46.930 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56959 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 200
2024-03-09 00:23:47.123 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56959 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:26:01.467 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:26:01.468 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:26:01.578 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:26:01.578 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:26:01.578 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:26:01.583 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:26:01.583 | INFO     | uvicorn.server:serve:87 - Finished server process [5580]
2024-03-09 00:26:01.583 | INFO     | uvicorn.server:serve:87 - Finished server process [5580]
2024-03-09 00:26:02.982 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:26:02.982 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:26:02.982 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:26:02.982 | INFO     | uvicorn.server:serve:77 - Started server process [1144]
2024-03-09 00:26:02.982 | INFO     | uvicorn.server:serve:77 - Started server process [1144]
2024-03-09 00:26:02.982 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:26:02.982 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:26:02.982 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:26:02.982 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:26:02.982 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:26:20.868 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56987 - "GET /docs HTTP/1.1" 200
2024-03-09 00:26:21.025 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56987 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:27:11.480 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:27:11.483 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:27:11.589 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:27:11.591 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:27:11.593 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:27:11.595 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:27:11.596 | INFO     | uvicorn.server:serve:87 - Finished server process [1144]
2024-03-09 00:27:11.598 | INFO     | uvicorn.server:serve:87 - Finished server process [1144]
2024-03-09 00:27:12.998 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:27:12.999 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:27:13.000 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:27:13.000 | INFO     | uvicorn.server:serve:77 - Started server process [13988]
2024-03-09 00:27:13.000 | INFO     | uvicorn.server:serve:77 - Started server process [13988]
2024-03-09 00:27:13.001 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:27:13.001 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:27:13.002 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:27:13.003 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:27:13.003 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:27:17.404 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56994 - "GET /docs HTTP/1.1" 200
2024-03-09 00:27:17.557 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56994 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:28:29.918 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:28:29.919 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:28:30.028 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:28:30.029 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:28:30.030 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:28:30.030 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:28:30.031 | INFO     | uvicorn.server:serve:87 - Finished server process [13988]
2024-03-09 00:28:30.031 | INFO     | uvicorn.server:serve:87 - Finished server process [13988]
2024-03-09 00:28:31.929 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:28:31.930 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:28:31.930 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:28:31.931 | INFO     | uvicorn.server:serve:77 - Started server process [3524]
2024-03-09 00:28:31.932 | INFO     | uvicorn.server:serve:77 - Started server process [3524]
2024-03-09 00:28:31.932 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:28:31.933 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:28:31.933 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:28:31.935 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:28:31.935 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:28:35.472 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57004 - "GET /docs HTTP/1.1" 200
2024-03-09 00:28:35.599 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57004 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:28:54.081 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57005 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 00:29:08.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57008 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:29:08.064 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B67003E8E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:29:08.108 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B67003E8E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:29:09.879 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57009 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:29:09.881 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B672C19910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B672C19A90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B672C19A90>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:29:09.898 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B672C19910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B672C19A90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B672C19A90>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:30:57.596 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:30:57.598 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:30:57.705 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:30:57.707 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:30:57.710 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:30:57.712 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:30:57.714 | INFO     | uvicorn.server:serve:87 - Finished server process [3524]
2024-03-09 00:30:57.716 | INFO     | uvicorn.server:serve:87 - Finished server process [3524]
2024-03-09 00:30:59.131 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:30:59.132 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:30:59.133 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:30:59.133 | INFO     | uvicorn.server:serve:77 - Started server process [5088]
2024-03-09 00:30:59.134 | INFO     | uvicorn.server:serve:77 - Started server process [5088]
2024-03-09 00:30:59.134 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:30:59.134 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:30:59.135 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:30:59.136 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:30:59.136 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:31:00.438 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57020 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:31:00.440 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000002189CEE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000002189CDF35E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002189CDF2C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002189EE08820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    └ <function subprocess_started at 0x000002189EDF2EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002189CEFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002189EDF20D0>
           │       │   └ <uvicorn.server.Server object at 0x000002189CEFDEE0>
           │       └ <function run at 0x000002189EA8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002189FFCB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002189EA8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002189EA8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002189EA904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002189E9FC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>
          └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002189FAD76D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002189FE17F10>>
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002189FB76040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002189F960EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002189FAD7940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002189FAD7940>
                     └ <function get_request_handler.<locals>.app at 0x000002189F960C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002189FAF5550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000218A2584520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x00000218A24D3C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:31:00.473 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000002189CEE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000002189CDF35E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002189CDF2C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002189EE08820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    └ <function subprocess_started at 0x000002189EDF2EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002189CEFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002189EDF20D0>
           │       │   └ <uvicorn.server.Server object at 0x000002189CEFDEE0>
           │       └ <function run at 0x000002189EA8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002189FFCB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002189EA8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002189EA8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002189EA904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002189E9FC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>
          └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002189FAD76D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002189FE17F10>>
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002189FB76040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002189F960EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002189FAD7940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002189FAD7940>
                     └ <function get_request_handler.<locals>.app at 0x000002189F960C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002189FAF5550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000218A2584520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x00000218A24D3C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:31:30.650 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:31:30.652 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:31:30.757 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:31:30.759 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:31:30.761 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:31:30.762 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:31:30.764 | INFO     | uvicorn.server:serve:87 - Finished server process [5088]
2024-03-09 00:31:30.764 | INFO     | uvicorn.server:serve:87 - Finished server process [5088]
2024-03-09 00:31:32.186 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:31:32.186 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:31:32.187 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:31:32.187 | INFO     | uvicorn.server:serve:77 - Started server process [7064]
2024-03-09 00:31:32.188 | INFO     | uvicorn.server:serve:77 - Started server process [7064]
2024-03-09 00:31:32.188 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:31:32.189 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:31:32.189 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:31:32.190 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:31:32.191 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:31:34.014 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57025 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:31:34.016 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000024547EF74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000024547DF35E0>
           └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000024547DF2C10>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024549E38820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024549E22EE0>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000024547F0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000024549E220D0>
           │       │   └ <uvicorn.server.Server object at 0x0000024547F0DEE0>
           │       └ <function run at 0x0000024549ABB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002454AFFB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024549ABC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024549ABC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024549ABF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024549A2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>
          └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002454AB096D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002454AE47F10>>
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002454ACB2040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002454A990EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002454AB09940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002454AB09940>
                     └ <function get_request_handler.<locals>.app at 0x000002454A990C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002454AB26550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002454D5B5520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000002454D503C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:31:34.052 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000024547EF74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000024547DF35E0>
           └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000024547DF2C10>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024549E38820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024549E22EE0>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000024547F0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000024549E220D0>
           │       │   └ <uvicorn.server.Server object at 0x0000024547F0DEE0>
           │       └ <function run at 0x0000024549ABB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002454AFFB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024549ABC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024549ABC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024549ABF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024549A2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>
          └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002454AB096D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002454AE47F10>>
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002454ACB2040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002454A990EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002454AB09940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002454AB09940>
                     └ <function get_request_handler.<locals>.app at 0x000002454A990C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002454AB26550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002454D5B5520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000002454D503C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:32:27.882 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:32:27.882 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:32:27.991 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:32:27.993 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:32:27.995 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:32:27.996 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:32:27.998 | INFO     | uvicorn.server:serve:87 - Finished server process [7064]
2024-03-09 00:32:27.999 | INFO     | uvicorn.server:serve:87 - Finished server process [7064]
2024-03-09 00:32:29.611 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:32:29.611 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:32:29.612 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:32:29.612 | INFO     | uvicorn.server:serve:77 - Started server process [13648]
2024-03-09 00:32:29.613 | INFO     | uvicorn.server:serve:77 - Started server process [13648]
2024-03-09 00:32:29.613 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:32:29.613 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:32:29.614 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:32:29.615 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:32:29.615 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:32:32.670 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57037 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:32:32.674 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F883B074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F8839F35E0>
           └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F8839F2C10>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F885A48820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F885A32EE0>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F883B1DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F885A320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F883B1DEE0>
           │       └ <function run at 0x000001F8856CC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F886BC7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F8856CD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F8856CD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F8856D04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F88563C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>
          └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F8867176D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F886A57F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F8867B6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F8865A3EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F886717940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F886717940>
                     └ <function get_request_handler.<locals>.app at 0x000001F8865A3C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F886735550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F8891C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token).data
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTUzMzQsImV...
                └ <function jwt_decode at 0x000001F88917E940>

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:32:32.712 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F883B074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F8839F35E0>
           └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F8839F2C10>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F885A48820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F885A32EE0>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F883B1DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F885A320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F883B1DEE0>
           │       └ <function run at 0x000001F8856CC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F886BC7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F8856CD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F8856CD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F8856D04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F88563C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>
          └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F8867176D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F886A57F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F8867B6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F8865A3EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F886717940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F886717940>
                     └ <function get_request_handler.<locals>.app at 0x000001F8865A3C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F886735550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F8891C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token).data
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTUzMzQsImV...
                └ <function jwt_decode at 0x000001F88917E940>

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:33:43.824 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:33:43.824 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:33:43.925 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:33:43.925 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:33:43.930 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:33:43.930 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:33:43.930 | INFO     | uvicorn.server:serve:87 - Finished server process [13648]
2024-03-09 00:33:43.930 | INFO     | uvicorn.server:serve:87 - Finished server process [13648]
2024-03-09 00:33:45.385 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:33:45.385 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:33:45.385 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:33:45.385 | INFO     | uvicorn.server:serve:77 - Started server process [13332]
2024-03-09 00:33:45.385 | INFO     | uvicorn.server:serve:77 - Started server process [13332]
2024-03-09 00:33:45.395 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:33:45.395 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:33:45.395 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:33:45.395 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:33:45.395 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:33:48.395 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57043 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:33:48.400 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F2482C74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F2481B35E0>
           └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F2481B2C10>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F24A608820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F24A5F2EE0>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F2482DDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F24A5F20D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F2482DDEE0>
           │       └ <function run at 0x000001F249E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F24B389340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F249E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F249E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F249E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F249DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>
          └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F24AED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F24B217F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F24AF96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F24AD63EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F24AED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F24AED9940>
                     └ <function get_request_handler.<locals>.app at 0x000001F24AD63C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F24AEEE550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F24D984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001F24D984520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:33:48.430 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F2482C74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F2481B35E0>
           └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F2481B2C10>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F24A608820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F24A5F2EE0>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F2482DDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F24A5F20D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F2482DDEE0>
           │       └ <function run at 0x000001F249E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F24B389340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F249E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F249E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F249E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F249DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>
          └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F24AED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F24B217F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F24AF96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F24AD63EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F24AED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F24AED9940>
                     └ <function get_request_handler.<locals>.app at 0x000001F24AD63C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F24AEEE550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F24D984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001F24D984520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:34:26.079 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:34:26.080 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:34:26.182 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:34:26.182 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:34:26.182 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:34:26.182 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:34:26.182 | INFO     | uvicorn.server:serve:87 - Finished server process [13332]
2024-03-09 00:34:26.182 | INFO     | uvicorn.server:serve:87 - Finished server process [13332]
2024-03-09 00:34:27.654 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:34:27.654 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:34:27.654 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:34:27.654 | INFO     | uvicorn.server:serve:77 - Started server process [6980]
2024-03-09 00:34:27.654 | INFO     | uvicorn.server:serve:77 - Started server process [6980]
2024-03-09 00:34:27.654 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:34:27.654 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:34:27.654 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:34:27.666 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:34:27.666 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:34:28.749 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57047 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:34:28.749 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x000001AF0A3074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x000001AF0A2135E0>
           └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001AF0A212C10>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001AF0C248820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    └ <function subprocess_started at 0x000001AF0C232EE0>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001AF0A31DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001AF0C2320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001AF0A31DEE0>
           │       └ <function run at 0x000001AF0BECB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001AF0D40B340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001AF0BECC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001AF0BECC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001AF0BECF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001AF0BE3C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>
          └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001AF0CF196D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001AF0D257F10>>
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001AF0CFB6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001AF0CDA2EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
                     └ <function get_request_handler.<locals>.app at 0x000001AF0CDA2C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001AF0CF27550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001AF0F9C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001AF0F9C4520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:34:28.772 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x000001AF0A3074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x000001AF0A2135E0>
           └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001AF0A212C10>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001AF0C248820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    └ <function subprocess_started at 0x000001AF0C232EE0>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001AF0A31DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001AF0C2320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001AF0A31DEE0>
           │       └ <function run at 0x000001AF0BECB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001AF0D40B340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001AF0BECC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001AF0BECC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001AF0BECF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001AF0BE3C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>
          └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001AF0CF196D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001AF0D257F10>>
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001AF0CFB6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001AF0CDA2EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
                     └ <function get_request_handler.<locals>.app at 0x000001AF0CDA2C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001AF0CF27550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001AF0F9C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001AF0F9C4520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:38:02.785 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57077 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 00:38:02.834 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:38:02.834 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:38:02.950 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:38:02.950 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:38:02.951 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:38:02.952 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:38:02.952 | INFO     | uvicorn.server:serve:87 - Finished server process [6980]
2024-03-09 00:38:02.953 | INFO     | uvicorn.server:serve:87 - Finished server process [6980]
2024-03-09 00:38:04.465 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:38:04.466 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:38:04.466 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:38:04.467 | INFO     | uvicorn.server:serve:77 - Started server process [4664]
2024-03-09 00:38:04.468 | INFO     | uvicorn.server:serve:77 - Started server process [4664]
2024-03-09 00:38:04.468 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:38:04.468 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:38:04.468 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:38:04.468 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:38:04.468 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:38:16.393 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57081 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:38:16.393 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 172
               │     └ 3
               └ <function _main at 0x000002B1AE8F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 172
           │    └ <function BaseProcess._bootstrap at 0x000002B1AE7D35E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002B1AE7D2C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002B1B0838820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    └ <function subprocess_started at 0x000002B1B0823EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002B1AE90DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002B1B08230D0>
           │       │   └ <uvicorn.server.Server object at 0x000002B1AE90DEE0>
           │       └ <function run at 0x000002B1B04BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002B1B19B9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002B1B04BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002B1B04BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002B1B04C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002B1B042C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>
          └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002B1B14318E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002B1B1847B80>>
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002B1B15C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002B1B1360A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
                     └ <function get_request_handler.<locals>.app at 0x000002B1B3F8EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002B1B151E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002B1B3FBB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000002B1B3FBB6A0>
       └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:38:16.435 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 172
               │     └ 3
               └ <function _main at 0x000002B1AE8F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 172
           │    └ <function BaseProcess._bootstrap at 0x000002B1AE7D35E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002B1AE7D2C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002B1B0838820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    └ <function subprocess_started at 0x000002B1B0823EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002B1AE90DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002B1B08230D0>
           │       │   └ <uvicorn.server.Server object at 0x000002B1AE90DEE0>
           │       └ <function run at 0x000002B1B04BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002B1B19B9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002B1B04BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002B1B04BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002B1B04C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002B1B042C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>
          └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002B1B14318E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002B1B1847B80>>
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002B1B15C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002B1B1360A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
                     └ <function get_request_handler.<locals>.app at 0x000002B1B3F8EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002B1B151E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002B1B3FBB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000002B1B3FBB6A0>
       └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:38:45.527 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:38:45.529 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:38:45.637 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:38:45.638 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:38:45.638 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:38:45.639 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:38:45.641 | INFO     | uvicorn.server:serve:87 - Finished server process [4664]
2024-03-09 00:38:45.642 | INFO     | uvicorn.server:serve:87 - Finished server process [4664]
2024-03-09 00:38:47.255 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:38:47.256 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:38:47.256 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:38:47.257 | INFO     | uvicorn.server:serve:77 - Started server process [11280]
2024-03-09 00:38:47.257 | INFO     | uvicorn.server:serve:77 - Started server process [11280]
2024-03-09 00:38:47.258 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:38:47.258 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:38:47.259 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:38:47.260 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:38:47.260 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:38:50.672 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57087 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:38:50.676 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x0000016ADF2D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x0000016ADF1E35E0>
           └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000016ADF1E2C10>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000016AE1208820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    └ <function subprocess_started at 0x0000016AE11F2EE0>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000016ADF2EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000016AE11F20D0>
           │       │   └ <uvicorn.server.Server object at 0x0000016ADF2EDEE0>
           │       └ <function run at 0x0000016AE0E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000016AE2388340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000016AE0E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000016AE0E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000016AE0E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000016AE0DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>
          └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000016AE1ED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000016AE2218F10>>
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000016AE1F6F040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000016AE1D60EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E149D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
                     └ <function get_request_handler.<locals>.app at 0x0000016AE1D60C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000016AE1EF9550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000016AE4984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x0000016AE48D2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:38:50.709 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x0000016ADF2D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x0000016ADF1E35E0>
           └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000016ADF1E2C10>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000016AE1208820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    └ <function subprocess_started at 0x0000016AE11F2EE0>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000016ADF2EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000016AE11F20D0>
           │       │   └ <uvicorn.server.Server object at 0x0000016ADF2EDEE0>
           │       └ <function run at 0x0000016AE0E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000016AE2388340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000016AE0E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000016AE0E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000016AE0E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000016AE0DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>
          └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000016AE1ED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000016AE2218F10>>
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000016AE1F6F040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000016AE1D60EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E149D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
                     └ <function get_request_handler.<locals>.app at 0x0000016AE1D60C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000016AE1EF9550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000016AE4984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x0000016AE48D2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:39:51.350 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:39:51.351 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:39:51.459 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:39:51.459 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:39:51.462 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:39:51.463 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:39:51.464 | INFO     | uvicorn.server:serve:87 - Finished server process [11280]
2024-03-09 00:39:51.466 | INFO     | uvicorn.server:serve:87 - Finished server process [11280]
2024-03-09 00:39:53.078 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:39:53.078 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:39:53.079 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:39:53.081 | INFO     | uvicorn.server:serve:77 - Started server process [11428]
2024-03-09 00:39:53.082 | INFO     | uvicorn.server:serve:77 - Started server process [11428]
2024-03-09 00:39:53.082 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:39:53.083 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:39:53.083 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:39:53.084 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:39:53.085 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:43:56.163 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57106 - "GET /docs HTTP/1.1" 200
2024-03-09 00:43:56.212 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:43:56.218 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:43:56.413 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57106 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-09 00:43:56.413 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:43:56.414 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:43:56.415 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:43:56.415 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:43:56.416 | INFO     | uvicorn.server:serve:87 - Finished server process [11428]
2024-03-09 00:43:56.416 | INFO     | uvicorn.server:serve:87 - Finished server process [11428]
2024-03-09 00:43:58.861 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:43:58.861 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:43:58.861 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:43:58.861 | INFO     | uvicorn.server:serve:77 - Started server process [11332]
2024-03-09 00:43:58.861 | INFO     | uvicorn.server:serve:77 - Started server process [11332]
2024-03-09 00:43:58.861 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:43:58.861 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:43:58.861 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:43:58.861 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:43:58.861 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:43:59.061 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57108 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-09 00:43:59.178 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57108 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:44:13.353 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57117 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 00:44:25.295 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57118 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:44:25.295 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x00000243519D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x00000243518E35E0>
           └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000243518E2C10>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024353918820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024353902EE0>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000243519EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000243539020D0>
           │       │   └ <uvicorn.server.Server object at 0x00000243519EDEE0>
           │       └ <function run at 0x000002435359C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000024354A96340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002435359D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002435359D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000243535A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002435350C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>
          └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000243570B2910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000024354928A00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000024354928A00>>
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000243547AF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000024354779AF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000243570B2E80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243570B0CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000243570B2E80>
                     └ <function get_request_handler.<locals>.app at 0x0000024354779A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000024354605550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000024357083FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
                 │        └ <staticmethod object at 0x0000024356FF2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:44:25.328 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x00000243519D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x00000243518E35E0>
           └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000243518E2C10>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024353918820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024353902EE0>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000243519EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000243539020D0>
           │       │   └ <uvicorn.server.Server object at 0x00000243519EDEE0>
           │       └ <function run at 0x000002435359C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000024354A96340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002435359D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002435359D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000243535A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002435350C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>
          └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000243570B2910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000024354928A00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000024354928A00>>
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000243547AF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000024354779AF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000243570B2E80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243570B0CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000243570B2E80>
                     └ <function get_request_handler.<locals>.app at 0x0000024354779A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000024354605550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000024357083FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
                 │        └ <staticmethod object at 0x0000024356FF2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:45:40.865 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:45:40.867 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:45:40.974 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:45:40.974 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:45:40.975 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:45:40.976 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:45:40.976 | INFO     | uvicorn.server:serve:87 - Finished server process [11332]
2024-03-09 00:45:40.976 | INFO     | uvicorn.server:serve:87 - Finished server process [11332]
2024-03-09 00:45:47.407 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:45:47.407 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:45:47.408 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:45:47.409 | INFO     | uvicorn.server:serve:77 - Started server process [6288]
2024-03-09 00:45:47.409 | INFO     | uvicorn.server:serve:77 - Started server process [6288]
2024-03-09 00:45:47.410 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:45:47.410 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:45:47.411 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:45:47.412 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:45:47.413 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:46:11.540 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:46:11.540 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:46:11.648 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:46:11.649 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:46:11.650 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:46:11.650 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:46:11.651 | INFO     | uvicorn.server:serve:87 - Finished server process [6288]
2024-03-09 00:46:11.651 | INFO     | uvicorn.server:serve:87 - Finished server process [6288]
2024-03-09 00:46:13.134 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:46:13.135 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:46:13.135 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:46:13.136 | INFO     | uvicorn.server:serve:77 - Started server process [10564]
2024-03-09 00:46:13.137 | INFO     | uvicorn.server:serve:77 - Started server process [10564]
2024-03-09 00:46:13.137 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:46:13.137 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:46:13.138 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:46:13.139 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:46:13.139 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:46:14.002 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57131 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:46:14.005 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 412
               │     └ 3
               └ <function _main at 0x000002A7031374C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 412
           │    └ <function BaseProcess._bootstrap at 0x000002A7030335E0>
           └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A703032C10>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A705078820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    └ <function subprocess_started at 0x000002A705062EE0>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A70314DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002A7050620D0>
           │       │   └ <uvicorn.server.Server object at 0x000002A70314DEE0>
           │       └ <function run at 0x000002A704CFB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A7061F6340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A704CFC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A704CFC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A704CFF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A704C6C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>
          └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002A705D476D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002A706087F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002A706087F10>>
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002A705E06040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002A705EDBAF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002A705D47940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FC9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A705D47940>
                     └ <function get_request_handler.<locals>.app at 0x000002A705EDBA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002A705D5E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002A7087D4FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    print(user_info.id)
          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:46:14.041 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 412
               │     └ 3
               └ <function _main at 0x000002A7031374C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 412
           │    └ <function BaseProcess._bootstrap at 0x000002A7030335E0>
           └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A703032C10>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A705078820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    └ <function subprocess_started at 0x000002A705062EE0>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A70314DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002A7050620D0>
           │       │   └ <uvicorn.server.Server object at 0x000002A70314DEE0>
           │       └ <function run at 0x000002A704CFB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A7061F6340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A704CFC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A704CFC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A704CFF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A704C6C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>
          └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002A705D476D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002A706087F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002A706087F10>>
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002A705E06040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002A705EDBAF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002A705D47940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FC9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A705D47940>
                     └ <function get_request_handler.<locals>.app at 0x000002A705EDBA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002A705D5E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002A7087D4FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    print(user_info.id)
          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:47:10.095 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:47:10.095 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:47:10.203 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:47:10.203 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:47:10.204 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:47:10.205 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:47:10.205 | INFO     | uvicorn.server:serve:87 - Finished server process [10564]
2024-03-09 00:47:10.206 | INFO     | uvicorn.server:serve:87 - Finished server process [10564]
2024-03-09 00:47:11.701 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:47:11.701 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:47:11.702 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:47:11.702 | INFO     | uvicorn.server:serve:77 - Started server process [10648]
2024-03-09 00:47:11.703 | INFO     | uvicorn.server:serve:77 - Started server process [10648]
2024-03-09 00:47:11.703 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:47:11.704 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:47:11.704 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:47:11.705 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:47:11.706 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:47:14.828 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57136 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 00:47:20.040 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57137 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 00:48:04.139 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:48:04.139 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:48:04.249 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:48:04.249 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:48:04.249 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:48:04.253 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:48:04.253 | INFO     | uvicorn.server:serve:87 - Finished server process [10648]
2024-03-09 00:48:04.253 | INFO     | uvicorn.server:serve:87 - Finished server process [10648]
2024-03-09 00:48:05.712 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:48:05.712 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:48:05.712 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:48:05.712 | INFO     | uvicorn.server:serve:77 - Started server process [11388]
2024-03-09 00:48:05.712 | INFO     | uvicorn.server:serve:77 - Started server process [11388]
2024-03-09 00:48:05.712 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:48:05.712 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:48:05.712 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:48:05.722 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:48:05.722 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:49:36.942 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57156 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 00:49:37.012 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:49:37.012 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:49:37.122 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:49:37.122 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:49:37.123 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:49:37.123 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:49:37.124 | INFO     | uvicorn.server:serve:87 - Finished server process [11388]
2024-03-09 00:49:37.124 | INFO     | uvicorn.server:serve:87 - Finished server process [11388]
2024-03-09 00:49:38.874 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:49:38.875 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:49:38.875 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:49:38.876 | INFO     | uvicorn.server:serve:77 - Started server process [15640]
2024-03-09 00:49:38.876 | INFO     | uvicorn.server:serve:77 - Started server process [15640]
2024-03-09 00:49:38.876 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:49:38.876 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:49:38.878 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:49:38.879 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:49:38.879 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:50:13.555 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 00:50:13.555 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 01:20:12.587 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 01:20:12.587 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 01:50:03.262 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:50:03.263 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:50:03.371 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:50:03.373 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:50:03.376 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:50:03.377 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:50:03.378 | INFO     | uvicorn.server:serve:87 - Finished server process [15640]
2024-03-09 01:50:03.378 | INFO     | uvicorn.server:serve:87 - Finished server process [15640]
2024-03-09 01:50:15.979 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:50:15.979 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:50:15.981 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:50:15.981 | INFO     | uvicorn.server:serve:77 - Started server process [16576]
2024-03-09 01:50:15.981 | INFO     | uvicorn.server:serve:77 - Started server process [16576]
2024-03-09 01:50:15.982 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:50:15.982 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:50:15.983 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:50:15.984 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:50:15.985 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:50:52.201 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:50:52.202 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:50:52.312 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:50:52.312 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:50:52.313 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:50:52.313 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:50:52.314 | INFO     | uvicorn.server:serve:87 - Finished server process [16576]
2024-03-09 01:50:52.314 | INFO     | uvicorn.server:serve:87 - Finished server process [16576]
2024-03-09 01:50:54.692 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:50:54.692 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:50:54.693 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:50:54.693 | INFO     | uvicorn.server:serve:77 - Started server process [13156]
2024-03-09 01:50:54.694 | INFO     | uvicorn.server:serve:77 - Started server process [13156]
2024-03-09 01:50:54.695 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:50:54.696 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:50:54.696 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:50:54.697 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:50:54.698 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:51:06.550 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57512 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:51:06.551 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000227672737F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x0000022767287280>
              └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x0000022767287430>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920266.550088
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x0000022767287670>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x00000227642F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x00000227641E35E0>
           └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000227641E2C10>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022766238820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    └ <function subprocess_started at 0x0000022766222EE0>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002276430DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000227662220D0>
           │       │   └ <uvicorn.server.Server object at 0x000002276430DEE0>
           │       └ <function run at 0x0000022765EBB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000227673B8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022765EBC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022765EBC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022765EBF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022765E2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>
          └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022766E32940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022767247B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022767247B80>>
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022766FC6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002276709CDC0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022766EE8040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
                     └ <function get_request_handler.<locals>.app at 0x000002276709CD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000022766F1E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000227699AEEB0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000002276996E9D0>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:51:06.592 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000227672737F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x0000022767287280>
              └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x0000022767287430>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920266.550088
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x0000022767287670>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x00000227642F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x00000227641E35E0>
           └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000227641E2C10>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022766238820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    └ <function subprocess_started at 0x0000022766222EE0>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002276430DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000227662220D0>
           │       │   └ <uvicorn.server.Server object at 0x000002276430DEE0>
           │       └ <function run at 0x0000022765EBB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000227673B8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022765EBC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022765EBC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022765EBF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022765E2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>
          └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022766E32940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022767247B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022767247B80>>
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022766FC6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002276709CDC0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022766EE8040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
                     └ <function get_request_handler.<locals>.app at 0x000002276709CD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000022766F1E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000227699AEEB0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000002276996E9D0>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:53:38.979 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:53:38.980 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:53:39.088 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:53:39.089 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:53:39.090 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:53:39.090 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:53:39.091 | INFO     | uvicorn.server:serve:87 - Finished server process [13156]
2024-03-09 01:53:39.092 | INFO     | uvicorn.server:serve:87 - Finished server process [13156]
2024-03-09 01:53:40.555 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:53:40.556 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:53:40.557 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:53:40.557 | INFO     | uvicorn.server:serve:77 - Started server process [1884]
2024-03-09 01:53:40.557 | INFO     | uvicorn.server:serve:77 - Started server process [1884]
2024-03-09 01:53:40.558 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:53:40.558 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:53:40.559 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:53:40.560 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:53:40.560 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:53:50.857 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:53:50.872 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:53:50.984 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:53:50.993 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:53:50.994 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:53:50.997 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:53:50.997 | INFO     | uvicorn.server:serve:87 - Finished server process [1884]
2024-03-09 01:53:51.000 | INFO     | uvicorn.server:serve:87 - Finished server process [1884]
2024-03-09 01:53:52.624 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:53:52.624 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:53:52.625 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:53:52.626 | INFO     | uvicorn.server:serve:77 - Started server process [8080]
2024-03-09 01:53:52.628 | INFO     | uvicorn.server:serve:77 - Started server process [8080]
2024-03-09 01:53:52.629 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:53:52.630 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:53:52.633 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:53:52.634 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:53:52.634 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:54:14.147 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57553 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:54:14.150 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x00000196EA977280>
              └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x00000196EA977430>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920454.14774
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x00000196EA977670>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000196E79F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000196E79035E0>
           └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000196E7902C10>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000196E9928820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    └ <function subprocess_started at 0x00000196E9910EE0>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000196E7A0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000196E99100D0>
           │       │   └ <uvicorn.server.Server object at 0x00000196E7A0DEE0>
           │       └ <function run at 0x00000196E95AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000196EAAA8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000196E95AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000196E95AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000196E95B04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000196E951C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>
          └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000196EA536790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000196ED03DD90>>
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000196EA7BF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000196EA445B80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000196EA536A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0A60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000196EA536A00>
                     └ <function get_request_handler.<locals>.app at 0x00000196EA445AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x00000196EA615550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000196ED083D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x00000196ED05FA60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:14.201 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x00000196EA977280>
              └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x00000196EA977430>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920454.14774
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x00000196EA977670>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000196E79F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000196E79035E0>
           └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000196E7902C10>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000196E9928820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    └ <function subprocess_started at 0x00000196E9910EE0>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000196E7A0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000196E99100D0>
           │       │   └ <uvicorn.server.Server object at 0x00000196E7A0DEE0>
           │       └ <function run at 0x00000196E95AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000196EAAA8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000196E95AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000196E95AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000196E95B04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000196E951C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>
          └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000196EA536790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000196ED03DD90>>
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000196EA7BF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000196EA445B80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000196EA536A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0A60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000196EA536A00>
                     └ <function get_request_handler.<locals>.app at 0x00000196EA445AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x00000196EA615550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000196ED083D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x00000196ED05FA60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:14.222 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:54:14.222 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:54:14.323 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:54:14.325 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:54:14.327 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:54:14.329 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:54:14.331 | INFO     | uvicorn.server:serve:87 - Finished server process [8080]
2024-03-09 01:54:14.333 | INFO     | uvicorn.server:serve:87 - Finished server process [8080]
2024-03-09 01:54:15.666 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:54:15.667 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:54:15.667 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:54:15.668 | INFO     | uvicorn.server:serve:77 - Started server process [10324]
2024-03-09 01:54:15.669 | INFO     | uvicorn.server:serve:77 - Started server process [10324]
2024-03-09 01:54:15.669 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:54:15.670 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:54:15.671 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:54:15.672 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:54:15.672 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:54:17.336 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57557 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:54:17.337 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920457.335285
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0B7A26790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:17.374 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920457.335285
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0B7A26790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:22.886 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57558 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:54:22.892 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 257, in _load
    signing_input, crypto_segment = jwt.rsplit(b".", 1)
                                    │   └ <method 'rsplit' of 'bytes' objects>
                                    └ b'121'

ValueError: not enough values to unpack (expected 2, got 1)


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 151, in decode_complete
    decoded = api_jws.decode_complete(
              │       └ <bound method PyJWS.decode_complete of <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>>
              └ <module 'jwt.api_jws' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\api_jws.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 198, in decode_complete
    payload, signing_input, header, signature = self._load(jwt)
                                                │    │     └ '121'
                                                │    └ <function PyJWS._load at 0x000001C0B7E52B80>
                                                └ <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 260, in _load
    raise DecodeError("Not enough segments") from err
          └ <class 'jwt.exceptions.DecodeError'>

jwt.exceptions.DecodeError: Not enough segments


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA73C5B0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA7325E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': '121'}
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ '121'
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 68, in jwt_decode
    raise Exception("Token不合法, 请重新登录")

Exception: Token不合法, 请重新登录
2024-03-09 01:54:22.919 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 257, in _load
    signing_input, crypto_segment = jwt.rsplit(b".", 1)
                                    │   └ <method 'rsplit' of 'bytes' objects>
                                    └ b'121'

ValueError: not enough values to unpack (expected 2, got 1)


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 151, in decode_complete
    decoded = api_jws.decode_complete(
              │       └ <bound method PyJWS.decode_complete of <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>>
              └ <module 'jwt.api_jws' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\api_jws.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 198, in decode_complete
    payload, signing_input, header, signature = self._load(jwt)
                                                │    │     └ '121'
                                                │    └ <function PyJWS._load at 0x000001C0B7E52B80>
                                                └ <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 260, in _load
    raise DecodeError("Not enough segments") from err
          └ <class 'jwt.exceptions.DecodeError'>

jwt.exceptions.DecodeError: Not enough segments


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA73C5B0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA7325E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': '121'}
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ '121'
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 68, in jwt_decode
    raise Exception("Token不合法, 请重新登录")

Exception: Token不合法, 请重新登录
2024-03-09 01:54:25.568 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57559 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:54:25.581 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920465.568024
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74A280>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:25.609 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920465.568024
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74A280>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:55:39.506 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57570 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:55:39.510 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920539.506754
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74AEE0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA74B040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:55:39.539 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920539.506754
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74AEE0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA74B040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:55:39.606 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:55:39.608 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:55:39.715 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:55:39.716 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:55:39.718 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:55:39.720 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:55:39.722 | INFO     | uvicorn.server:serve:87 - Finished server process [10324]
2024-03-09 01:55:39.723 | INFO     | uvicorn.server:serve:87 - Finished server process [10324]
2024-03-09 01:55:42.010 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:55:42.011 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:55:42.011 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:55:42.012 | INFO     | uvicorn.server:serve:77 - Started server process [9992]
2024-03-09 01:55:42.013 | INFO     | uvicorn.server:serve:77 - Started server process [9992]
2024-03-09 01:55:42.013 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:55:42.014 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:55:42.014 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:55:42.015 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:55:42.016 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:55:43.679 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57578 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:55:45.819 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57578 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:55:46.651 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57578 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:55:47.300 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57578 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:56:09.337 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57583 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:56:09.393 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:56:09.394 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:56:09.502 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:56:09.504 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:56:09.505 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:56:09.506 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:56:09.508 | INFO     | uvicorn.server:serve:87 - Finished server process [9992]
2024-03-09 01:56:09.509 | INFO     | uvicorn.server:serve:87 - Finished server process [9992]
2024-03-09 01:56:10.831 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:56:10.832 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:56:10.832 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:56:10.833 | INFO     | uvicorn.server:serve:77 - Started server process [12428]
2024-03-09 01:56:10.834 | INFO     | uvicorn.server:serve:77 - Started server process [12428]
2024-03-09 01:56:10.834 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:56:10.835 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:56:10.836 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:56:10.837 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:56:10.837 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:56:11.566 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57587 - "GET /api/v1/users/me HTTP/1.1" 403
2024-03-09 13:02:56.178 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 13:02:56.179 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 13:02:56.180 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 13:02:56.181 | INFO     | uvicorn.server:serve:77 - Started server process [1016]
2024-03-09 13:02:56.182 | INFO     | uvicorn.server:serve:77 - Started server process [1016]
2024-03-09 13:02:56.182 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:02:56.183 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:02:56.183 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 13:02:56.184 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:02:56.185 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:04:32.702 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:04:32.705 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:09:51.717 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:09:51.718 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:20:30.736 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:20:30.737 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:20:30.764 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:20:30.765 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:20:30.873 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:20:30.873 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:20:30.874 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:20:30.874 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:20:30.875 | INFO     | uvicorn.server:serve:87 - Finished server process [1016]
2024-03-09 13:20:30.875 | INFO     | uvicorn.server:serve:87 - Finished server process [1016]
2024-03-09 13:20:33.257 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 13:20:33.257 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 13:20:33.258 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 13:20:33.259 | INFO     | uvicorn.server:serve:77 - Started server process [9148]
2024-03-09 13:20:33.259 | INFO     | uvicorn.server:serve:77 - Started server process [9148]
2024-03-09 13:20:33.260 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:20:33.260 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:20:33.261 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 13:20:33.262 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:20:33.263 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:30:51.979 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:30:51.979 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:30:52.088 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:30:52.092 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:30:52.095 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:30:52.098 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:30:52.105 | INFO     | uvicorn.server:serve:87 - Finished server process [9148]
2024-03-09 13:30:52.106 | INFO     | uvicorn.server:serve:87 - Finished server process [9148]
2024-03-09 13:30:54.479 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 13:30:54.480 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 13:30:54.480 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 13:30:54.481 | INFO     | uvicorn.server:serve:77 - Started server process [7332]
2024-03-09 13:30:54.482 | INFO     | uvicorn.server:serve:77 - Started server process [7332]
2024-03-09 13:30:54.483 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:30:54.483 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:30:54.484 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 13:30:54.485 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:30:54.485 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:41:49.751 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:41:49.752 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:48:24.586 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:48:24.589 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:48:24.694 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:48:24.694 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:48:24.695 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:48:24.696 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:48:24.696 | INFO     | uvicorn.server:serve:87 - Finished server process [7332]
2024-03-09 13:48:24.697 | INFO     | uvicorn.server:serve:87 - Finished server process [7332]
2024-03-09 13:48:30.083 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 13:48:30.084 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 13:48:30.085 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 13:48:30.085 | INFO     | uvicorn.server:serve:77 - Started server process [14272]
2024-03-09 13:48:30.087 | INFO     | uvicorn.server:serve:77 - Started server process [14272]
2024-03-09 13:48:30.087 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:48:30.090 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:48:30.090 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 13:48:30.092 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:48:30.093 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 14:11:48.771 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 14:11:48.772 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 14:41:47.788 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 14:41:47.790 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:11:46.835 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:11:46.837 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:41:45.847 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:41:45.848 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:11:44.865 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:11:44.866 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:11:44.954 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:11:44.956 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:11:45.063 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:11:45.063 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:11:45.065 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:11:45.065 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:11:45.066 | INFO     | uvicorn.server:serve:87 - Finished server process [14272]
2024-03-09 16:11:45.067 | INFO     | uvicorn.server:serve:87 - Finished server process [14272]
2024-03-09 16:11:46.539 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 16:11:46.539 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 16:11:46.540 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 16:11:46.541 | INFO     | uvicorn.server:serve:77 - Started server process [12532]
2024-03-09 16:11:46.542 | INFO     | uvicorn.server:serve:77 - Started server process [12532]
2024-03-09 16:11:46.543 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:11:46.543 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:11:46.544 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 16:11:46.545 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:11:46.546 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:32:22.078 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:32:22.079 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:32:22.186 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:32:22.188 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:32:22.189 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:32:22.190 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:32:22.191 | INFO     | uvicorn.server:serve:87 - Finished server process [12532]
2024-03-09 16:32:22.192 | INFO     | uvicorn.server:serve:87 - Finished server process [12532]
2024-03-09 16:32:24.113 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 16:32:24.114 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 16:32:24.114 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 16:32:24.115 | INFO     | uvicorn.server:serve:77 - Started server process [3144]
2024-03-09 16:32:24.115 | INFO     | uvicorn.server:serve:77 - Started server process [3144]
2024-03-09 16:32:24.116 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:32:24.116 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:32:24.116 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 16:32:24.117 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:32:24.118 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:41:43.889 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:41:43.892 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:41:54.987 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60607 - "GET /docs HTTP/1.1" 200
2024-03-09 16:41:55.077 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:41:55.078 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:41:55.278 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60607 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-09 16:41:55.279 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60608 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-09 16:41:55.280 | INFO     | uvicorn.server:_wait_tasks_to_complete:303 - Waiting for connections to close. (CTRL+C to force quit)
2024-03-09 16:41:55.283 | INFO     | uvicorn.server:_wait_tasks_to_complete:303 - Waiting for connections to close. (CTRL+C to force quit)
2024-03-09 16:41:55.389 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:41:55.389 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:41:55.390 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:41:55.390 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:41:55.391 | INFO     | uvicorn.server:serve:87 - Finished server process [3144]
2024-03-09 16:41:55.392 | INFO     | uvicorn.server:serve:87 - Finished server process [3144]
2024-03-09 16:41:56.869 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 16:41:56.869 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 16:41:56.870 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 16:41:56.870 | INFO     | uvicorn.server:serve:77 - Started server process [10260]
2024-03-09 16:41:56.871 | INFO     | uvicorn.server:serve:77 - Started server process [10260]
2024-03-09 16:41:56.871 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:41:56.872 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:41:56.872 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 16:41:56.873 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:41:56.874 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:41:56.880 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60609 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:11:43.419 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 17:11:43.420 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 17:18:49.362 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61086 - "GET /docs HTTP/1.1" 200
2024-03-09 17:18:49.431 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 17:18:49.432 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 17:18:49.541 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 17:18:49.541 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 17:18:49.542 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 17:18:49.542 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 17:18:49.542 | INFO     | uvicorn.server:serve:87 - Finished server process [10260]
2024-03-09 17:18:49.544 | INFO     | uvicorn.server:serve:87 - Finished server process [10260]
2024-03-09 17:18:51.046 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 17:18:51.047 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 17:18:51.047 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 17:18:51.048 | INFO     | uvicorn.server:serve:77 - Started server process [6056]
2024-03-09 17:18:51.048 | INFO     | uvicorn.server:serve:77 - Started server process [6056]
2024-03-09 17:18:51.049 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 17:18:51.049 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 17:18:51.050 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 17:18:51.051 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 17:18:51.052 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 17:18:51.058 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:18:53.813 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /docs HTTP/1.1" 200
2024-03-09 17:18:53.921 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:18:56.027 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /docs HTTP/1.1" 200
2024-03-09 17:18:56.106 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:22:01.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61147 - "GET /docs HTTP/1.1" 200
2024-03-09 17:22:01.264 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61147 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:22:01.266 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 17:22:01.267 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 17:22:01.381 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 17:22:01.382 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 17:22:01.384 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 17:22:01.385 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 17:22:01.386 | INFO     | uvicorn.server:serve:87 - Finished server process [6056]
2024-03-09 17:22:01.387 | INFO     | uvicorn.server:serve:87 - Finished server process [6056]
2024-03-09 17:22:02.810 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 17:22:02.810 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 17:22:02.811 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 17:22:02.811 | INFO     | uvicorn.server:serve:77 - Started server process [1160]
2024-03-09 17:22:02.811 | INFO     | uvicorn.server:serve:77 - Started server process [1160]
2024-03-09 17:22:02.813 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 17:22:02.813 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 17:22:02.813 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 17:22:02.814 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 17:22:02.815 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 17:22:02.831 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61151 - "GET /docs HTTP/1.1" 200
2024-03-09 17:22:02.924 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61152 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:22:03.137 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61151 - "GET /static/favicon.png HTTP/1.1" 200
2024-03-09 17:41:42.438 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 17:41:42.439 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
