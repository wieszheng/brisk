2024-03-09 00:23:10.964 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:23:10.965 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:23:10.966 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:23:10.966 | INFO     | uvicorn.server:serve:77 - Started server process [5580]
2024-03-09 00:23:10.967 | INFO     | uvicorn.server:serve:77 - Started server process [5580]
2024-03-09 00:23:10.967 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:23:10.968 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:23:10.968 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:23:10.969 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:23:10.970 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:23:46.669 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56960 - "GET /docs HTTP/1.1" 200
2024-03-09 00:23:46.927 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56960 - "GET /static/swagger-ui.css HTTP/1.1" 200
2024-03-09 00:23:46.930 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56959 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 200
2024-03-09 00:23:47.123 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56959 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:26:01.467 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:26:01.468 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:26:01.578 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:26:01.578 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:26:01.578 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:26:01.583 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:26:01.583 | INFO     | uvicorn.server:serve:87 - Finished server process [5580]
2024-03-09 00:26:01.583 | INFO     | uvicorn.server:serve:87 - Finished server process [5580]
2024-03-09 00:26:02.982 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:26:02.982 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:26:02.982 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:26:02.982 | INFO     | uvicorn.server:serve:77 - Started server process [1144]
2024-03-09 00:26:02.982 | INFO     | uvicorn.server:serve:77 - Started server process [1144]
2024-03-09 00:26:02.982 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:26:02.982 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:26:02.982 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:26:02.982 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:26:02.982 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:26:20.868 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56987 - "GET /docs HTTP/1.1" 200
2024-03-09 00:26:21.025 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56987 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:27:11.480 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:27:11.483 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:27:11.589 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:27:11.591 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:27:11.593 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:27:11.595 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:27:11.596 | INFO     | uvicorn.server:serve:87 - Finished server process [1144]
2024-03-09 00:27:11.598 | INFO     | uvicorn.server:serve:87 - Finished server process [1144]
2024-03-09 00:27:12.998 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:27:12.999 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:27:13.000 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:27:13.000 | INFO     | uvicorn.server:serve:77 - Started server process [13988]
2024-03-09 00:27:13.000 | INFO     | uvicorn.server:serve:77 - Started server process [13988]
2024-03-09 00:27:13.001 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:27:13.001 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:27:13.002 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:27:13.003 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:27:13.003 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:27:17.404 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56994 - "GET /docs HTTP/1.1" 200
2024-03-09 00:27:17.557 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56994 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:28:29.918 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:28:29.919 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:28:30.028 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:28:30.029 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:28:30.030 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:28:30.030 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:28:30.031 | INFO     | uvicorn.server:serve:87 - Finished server process [13988]
2024-03-09 00:28:30.031 | INFO     | uvicorn.server:serve:87 - Finished server process [13988]
2024-03-09 00:28:31.929 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:28:31.930 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:28:31.930 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:28:31.931 | INFO     | uvicorn.server:serve:77 - Started server process [3524]
2024-03-09 00:28:31.932 | INFO     | uvicorn.server:serve:77 - Started server process [3524]
2024-03-09 00:28:31.932 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:28:31.933 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:28:31.933 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:28:31.935 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:28:31.935 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:28:35.472 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57004 - "GET /docs HTTP/1.1" 200
2024-03-09 00:28:35.599 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57004 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:28:54.081 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57005 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 00:29:08.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57008 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:29:08.064 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B67003E8E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:29:08.108 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B67003E8E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:29:09.879 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57009 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:29:09.881 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B672C19910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B672C19A90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B672C19A90>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:29:09.898 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B672C19910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B672C19A90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B672C19A90>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:30:57.596 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:30:57.598 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:30:57.705 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:30:57.707 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:30:57.710 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:30:57.712 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:30:57.714 | INFO     | uvicorn.server:serve:87 - Finished server process [3524]
2024-03-09 00:30:57.716 | INFO     | uvicorn.server:serve:87 - Finished server process [3524]
2024-03-09 00:30:59.131 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:30:59.132 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:30:59.133 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:30:59.133 | INFO     | uvicorn.server:serve:77 - Started server process [5088]
2024-03-09 00:30:59.134 | INFO     | uvicorn.server:serve:77 - Started server process [5088]
2024-03-09 00:30:59.134 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:30:59.134 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:30:59.135 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:30:59.136 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:30:59.136 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:31:00.438 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57020 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:31:00.440 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000002189CEE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000002189CDF35E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002189CDF2C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002189EE08820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    └ <function subprocess_started at 0x000002189EDF2EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002189CEFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002189EDF20D0>
           │       │   └ <uvicorn.server.Server object at 0x000002189CEFDEE0>
           │       └ <function run at 0x000002189EA8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002189FFCB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002189EA8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002189EA8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002189EA904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002189E9FC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>
          └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002189FAD76D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002189FE17F10>>
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002189FB76040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002189F960EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002189FAD7940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002189FAD7940>
                     └ <function get_request_handler.<locals>.app at 0x000002189F960C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002189FAF5550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000218A2584520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x00000218A24D3C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:31:00.473 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000002189CEE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000002189CDF35E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002189CDF2C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002189EE08820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    └ <function subprocess_started at 0x000002189EDF2EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002189CEFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002189EDF20D0>
           │       │   └ <uvicorn.server.Server object at 0x000002189CEFDEE0>
           │       └ <function run at 0x000002189EA8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002189FFCB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002189EA8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002189EA8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002189EA904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002189E9FC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>
          └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002189FAD76D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002189FE17F10>>
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002189FB76040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002189F960EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002189FAD7940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002189FAD7940>
                     └ <function get_request_handler.<locals>.app at 0x000002189F960C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002189FAF5550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000218A2584520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x00000218A24D3C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:31:30.650 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:31:30.652 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:31:30.757 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:31:30.759 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:31:30.761 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:31:30.762 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:31:30.764 | INFO     | uvicorn.server:serve:87 - Finished server process [5088]
2024-03-09 00:31:30.764 | INFO     | uvicorn.server:serve:87 - Finished server process [5088]
2024-03-09 00:31:32.186 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:31:32.186 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:31:32.187 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:31:32.187 | INFO     | uvicorn.server:serve:77 - Started server process [7064]
2024-03-09 00:31:32.188 | INFO     | uvicorn.server:serve:77 - Started server process [7064]
2024-03-09 00:31:32.188 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:31:32.189 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:31:32.189 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:31:32.190 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:31:32.191 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:31:34.014 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57025 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:31:34.016 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000024547EF74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000024547DF35E0>
           └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000024547DF2C10>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024549E38820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024549E22EE0>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000024547F0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000024549E220D0>
           │       │   └ <uvicorn.server.Server object at 0x0000024547F0DEE0>
           │       └ <function run at 0x0000024549ABB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002454AFFB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024549ABC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024549ABC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024549ABF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024549A2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>
          └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002454AB096D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002454AE47F10>>
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002454ACB2040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002454A990EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002454AB09940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002454AB09940>
                     └ <function get_request_handler.<locals>.app at 0x000002454A990C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002454AB26550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002454D5B5520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000002454D503C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:31:34.052 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000024547EF74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000024547DF35E0>
           └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000024547DF2C10>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024549E38820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024549E22EE0>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000024547F0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000024549E220D0>
           │       │   └ <uvicorn.server.Server object at 0x0000024547F0DEE0>
           │       └ <function run at 0x0000024549ABB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002454AFFB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024549ABC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024549ABC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024549ABF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024549A2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>
          └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002454AB096D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002454AE47F10>>
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002454ACB2040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002454A990EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002454AB09940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002454AB09940>
                     └ <function get_request_handler.<locals>.app at 0x000002454A990C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002454AB26550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002454D5B5520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000002454D503C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:32:27.882 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:32:27.882 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:32:27.991 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:32:27.993 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:32:27.995 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:32:27.996 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:32:27.998 | INFO     | uvicorn.server:serve:87 - Finished server process [7064]
2024-03-09 00:32:27.999 | INFO     | uvicorn.server:serve:87 - Finished server process [7064]
2024-03-09 00:32:29.611 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:32:29.611 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:32:29.612 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:32:29.612 | INFO     | uvicorn.server:serve:77 - Started server process [13648]
2024-03-09 00:32:29.613 | INFO     | uvicorn.server:serve:77 - Started server process [13648]
2024-03-09 00:32:29.613 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:32:29.613 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:32:29.614 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:32:29.615 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:32:29.615 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:32:32.670 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57037 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:32:32.674 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F883B074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F8839F35E0>
           └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F8839F2C10>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F885A48820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F885A32EE0>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F883B1DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F885A320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F883B1DEE0>
           │       └ <function run at 0x000001F8856CC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F886BC7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F8856CD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F8856CD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F8856D04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F88563C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>
          └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F8867176D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F886A57F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F8867B6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F8865A3EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F886717940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F886717940>
                     └ <function get_request_handler.<locals>.app at 0x000001F8865A3C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F886735550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F8891C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token).data
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTUzMzQsImV...
                └ <function jwt_decode at 0x000001F88917E940>

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:32:32.712 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F883B074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F8839F35E0>
           └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F8839F2C10>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F885A48820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F885A32EE0>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F883B1DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F885A320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F883B1DEE0>
           │       └ <function run at 0x000001F8856CC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F886BC7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F8856CD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F8856CD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F8856D04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F88563C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>
          └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F8867176D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F886A57F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F8867B6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F8865A3EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F886717940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F886717940>
                     └ <function get_request_handler.<locals>.app at 0x000001F8865A3C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F886735550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F8891C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token).data
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTUzMzQsImV...
                └ <function jwt_decode at 0x000001F88917E940>

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:33:43.824 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:33:43.824 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:33:43.925 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:33:43.925 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:33:43.930 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:33:43.930 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:33:43.930 | INFO     | uvicorn.server:serve:87 - Finished server process [13648]
2024-03-09 00:33:43.930 | INFO     | uvicorn.server:serve:87 - Finished server process [13648]
2024-03-09 00:33:45.385 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:33:45.385 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:33:45.385 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:33:45.385 | INFO     | uvicorn.server:serve:77 - Started server process [13332]
2024-03-09 00:33:45.385 | INFO     | uvicorn.server:serve:77 - Started server process [13332]
2024-03-09 00:33:45.395 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:33:45.395 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:33:45.395 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:33:45.395 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:33:45.395 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:33:48.395 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57043 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:33:48.400 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F2482C74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F2481B35E0>
           └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F2481B2C10>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F24A608820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F24A5F2EE0>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F2482DDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F24A5F20D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F2482DDEE0>
           │       └ <function run at 0x000001F249E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F24B389340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F249E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F249E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F249E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F249DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>
          └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F24AED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F24B217F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F24AF96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F24AD63EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F24AED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F24AED9940>
                     └ <function get_request_handler.<locals>.app at 0x000001F24AD63C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F24AEEE550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F24D984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001F24D984520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:33:48.430 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F2482C74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F2481B35E0>
           └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F2481B2C10>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F24A608820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F24A5F2EE0>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F2482DDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F24A5F20D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F2482DDEE0>
           │       └ <function run at 0x000001F249E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F24B389340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F249E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F249E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F249E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F249DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>
          └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F24AED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F24B217F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F24AF96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F24AD63EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F24AED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F24AED9940>
                     └ <function get_request_handler.<locals>.app at 0x000001F24AD63C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F24AEEE550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F24D984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001F24D984520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:34:26.079 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:34:26.080 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:34:26.182 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:34:26.182 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:34:26.182 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:34:26.182 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:34:26.182 | INFO     | uvicorn.server:serve:87 - Finished server process [13332]
2024-03-09 00:34:26.182 | INFO     | uvicorn.server:serve:87 - Finished server process [13332]
2024-03-09 00:34:27.654 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:34:27.654 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:34:27.654 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:34:27.654 | INFO     | uvicorn.server:serve:77 - Started server process [6980]
2024-03-09 00:34:27.654 | INFO     | uvicorn.server:serve:77 - Started server process [6980]
2024-03-09 00:34:27.654 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:34:27.654 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:34:27.654 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:34:27.666 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:34:27.666 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:34:28.749 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57047 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:34:28.749 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x000001AF0A3074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x000001AF0A2135E0>
           └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001AF0A212C10>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001AF0C248820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    └ <function subprocess_started at 0x000001AF0C232EE0>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001AF0A31DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001AF0C2320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001AF0A31DEE0>
           │       └ <function run at 0x000001AF0BECB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001AF0D40B340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001AF0BECC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001AF0BECC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001AF0BECF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001AF0BE3C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>
          └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001AF0CF196D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001AF0D257F10>>
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001AF0CFB6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001AF0CDA2EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
                     └ <function get_request_handler.<locals>.app at 0x000001AF0CDA2C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001AF0CF27550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001AF0F9C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001AF0F9C4520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:34:28.772 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x000001AF0A3074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x000001AF0A2135E0>
           └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001AF0A212C10>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001AF0C248820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    └ <function subprocess_started at 0x000001AF0C232EE0>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001AF0A31DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001AF0C2320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001AF0A31DEE0>
           │       └ <function run at 0x000001AF0BECB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001AF0D40B340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001AF0BECC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001AF0BECC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001AF0BECF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001AF0BE3C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>
          └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001AF0CF196D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001AF0D257F10>>
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001AF0CFB6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001AF0CDA2EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
                     └ <function get_request_handler.<locals>.app at 0x000001AF0CDA2C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001AF0CF27550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001AF0F9C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001AF0F9C4520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:38:02.785 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57077 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 00:38:02.834 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:38:02.834 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:38:02.950 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:38:02.950 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:38:02.951 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:38:02.952 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:38:02.952 | INFO     | uvicorn.server:serve:87 - Finished server process [6980]
2024-03-09 00:38:02.953 | INFO     | uvicorn.server:serve:87 - Finished server process [6980]
2024-03-09 00:38:04.465 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:38:04.466 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:38:04.466 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:38:04.467 | INFO     | uvicorn.server:serve:77 - Started server process [4664]
2024-03-09 00:38:04.468 | INFO     | uvicorn.server:serve:77 - Started server process [4664]
2024-03-09 00:38:04.468 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:38:04.468 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:38:04.468 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:38:04.468 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:38:04.468 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:38:16.393 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57081 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:38:16.393 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 172
               │     └ 3
               └ <function _main at 0x000002B1AE8F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 172
           │    └ <function BaseProcess._bootstrap at 0x000002B1AE7D35E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002B1AE7D2C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002B1B0838820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    └ <function subprocess_started at 0x000002B1B0823EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002B1AE90DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002B1B08230D0>
           │       │   └ <uvicorn.server.Server object at 0x000002B1AE90DEE0>
           │       └ <function run at 0x000002B1B04BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002B1B19B9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002B1B04BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002B1B04BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002B1B04C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002B1B042C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>
          └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002B1B14318E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002B1B1847B80>>
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002B1B15C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002B1B1360A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
                     └ <function get_request_handler.<locals>.app at 0x000002B1B3F8EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002B1B151E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002B1B3FBB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000002B1B3FBB6A0>
       └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:38:16.435 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 172
               │     └ 3
               └ <function _main at 0x000002B1AE8F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 172
           │    └ <function BaseProcess._bootstrap at 0x000002B1AE7D35E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002B1AE7D2C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002B1B0838820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    └ <function subprocess_started at 0x000002B1B0823EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002B1AE90DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002B1B08230D0>
           │       │   └ <uvicorn.server.Server object at 0x000002B1AE90DEE0>
           │       └ <function run at 0x000002B1B04BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002B1B19B9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002B1B04BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002B1B04BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002B1B04C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002B1B042C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>
          └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002B1B14318E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002B1B1847B80>>
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002B1B15C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002B1B1360A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
                     └ <function get_request_handler.<locals>.app at 0x000002B1B3F8EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002B1B151E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002B1B3FBB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000002B1B3FBB6A0>
       └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:38:45.527 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:38:45.529 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:38:45.637 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:38:45.638 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:38:45.638 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:38:45.639 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:38:45.641 | INFO     | uvicorn.server:serve:87 - Finished server process [4664]
2024-03-09 00:38:45.642 | INFO     | uvicorn.server:serve:87 - Finished server process [4664]
2024-03-09 00:38:47.255 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:38:47.256 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:38:47.256 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:38:47.257 | INFO     | uvicorn.server:serve:77 - Started server process [11280]
2024-03-09 00:38:47.257 | INFO     | uvicorn.server:serve:77 - Started server process [11280]
2024-03-09 00:38:47.258 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:38:47.258 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:38:47.259 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:38:47.260 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:38:47.260 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:38:50.672 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57087 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:38:50.676 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x0000016ADF2D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x0000016ADF1E35E0>
           └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000016ADF1E2C10>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000016AE1208820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    └ <function subprocess_started at 0x0000016AE11F2EE0>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000016ADF2EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000016AE11F20D0>
           │       │   └ <uvicorn.server.Server object at 0x0000016ADF2EDEE0>
           │       └ <function run at 0x0000016AE0E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000016AE2388340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000016AE0E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000016AE0E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000016AE0E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000016AE0DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>
          └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000016AE1ED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000016AE2218F10>>
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000016AE1F6F040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000016AE1D60EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E149D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
                     └ <function get_request_handler.<locals>.app at 0x0000016AE1D60C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000016AE1EF9550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000016AE4984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x0000016AE48D2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:38:50.709 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x0000016ADF2D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x0000016ADF1E35E0>
           └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000016ADF1E2C10>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000016AE1208820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    └ <function subprocess_started at 0x0000016AE11F2EE0>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000016ADF2EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000016AE11F20D0>
           │       │   └ <uvicorn.server.Server object at 0x0000016ADF2EDEE0>
           │       └ <function run at 0x0000016AE0E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000016AE2388340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000016AE0E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000016AE0E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000016AE0E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000016AE0DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>
          └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000016AE1ED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000016AE2218F10>>
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000016AE1F6F040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000016AE1D60EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E149D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
                     └ <function get_request_handler.<locals>.app at 0x0000016AE1D60C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000016AE1EF9550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000016AE4984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x0000016AE48D2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:39:51.350 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:39:51.351 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:39:51.459 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:39:51.459 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:39:51.462 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:39:51.463 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:39:51.464 | INFO     | uvicorn.server:serve:87 - Finished server process [11280]
2024-03-09 00:39:51.466 | INFO     | uvicorn.server:serve:87 - Finished server process [11280]
2024-03-09 00:39:53.078 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:39:53.078 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:39:53.079 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:39:53.081 | INFO     | uvicorn.server:serve:77 - Started server process [11428]
2024-03-09 00:39:53.082 | INFO     | uvicorn.server:serve:77 - Started server process [11428]
2024-03-09 00:39:53.082 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:39:53.083 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:39:53.083 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:39:53.084 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:39:53.085 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:43:56.163 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57106 - "GET /docs HTTP/1.1" 200
2024-03-09 00:43:56.212 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:43:56.218 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:43:56.413 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57106 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-09 00:43:56.413 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:43:56.414 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:43:56.415 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:43:56.415 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:43:56.416 | INFO     | uvicorn.server:serve:87 - Finished server process [11428]
2024-03-09 00:43:56.416 | INFO     | uvicorn.server:serve:87 - Finished server process [11428]
2024-03-09 00:43:58.861 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:43:58.861 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:43:58.861 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:43:58.861 | INFO     | uvicorn.server:serve:77 - Started server process [11332]
2024-03-09 00:43:58.861 | INFO     | uvicorn.server:serve:77 - Started server process [11332]
2024-03-09 00:43:58.861 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:43:58.861 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:43:58.861 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:43:58.861 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:43:58.861 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:43:59.061 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57108 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-09 00:43:59.178 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57108 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:44:13.353 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57117 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 00:44:25.295 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57118 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:44:25.295 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x00000243519D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x00000243518E35E0>
           └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000243518E2C10>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024353918820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024353902EE0>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000243519EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000243539020D0>
           │       │   └ <uvicorn.server.Server object at 0x00000243519EDEE0>
           │       └ <function run at 0x000002435359C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000024354A96340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002435359D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002435359D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000243535A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002435350C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>
          └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000243570B2910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000024354928A00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000024354928A00>>
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000243547AF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000024354779AF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000243570B2E80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243570B0CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000243570B2E80>
                     └ <function get_request_handler.<locals>.app at 0x0000024354779A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000024354605550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000024357083FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
                 │        └ <staticmethod object at 0x0000024356FF2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:44:25.328 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x00000243519D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x00000243518E35E0>
           └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000243518E2C10>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024353918820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024353902EE0>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000243519EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000243539020D0>
           │       │   └ <uvicorn.server.Server object at 0x00000243519EDEE0>
           │       └ <function run at 0x000002435359C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000024354A96340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002435359D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002435359D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000243535A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002435350C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>
          └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000243570B2910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000024354928A00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000024354928A00>>
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000243547AF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000024354779AF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000243570B2E80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243570B0CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000243570B2E80>
                     └ <function get_request_handler.<locals>.app at 0x0000024354779A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000024354605550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000024357083FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
                 │        └ <staticmethod object at 0x0000024356FF2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:45:40.865 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:45:40.867 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:45:40.974 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:45:40.974 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:45:40.975 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:45:40.976 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:45:40.976 | INFO     | uvicorn.server:serve:87 - Finished server process [11332]
2024-03-09 00:45:40.976 | INFO     | uvicorn.server:serve:87 - Finished server process [11332]
2024-03-09 00:45:47.407 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:45:47.407 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:45:47.408 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:45:47.409 | INFO     | uvicorn.server:serve:77 - Started server process [6288]
2024-03-09 00:45:47.409 | INFO     | uvicorn.server:serve:77 - Started server process [6288]
2024-03-09 00:45:47.410 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:45:47.410 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:45:47.411 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:45:47.412 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:45:47.413 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:46:11.540 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:46:11.540 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:46:11.648 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:46:11.649 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:46:11.650 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:46:11.650 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:46:11.651 | INFO     | uvicorn.server:serve:87 - Finished server process [6288]
2024-03-09 00:46:11.651 | INFO     | uvicorn.server:serve:87 - Finished server process [6288]
2024-03-09 00:46:13.134 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:46:13.135 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:46:13.135 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:46:13.136 | INFO     | uvicorn.server:serve:77 - Started server process [10564]
2024-03-09 00:46:13.137 | INFO     | uvicorn.server:serve:77 - Started server process [10564]
2024-03-09 00:46:13.137 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:46:13.137 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:46:13.138 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:46:13.139 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:46:13.139 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:46:14.002 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57131 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:46:14.005 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 412
               │     └ 3
               └ <function _main at 0x000002A7031374C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 412
           │    └ <function BaseProcess._bootstrap at 0x000002A7030335E0>
           └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A703032C10>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A705078820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    └ <function subprocess_started at 0x000002A705062EE0>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A70314DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002A7050620D0>
           │       │   └ <uvicorn.server.Server object at 0x000002A70314DEE0>
           │       └ <function run at 0x000002A704CFB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A7061F6340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A704CFC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A704CFC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A704CFF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A704C6C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>
          └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002A705D476D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002A706087F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002A706087F10>>
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002A705E06040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002A705EDBAF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002A705D47940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FC9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A705D47940>
                     └ <function get_request_handler.<locals>.app at 0x000002A705EDBA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002A705D5E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002A7087D4FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    print(user_info.id)
          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:46:14.041 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 412
               │     └ 3
               └ <function _main at 0x000002A7031374C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 412
           │    └ <function BaseProcess._bootstrap at 0x000002A7030335E0>
           └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A703032C10>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A705078820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    └ <function subprocess_started at 0x000002A705062EE0>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A70314DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002A7050620D0>
           │       │   └ <uvicorn.server.Server object at 0x000002A70314DEE0>
           │       └ <function run at 0x000002A704CFB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A7061F6340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A704CFC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A704CFC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A704CFF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A704C6C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>
          └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002A705D476D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002A706087F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002A706087F10>>
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002A705E06040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002A705EDBAF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002A705D47940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FC9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A705D47940>
                     └ <function get_request_handler.<locals>.app at 0x000002A705EDBA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002A705D5E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002A7087D4FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    print(user_info.id)
          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:47:10.095 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:47:10.095 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:47:10.203 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:47:10.203 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:47:10.204 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:47:10.205 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:47:10.205 | INFO     | uvicorn.server:serve:87 - Finished server process [10564]
2024-03-09 00:47:10.206 | INFO     | uvicorn.server:serve:87 - Finished server process [10564]
2024-03-09 00:47:11.701 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:47:11.701 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:47:11.702 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:47:11.702 | INFO     | uvicorn.server:serve:77 - Started server process [10648]
2024-03-09 00:47:11.703 | INFO     | uvicorn.server:serve:77 - Started server process [10648]
2024-03-09 00:47:11.703 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:47:11.704 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:47:11.704 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:47:11.705 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:47:11.706 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:47:14.828 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57136 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 00:47:20.040 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57137 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 00:48:04.139 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:48:04.139 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:48:04.249 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:48:04.249 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:48:04.249 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:48:04.253 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:48:04.253 | INFO     | uvicorn.server:serve:87 - Finished server process [10648]
2024-03-09 00:48:04.253 | INFO     | uvicorn.server:serve:87 - Finished server process [10648]
2024-03-09 00:48:05.712 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:48:05.712 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:48:05.712 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:48:05.712 | INFO     | uvicorn.server:serve:77 - Started server process [11388]
2024-03-09 00:48:05.712 | INFO     | uvicorn.server:serve:77 - Started server process [11388]
2024-03-09 00:48:05.712 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:48:05.712 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:48:05.712 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:48:05.722 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:48:05.722 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:49:36.942 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57156 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 00:49:37.012 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:49:37.012 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:49:37.122 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:49:37.122 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:49:37.123 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:49:37.123 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:49:37.124 | INFO     | uvicorn.server:serve:87 - Finished server process [11388]
2024-03-09 00:49:37.124 | INFO     | uvicorn.server:serve:87 - Finished server process [11388]
2024-03-09 00:49:38.874 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:49:38.875 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:49:38.875 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:49:38.876 | INFO     | uvicorn.server:serve:77 - Started server process [15640]
2024-03-09 00:49:38.876 | INFO     | uvicorn.server:serve:77 - Started server process [15640]
2024-03-09 00:49:38.876 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:49:38.876 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:49:38.878 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:49:38.879 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:49:38.879 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:50:13.555 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 00:50:13.555 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 01:20:12.587 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 01:20:12.587 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 01:50:03.262 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:50:03.263 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:50:03.371 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:50:03.373 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:50:03.376 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:50:03.377 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:50:03.378 | INFO     | uvicorn.server:serve:87 - Finished server process [15640]
2024-03-09 01:50:03.378 | INFO     | uvicorn.server:serve:87 - Finished server process [15640]
2024-03-09 01:50:15.979 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:50:15.979 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:50:15.981 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:50:15.981 | INFO     | uvicorn.server:serve:77 - Started server process [16576]
2024-03-09 01:50:15.981 | INFO     | uvicorn.server:serve:77 - Started server process [16576]
2024-03-09 01:50:15.982 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:50:15.982 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:50:15.983 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:50:15.984 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:50:15.985 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:50:52.201 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:50:52.202 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:50:52.312 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:50:52.312 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:50:52.313 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:50:52.313 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:50:52.314 | INFO     | uvicorn.server:serve:87 - Finished server process [16576]
2024-03-09 01:50:52.314 | INFO     | uvicorn.server:serve:87 - Finished server process [16576]
2024-03-09 01:50:54.692 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:50:54.692 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:50:54.693 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:50:54.693 | INFO     | uvicorn.server:serve:77 - Started server process [13156]
2024-03-09 01:50:54.694 | INFO     | uvicorn.server:serve:77 - Started server process [13156]
2024-03-09 01:50:54.695 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:50:54.696 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:50:54.696 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:50:54.697 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:50:54.698 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:51:06.550 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57512 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:51:06.551 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000227672737F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x0000022767287280>
              └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x0000022767287430>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920266.550088
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x0000022767287670>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x00000227642F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x00000227641E35E0>
           └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000227641E2C10>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022766238820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    └ <function subprocess_started at 0x0000022766222EE0>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002276430DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000227662220D0>
           │       │   └ <uvicorn.server.Server object at 0x000002276430DEE0>
           │       └ <function run at 0x0000022765EBB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000227673B8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022765EBC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022765EBC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022765EBF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022765E2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>
          └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022766E32940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022767247B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022767247B80>>
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022766FC6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002276709CDC0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022766EE8040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
                     └ <function get_request_handler.<locals>.app at 0x000002276709CD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000022766F1E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000227699AEEB0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000002276996E9D0>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:51:06.592 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000227672737F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x0000022767287280>
              └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x0000022767287430>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920266.550088
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x0000022767287670>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x00000227642F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x00000227641E35E0>
           └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000227641E2C10>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022766238820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    └ <function subprocess_started at 0x0000022766222EE0>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002276430DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000227662220D0>
           │       │   └ <uvicorn.server.Server object at 0x000002276430DEE0>
           │       └ <function run at 0x0000022765EBB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000227673B8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022765EBC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022765EBC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022765EBF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022765E2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>
          └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022766E32940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022767247B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022767247B80>>
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022766FC6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002276709CDC0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022766EE8040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
                     └ <function get_request_handler.<locals>.app at 0x000002276709CD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000022766F1E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000227699AEEB0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000002276996E9D0>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:53:38.979 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:53:38.980 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:53:39.088 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:53:39.089 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:53:39.090 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:53:39.090 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:53:39.091 | INFO     | uvicorn.server:serve:87 - Finished server process [13156]
2024-03-09 01:53:39.092 | INFO     | uvicorn.server:serve:87 - Finished server process [13156]
2024-03-09 01:53:40.555 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:53:40.556 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:53:40.557 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:53:40.557 | INFO     | uvicorn.server:serve:77 - Started server process [1884]
2024-03-09 01:53:40.557 | INFO     | uvicorn.server:serve:77 - Started server process [1884]
2024-03-09 01:53:40.558 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:53:40.558 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:53:40.559 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:53:40.560 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:53:40.560 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:53:50.857 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:53:50.872 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:53:50.984 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:53:50.993 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:53:50.994 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:53:50.997 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:53:50.997 | INFO     | uvicorn.server:serve:87 - Finished server process [1884]
2024-03-09 01:53:51.000 | INFO     | uvicorn.server:serve:87 - Finished server process [1884]
2024-03-09 01:53:52.624 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:53:52.624 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:53:52.625 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:53:52.626 | INFO     | uvicorn.server:serve:77 - Started server process [8080]
2024-03-09 01:53:52.628 | INFO     | uvicorn.server:serve:77 - Started server process [8080]
2024-03-09 01:53:52.629 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:53:52.630 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:53:52.633 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:53:52.634 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:53:52.634 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:54:14.147 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57553 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:54:14.150 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x00000196EA977280>
              └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x00000196EA977430>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920454.14774
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x00000196EA977670>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000196E79F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000196E79035E0>
           └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000196E7902C10>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000196E9928820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    └ <function subprocess_started at 0x00000196E9910EE0>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000196E7A0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000196E99100D0>
           │       │   └ <uvicorn.server.Server object at 0x00000196E7A0DEE0>
           │       └ <function run at 0x00000196E95AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000196EAAA8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000196E95AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000196E95AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000196E95B04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000196E951C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>
          └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000196EA536790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000196ED03DD90>>
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000196EA7BF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000196EA445B80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000196EA536A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0A60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000196EA536A00>
                     └ <function get_request_handler.<locals>.app at 0x00000196EA445AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x00000196EA615550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000196ED083D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x00000196ED05FA60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:14.201 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x00000196EA977280>
              └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x00000196EA977430>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920454.14774
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x00000196EA977670>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000196E79F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000196E79035E0>
           └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000196E7902C10>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000196E9928820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    └ <function subprocess_started at 0x00000196E9910EE0>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000196E7A0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000196E99100D0>
           │       │   └ <uvicorn.server.Server object at 0x00000196E7A0DEE0>
           │       └ <function run at 0x00000196E95AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000196EAAA8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000196E95AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000196E95AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000196E95B04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000196E951C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>
          └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000196EA536790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000196ED03DD90>>
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000196EA7BF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000196EA445B80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000196EA536A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0A60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000196EA536A00>
                     └ <function get_request_handler.<locals>.app at 0x00000196EA445AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x00000196EA615550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000196ED083D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x00000196ED05FA60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:14.222 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:54:14.222 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:54:14.323 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:54:14.325 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:54:14.327 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:54:14.329 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:54:14.331 | INFO     | uvicorn.server:serve:87 - Finished server process [8080]
2024-03-09 01:54:14.333 | INFO     | uvicorn.server:serve:87 - Finished server process [8080]
2024-03-09 01:54:15.666 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:54:15.667 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:54:15.667 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:54:15.668 | INFO     | uvicorn.server:serve:77 - Started server process [10324]
2024-03-09 01:54:15.669 | INFO     | uvicorn.server:serve:77 - Started server process [10324]
2024-03-09 01:54:15.669 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:54:15.670 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:54:15.671 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:54:15.672 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:54:15.672 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:54:17.336 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57557 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:54:17.337 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920457.335285
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0B7A26790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:17.374 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920457.335285
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0B7A26790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:22.886 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57558 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:54:22.892 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 257, in _load
    signing_input, crypto_segment = jwt.rsplit(b".", 1)
                                    │   └ <method 'rsplit' of 'bytes' objects>
                                    └ b'121'

ValueError: not enough values to unpack (expected 2, got 1)


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 151, in decode_complete
    decoded = api_jws.decode_complete(
              │       └ <bound method PyJWS.decode_complete of <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>>
              └ <module 'jwt.api_jws' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\api_jws.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 198, in decode_complete
    payload, signing_input, header, signature = self._load(jwt)
                                                │    │     └ '121'
                                                │    └ <function PyJWS._load at 0x000001C0B7E52B80>
                                                └ <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 260, in _load
    raise DecodeError("Not enough segments") from err
          └ <class 'jwt.exceptions.DecodeError'>

jwt.exceptions.DecodeError: Not enough segments


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA73C5B0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA7325E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': '121'}
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ '121'
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 68, in jwt_decode
    raise Exception("Token不合法, 请重新登录")

Exception: Token不合法, 请重新登录
2024-03-09 01:54:22.919 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 257, in _load
    signing_input, crypto_segment = jwt.rsplit(b".", 1)
                                    │   └ <method 'rsplit' of 'bytes' objects>
                                    └ b'121'

ValueError: not enough values to unpack (expected 2, got 1)


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 151, in decode_complete
    decoded = api_jws.decode_complete(
              │       └ <bound method PyJWS.decode_complete of <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>>
              └ <module 'jwt.api_jws' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\api_jws.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 198, in decode_complete
    payload, signing_input, header, signature = self._load(jwt)
                                                │    │     └ '121'
                                                │    └ <function PyJWS._load at 0x000001C0B7E52B80>
                                                └ <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 260, in _load
    raise DecodeError("Not enough segments") from err
          └ <class 'jwt.exceptions.DecodeError'>

jwt.exceptions.DecodeError: Not enough segments


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA73C5B0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA7325E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': '121'}
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ '121'
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 68, in jwt_decode
    raise Exception("Token不合法, 请重新登录")

Exception: Token不合法, 请重新登录
2024-03-09 01:54:25.568 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57559 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:54:25.581 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920465.568024
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74A280>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:25.609 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920465.568024
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74A280>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:55:39.506 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57570 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:55:39.510 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920539.506754
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74AEE0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA74B040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:55:39.539 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920539.506754
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74AEE0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA74B040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:55:39.606 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:55:39.608 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:55:39.715 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:55:39.716 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:55:39.718 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:55:39.720 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:55:39.722 | INFO     | uvicorn.server:serve:87 - Finished server process [10324]
2024-03-09 01:55:39.723 | INFO     | uvicorn.server:serve:87 - Finished server process [10324]
2024-03-09 01:55:42.010 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:55:42.011 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:55:42.011 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:55:42.012 | INFO     | uvicorn.server:serve:77 - Started server process [9992]
2024-03-09 01:55:42.013 | INFO     | uvicorn.server:serve:77 - Started server process [9992]
2024-03-09 01:55:42.013 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:55:42.014 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:55:42.014 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:55:42.015 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:55:42.016 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:55:43.679 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57578 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:55:45.819 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57578 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:55:46.651 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57578 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:55:47.300 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57578 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:56:09.337 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57583 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:56:09.393 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:56:09.394 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:56:09.502 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:56:09.504 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:56:09.505 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:56:09.506 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:56:09.508 | INFO     | uvicorn.server:serve:87 - Finished server process [9992]
2024-03-09 01:56:09.509 | INFO     | uvicorn.server:serve:87 - Finished server process [9992]
2024-03-09 01:56:10.831 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:56:10.832 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:56:10.832 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:56:10.833 | INFO     | uvicorn.server:serve:77 - Started server process [12428]
2024-03-09 01:56:10.834 | INFO     | uvicorn.server:serve:77 - Started server process [12428]
2024-03-09 01:56:10.834 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:56:10.835 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:56:10.836 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:56:10.837 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:56:10.837 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:56:11.566 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57587 - "GET /api/v1/users/me HTTP/1.1" 403
2024-03-09 13:02:56.178 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 13:02:56.179 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 13:02:56.180 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 13:02:56.181 | INFO     | uvicorn.server:serve:77 - Started server process [1016]
2024-03-09 13:02:56.182 | INFO     | uvicorn.server:serve:77 - Started server process [1016]
2024-03-09 13:02:56.182 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:02:56.183 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:02:56.183 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 13:02:56.184 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:02:56.185 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:04:32.702 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:04:32.705 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:09:51.717 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:09:51.718 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:20:30.736 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:20:30.737 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:20:30.764 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:20:30.765 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:20:30.873 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:20:30.873 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:20:30.874 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:20:30.874 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:20:30.875 | INFO     | uvicorn.server:serve:87 - Finished server process [1016]
2024-03-09 13:20:30.875 | INFO     | uvicorn.server:serve:87 - Finished server process [1016]
2024-03-09 13:20:33.257 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 13:20:33.257 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 13:20:33.258 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 13:20:33.259 | INFO     | uvicorn.server:serve:77 - Started server process [9148]
2024-03-09 13:20:33.259 | INFO     | uvicorn.server:serve:77 - Started server process [9148]
2024-03-09 13:20:33.260 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:20:33.260 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:20:33.261 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 13:20:33.262 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:20:33.263 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:30:51.979 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:30:51.979 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:30:52.088 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:30:52.092 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:30:52.095 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:30:52.098 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:30:52.105 | INFO     | uvicorn.server:serve:87 - Finished server process [9148]
2024-03-09 13:30:52.106 | INFO     | uvicorn.server:serve:87 - Finished server process [9148]
2024-03-09 13:30:54.479 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 13:30:54.480 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 13:30:54.480 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 13:30:54.481 | INFO     | uvicorn.server:serve:77 - Started server process [7332]
2024-03-09 13:30:54.482 | INFO     | uvicorn.server:serve:77 - Started server process [7332]
2024-03-09 13:30:54.483 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:30:54.483 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:30:54.484 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 13:30:54.485 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:30:54.485 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:41:49.751 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:41:49.752 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:48:24.586 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:48:24.589 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:48:24.694 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:48:24.694 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:48:24.695 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:48:24.696 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:48:24.696 | INFO     | uvicorn.server:serve:87 - Finished server process [7332]
2024-03-09 13:48:24.697 | INFO     | uvicorn.server:serve:87 - Finished server process [7332]
2024-03-09 13:48:30.083 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 13:48:30.084 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 13:48:30.085 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 13:48:30.085 | INFO     | uvicorn.server:serve:77 - Started server process [14272]
2024-03-09 13:48:30.087 | INFO     | uvicorn.server:serve:77 - Started server process [14272]
2024-03-09 13:48:30.087 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:48:30.090 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:48:30.090 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 13:48:30.092 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:48:30.093 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 14:11:48.771 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 14:11:48.772 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 14:41:47.788 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 14:41:47.790 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:11:46.835 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:11:46.837 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:41:45.847 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:41:45.848 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:11:44.865 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:11:44.866 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:11:44.954 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:11:44.956 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:11:45.063 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:11:45.063 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:11:45.065 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:11:45.065 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:11:45.066 | INFO     | uvicorn.server:serve:87 - Finished server process [14272]
2024-03-09 16:11:45.067 | INFO     | uvicorn.server:serve:87 - Finished server process [14272]
2024-03-09 16:11:46.539 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 16:11:46.539 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 16:11:46.540 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 16:11:46.541 | INFO     | uvicorn.server:serve:77 - Started server process [12532]
2024-03-09 16:11:46.542 | INFO     | uvicorn.server:serve:77 - Started server process [12532]
2024-03-09 16:11:46.543 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:11:46.543 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:11:46.544 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 16:11:46.545 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:11:46.546 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:32:22.078 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:32:22.079 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:32:22.186 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:32:22.188 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:32:22.189 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:32:22.190 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:32:22.191 | INFO     | uvicorn.server:serve:87 - Finished server process [12532]
2024-03-09 16:32:22.192 | INFO     | uvicorn.server:serve:87 - Finished server process [12532]
2024-03-09 16:32:24.113 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 16:32:24.114 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 16:32:24.114 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 16:32:24.115 | INFO     | uvicorn.server:serve:77 - Started server process [3144]
2024-03-09 16:32:24.115 | INFO     | uvicorn.server:serve:77 - Started server process [3144]
2024-03-09 16:32:24.116 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:32:24.116 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:32:24.116 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 16:32:24.117 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:32:24.118 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:41:43.889 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:41:43.892 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:41:54.987 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60607 - "GET /docs HTTP/1.1" 200
2024-03-09 16:41:55.077 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:41:55.078 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:41:55.278 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60607 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-09 16:41:55.279 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60608 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-09 16:41:55.280 | INFO     | uvicorn.server:_wait_tasks_to_complete:303 - Waiting for connections to close. (CTRL+C to force quit)
2024-03-09 16:41:55.283 | INFO     | uvicorn.server:_wait_tasks_to_complete:303 - Waiting for connections to close. (CTRL+C to force quit)
2024-03-09 16:41:55.389 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:41:55.389 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:41:55.390 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:41:55.390 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:41:55.391 | INFO     | uvicorn.server:serve:87 - Finished server process [3144]
2024-03-09 16:41:55.392 | INFO     | uvicorn.server:serve:87 - Finished server process [3144]
2024-03-09 16:41:56.869 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 16:41:56.869 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 16:41:56.870 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 16:41:56.870 | INFO     | uvicorn.server:serve:77 - Started server process [10260]
2024-03-09 16:41:56.871 | INFO     | uvicorn.server:serve:77 - Started server process [10260]
2024-03-09 16:41:56.871 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:41:56.872 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:41:56.872 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 16:41:56.873 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:41:56.874 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:41:56.880 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60609 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:11:43.419 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 17:11:43.420 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 17:18:49.362 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61086 - "GET /docs HTTP/1.1" 200
2024-03-09 17:18:49.431 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 17:18:49.432 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 17:18:49.541 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 17:18:49.541 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 17:18:49.542 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 17:18:49.542 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 17:18:49.542 | INFO     | uvicorn.server:serve:87 - Finished server process [10260]
2024-03-09 17:18:49.544 | INFO     | uvicorn.server:serve:87 - Finished server process [10260]
2024-03-09 17:18:51.046 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 17:18:51.047 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 17:18:51.047 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 17:18:51.048 | INFO     | uvicorn.server:serve:77 - Started server process [6056]
2024-03-09 17:18:51.048 | INFO     | uvicorn.server:serve:77 - Started server process [6056]
2024-03-09 17:18:51.049 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 17:18:51.049 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 17:18:51.050 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 17:18:51.051 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 17:18:51.052 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 17:18:51.058 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:18:53.813 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /docs HTTP/1.1" 200
2024-03-09 17:18:53.921 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:18:56.027 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /docs HTTP/1.1" 200
2024-03-09 17:18:56.106 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:22:01.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61147 - "GET /docs HTTP/1.1" 200
2024-03-09 17:22:01.264 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61147 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:22:01.266 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 17:22:01.267 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 17:22:01.381 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 17:22:01.382 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 17:22:01.384 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 17:22:01.385 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 17:22:01.386 | INFO     | uvicorn.server:serve:87 - Finished server process [6056]
2024-03-09 17:22:01.387 | INFO     | uvicorn.server:serve:87 - Finished server process [6056]
2024-03-09 17:22:02.810 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 17:22:02.810 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 17:22:02.811 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 17:22:02.811 | INFO     | uvicorn.server:serve:77 - Started server process [1160]
2024-03-09 17:22:02.811 | INFO     | uvicorn.server:serve:77 - Started server process [1160]
2024-03-09 17:22:02.813 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 17:22:02.813 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 17:22:02.813 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 17:22:02.814 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 17:22:02.815 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 17:22:02.831 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61151 - "GET /docs HTTP/1.1" 200
2024-03-09 17:22:02.924 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61152 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:22:03.137 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61151 - "GET /static/favicon.png HTTP/1.1" 200
2024-03-09 17:41:42.438 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 17:41:42.439 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:10:15.646 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63448 - "GET /docs HTTP/1.1" 200
2024-03-09 18:10:15.672 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:10:15.678 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:10:15.781 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:10:15.782 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:10:15.786 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:10:15.787 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:10:15.789 | INFO     | uvicorn.server:serve:87 - Finished server process [1160]
2024-03-09 18:10:15.790 | INFO     | uvicorn.server:serve:87 - Finished server process [1160]
2024-03-09 18:10:17.963 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:10:17.963 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:10:17.964 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:10:17.964 | INFO     | uvicorn.server:serve:77 - Started server process [10312]
2024-03-09 18:10:17.965 | INFO     | uvicorn.server:serve:77 - Started server process [10312]
2024-03-09 18:10:17.965 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:10:17.966 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:10:17.966 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:10:17.967 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:10:17.968 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:10:17.974 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63449 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 18:10:43.082 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63463 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 18:11:41.455 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:11:41.456 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:14:34.142 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63495 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 18:14:34.234 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:14:34.236 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:14:34.342 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:14:34.342 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:14:34.342 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:14:34.343 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:14:34.343 | INFO     | uvicorn.server:serve:87 - Finished server process [10312]
2024-03-09 18:14:34.344 | INFO     | uvicorn.server:serve:87 - Finished server process [10312]
2024-03-09 18:14:44.294 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:14:44.294 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:14:44.295 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:14:44.296 | INFO     | uvicorn.server:serve:77 - Started server process [9472]
2024-03-09 18:14:44.296 | INFO     | uvicorn.server:serve:77 - Started server process [9472]
2024-03-09 18:14:44.297 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:14:44.297 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:14:44.297 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:14:44.298 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:14:44.299 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:14:44.418 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63501 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-09 18:16:00.896 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:16:00.896 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:16:01.005 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:16:01.006 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:16:01.007 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:16:01.007 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:16:01.008 | INFO     | uvicorn.server:serve:87 - Finished server process [9472]
2024-03-09 18:16:01.009 | INFO     | uvicorn.server:serve:87 - Finished server process [9472]
2024-03-09 18:16:02.548 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:16:02.548 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:16:02.549 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:16:02.549 | INFO     | uvicorn.server:serve:77 - Started server process [15664]
2024-03-09 18:16:02.551 | INFO     | uvicorn.server:serve:77 - Started server process [15664]
2024-03-09 18:16:02.551 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:16:02.551 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:16:02.552 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:16:02.553 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:16:02.554 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:16:05.412 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63513 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-09 18:17:38.914 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:17:38.916 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:17:39.024 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:17:39.025 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:17:39.025 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:17:39.026 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:17:39.026 | INFO     | uvicorn.server:serve:87 - Finished server process [15664]
2024-03-09 18:17:39.027 | INFO     | uvicorn.server:serve:87 - Finished server process [15664]
2024-03-09 18:17:40.491 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:17:40.491 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:17:40.492 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:17:40.493 | INFO     | uvicorn.server:serve:77 - Started server process [5584]
2024-03-09 18:17:40.493 | INFO     | uvicorn.server:serve:77 - Started server process [5584]
2024-03-09 18:17:40.493 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:17:40.494 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:17:40.494 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:17:40.495 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:17:40.496 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:17:41.720 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63522 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-09 18:18:21.589 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:18:21.590 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:18:21.697 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:18:21.697 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:18:21.698 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:18:21.698 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:18:21.699 | INFO     | uvicorn.server:serve:87 - Finished server process [5584]
2024-03-09 18:18:21.700 | INFO     | uvicorn.server:serve:87 - Finished server process [5584]
2024-03-09 18:18:23.591 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:18:23.592 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:18:23.593 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:18:23.593 | INFO     | uvicorn.server:serve:77 - Started server process [16848]
2024-03-09 18:18:23.594 | INFO     | uvicorn.server:serve:77 - Started server process [16848]
2024-03-09 18:18:23.594 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:18:23.594 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:18:23.595 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:18:23.596 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:18:23.596 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:18:25.590 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63529 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-09 18:19:16.007 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:19:16.008 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:19:16.116 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:19:16.116 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:19:16.117 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:19:16.117 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:19:16.118 | INFO     | uvicorn.server:serve:87 - Finished server process [16848]
2024-03-09 18:19:16.118 | INFO     | uvicorn.server:serve:87 - Finished server process [16848]
2024-03-09 18:19:17.663 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:19:17.666 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:19:17.667 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:19:17.671 | INFO     | uvicorn.server:serve:77 - Started server process [7776]
2024-03-09 18:19:17.672 | INFO     | uvicorn.server:serve:77 - Started server process [7776]
2024-03-09 18:19:17.672 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:19:17.672 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:19:17.673 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:19:17.674 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:19:17.675 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:19:19.422 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63544 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-09 18:31:41.361 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:31:41.364 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:31:41.470 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:31:41.470 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:31:41.471 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:31:41.471 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:31:41.472 | INFO     | uvicorn.server:serve:87 - Finished server process [7776]
2024-03-09 18:31:41.472 | INFO     | uvicorn.server:serve:87 - Finished server process [7776]
2024-03-09 18:31:42.886 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:31:42.888 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:31:42.888 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:31:42.888 | INFO     | uvicorn.server:serve:77 - Started server process [17760]
2024-03-09 18:31:42.889 | INFO     | uvicorn.server:serve:77 - Started server process [17760]
2024-03-09 18:31:42.889 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:31:42.889 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:31:42.890 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:31:42.891 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:31:42.891 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:32:56.258 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63584 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 18:39:22.766 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:22.767 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:22.768 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:22.770 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:22.772 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:39:22.772 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:39:22.879 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:39:22.879 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:39:22.880 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:39:22.880 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:39:22.881 | INFO     | uvicorn.server:serve:87 - Finished server process [17760]
2024-03-09 18:39:22.881 | INFO     | uvicorn.server:serve:87 - Finished server process [17760]
2024-03-09 18:39:24.419 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:39:24.420 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:39:24.420 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:39:24.421 | INFO     | uvicorn.server:serve:77 - Started server process [4488]
2024-03-09 18:39:24.422 | INFO     | uvicorn.server:serve:77 - Started server process [4488]
2024-03-09 18:39:24.422 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:39:24.422 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:39:24.423 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:39:24.425 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:39:24.425 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:39:24.426 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:24.428 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:24.429 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:24.430 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:40.470 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:40.471 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:40.547 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:41:40.548 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:41:40.657 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:41:40.657 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:41:40.658 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:41:40.659 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:41:40.660 | INFO     | uvicorn.server:serve:87 - Finished server process [4488]
2024-03-09 18:41:40.661 | INFO     | uvicorn.server:serve:87 - Finished server process [4488]
2024-03-09 18:41:43.375 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:41:43.376 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:41:43.377 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:41:43.377 | INFO     | uvicorn.server:serve:77 - Started server process [16540]
2024-03-09 18:41:43.378 | INFO     | uvicorn.server:serve:77 - Started server process [16540]
2024-03-09 18:41:43.379 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:41:43.380 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:41:43.382 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:41:43.383 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:41:43.384 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:41:43.885 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:43.886 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:48.662 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:48.666 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:49:30.377 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:49:30.384 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:49:30.500 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:49:30.516 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:49:30.522 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:49:30.525 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:49:30.526 | INFO     | uvicorn.server:serve:87 - Finished server process [16540]
2024-03-09 18:49:30.527 | INFO     | uvicorn.server:serve:87 - Finished server process [16540]
2024-03-09 18:49:33.789 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:49:33.790 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:49:33.790 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:49:33.791 | INFO     | uvicorn.server:serve:77 - Started server process [5572]
2024-03-09 18:49:33.791 | INFO     | uvicorn.server:serve:77 - Started server process [5572]
2024-03-09 18:49:33.792 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:49:33.792 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:49:33.793 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:49:33.794 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:49:33.794 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:49:37.503 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61672 - "GET /docs HTTP/1.1" 200
2024-03-09 18:49:37.835 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61672 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-09 18:49:37.836 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61673 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-09 18:49:38.016 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61673 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 18:50:06.542 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61730 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-09 18:50:18.976 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61771 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-09 18:50:24.350 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61786 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 18:51:18.842 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61898 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-09 18:51:28.252 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61921 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-09 18:51:40.906 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61945 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-09 18:51:53.014 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61976 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-09 18:54:17.283 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62308 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-09 18:54:17.371 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:54:17.371 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:54:17.481 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:54:17.482 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:54:17.483 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:54:17.484 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:54:17.484 | INFO     | uvicorn.server:serve:87 - Finished server process [5572]
2024-03-09 18:54:17.484 | INFO     | uvicorn.server:serve:87 - Finished server process [5572]
2024-03-09 18:54:19.703 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:54:19.703 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:54:19.703 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:54:19.704 | INFO     | uvicorn.server:serve:77 - Started server process [6732]
2024-03-09 18:54:19.704 | INFO     | uvicorn.server:serve:77 - Started server process [6732]
2024-03-09 18:54:19.704 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:54:19.705 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:54:19.705 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:54:19.706 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:54:19.708 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:54:55.959 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62436 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 18:55:10.493 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62483 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 18:55:43.384 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:55:43.387 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:55:43.509 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:55:43.515 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:55:43.517 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:55:43.518 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:55:43.519 | INFO     | uvicorn.server:serve:87 - Finished server process [6732]
2024-03-09 18:55:43.520 | INFO     | uvicorn.server:serve:87 - Finished server process [6732]
2024-03-09 18:55:45.386 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:55:45.387 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:55:45.388 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:55:45.389 | INFO     | uvicorn.server:serve:77 - Started server process [7052]
2024-03-09 18:55:45.394 | INFO     | uvicorn.server:serve:77 - Started server process [7052]
2024-03-09 18:55:45.395 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:55:45.395 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:55:45.396 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:55:45.397 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:55:45.397 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:55:45.476 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62587 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 18:56:03.107 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62640 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 18:56:03.165 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:56:03.166 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:56:03.275 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:56:03.275 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:56:03.276 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:56:03.276 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:56:03.277 | INFO     | uvicorn.server:serve:87 - Finished server process [7052]
2024-03-09 18:56:03.277 | INFO     | uvicorn.server:serve:87 - Finished server process [7052]
2024-03-09 18:56:05.679 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:56:05.679 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:56:05.680 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:56:05.680 | INFO     | uvicorn.server:serve:77 - Started server process [9136]
2024-03-09 18:56:05.681 | INFO     | uvicorn.server:serve:77 - Started server process [9136]
2024-03-09 18:56:05.681 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:56:05.681 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:56:05.682 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:56:05.683 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:56:05.683 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:56:05.796 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62644 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 18:56:21.535 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:56:21.537 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:56:21.641 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:56:21.643 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:56:21.644 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:56:21.644 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:56:21.645 | INFO     | uvicorn.server:serve:87 - Finished server process [9136]
2024-03-09 18:56:21.645 | INFO     | uvicorn.server:serve:87 - Finished server process [9136]
2024-03-09 18:56:24.852 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:56:24.853 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:56:24.855 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:56:24.856 | INFO     | uvicorn.server:serve:77 - Started server process [4268]
2024-03-09 18:56:24.857 | INFO     | uvicorn.server:serve:77 - Started server process [4268]
2024-03-09 18:56:24.857 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:56:24.857 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:56:24.858 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:56:24.859 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:56:24.860 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:56:28.287 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62712 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 18:56:31.130 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62712 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 19:11:39.832 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 19:11:39.833 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 19:11:39.857 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 19:11:39.858 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 19:11:39.967 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 19:11:39.968 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 19:11:39.970 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 19:11:39.971 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 19:11:39.972 | INFO     | uvicorn.server:serve:87 - Finished server process [4268]
2024-03-09 19:11:39.973 | INFO     | uvicorn.server:serve:87 - Finished server process [4268]
2024-03-09 19:11:42.099 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 19:11:42.100 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 19:11:42.101 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 19:11:42.101 | INFO     | uvicorn.server:serve:77 - Started server process [19560]
2024-03-09 19:11:42.102 | INFO     | uvicorn.server:serve:77 - Started server process [19560]
2024-03-09 19:11:42.102 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 19:11:42.106 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 19:11:42.108 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 19:11:42.109 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 19:11:42.110 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 19:41:38.858 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 19:41:38.863 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:11:37.883 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:11:37.887 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:41:36.903 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:41:36.903 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:45:33.734 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:45:33.740 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:56:53.613 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:56:53.614 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 21:11:36.466 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 21:11:36.468 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 21:16:09.057 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:51779 - "GET /api/v1/users/me HTTP/1.1" 403
2024-03-09 21:16:22.789 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58772 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 21:16:32.957 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58775 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 21:18:51.526 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58798 - "GET /docs HTTP/1.1" 200
2024-03-09 21:18:51.597 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:18:51.597 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:18:51.800 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58798 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-09 21:18:51.802 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58797 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-09 21:18:51.803 | INFO     | uvicorn.server:_wait_tasks_to_complete:303 - Waiting for connections to close. (CTRL+C to force quit)
2024-03-09 21:18:51.804 | INFO     | uvicorn.server:_wait_tasks_to_complete:303 - Waiting for connections to close. (CTRL+C to force quit)
2024-03-09 21:18:51.919 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:18:51.919 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:18:51.921 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:18:51.922 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:18:51.923 | INFO     | uvicorn.server:serve:87 - Finished server process [19560]
2024-03-09 21:18:51.923 | INFO     | uvicorn.server:serve:87 - Finished server process [19560]
2024-03-09 21:18:54.516 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:18:54.516 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:18:54.517 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:18:54.518 | INFO     | uvicorn.server:serve:77 - Started server process [18256]
2024-03-09 21:18:54.519 | INFO     | uvicorn.server:serve:77 - Started server process [18256]
2024-03-09 21:18:54.519 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:18:54.520 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:18:54.521 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:18:54.522 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:18:54.522 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:18:54.592 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58799 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 21:19:04.286 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58806 - "PUT /api/v1/users/%7Bid%7D?user_id=1 HTTP/1.1" 200
2024-03-09 21:19:26.156 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58808 - "GET /docs HTTP/1.1" 200
2024-03-09 21:19:26.237 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:19:26.237 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:19:26.346 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:19:26.347 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:19:26.351 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:19:26.359 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:19:26.364 | INFO     | uvicorn.server:serve:87 - Finished server process [18256]
2024-03-09 21:19:26.366 | INFO     | uvicorn.server:serve:87 - Finished server process [18256]
2024-03-09 21:19:27.800 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:19:27.801 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:19:27.802 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:19:27.803 | INFO     | uvicorn.server:serve:77 - Started server process [5840]
2024-03-09 21:19:27.804 | INFO     | uvicorn.server:serve:77 - Started server process [5840]
2024-03-09 21:19:27.804 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:19:27.804 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:19:27.805 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:19:27.806 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:19:27.807 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:19:27.811 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58810 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 21:20:45.668 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:20:45.669 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:20:45.777 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:20:45.779 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:20:45.780 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:20:45.781 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:20:45.782 | INFO     | uvicorn.server:serve:87 - Finished server process [5840]
2024-03-09 21:20:45.783 | INFO     | uvicorn.server:serve:87 - Finished server process [5840]
2024-03-09 21:20:48.464 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:20:48.465 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:20:48.465 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:20:48.466 | INFO     | uvicorn.server:serve:77 - Started server process [21480]
2024-03-09 21:20:48.467 | INFO     | uvicorn.server:serve:77 - Started server process [21480]
2024-03-09 21:20:48.467 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:20:48.468 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:20:48.468 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:20:48.469 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:20:48.469 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:21:59.387 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58840 - "GET /docs HTTP/1.1" 200
2024-03-09 21:21:59.469 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:21:59.469 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:21:59.579 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:21:59.581 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:21:59.584 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:21:59.585 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:21:59.589 | INFO     | uvicorn.server:serve:87 - Finished server process [21480]
2024-03-09 21:21:59.591 | INFO     | uvicorn.server:serve:87 - Finished server process [21480]
2024-03-09 21:22:02.147 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:22:02.147 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:22:02.148 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:22:02.149 | INFO     | uvicorn.server:serve:77 - Started server process [21448]
2024-03-09 21:22:02.149 | INFO     | uvicorn.server:serve:77 - Started server process [21448]
2024-03-09 21:22:02.150 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:22:02.150 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:22:02.151 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:22:02.152 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:22:02.152 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:22:02.167 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58841 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 21:24:33.104 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:24:33.107 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:24:33.212 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:24:33.213 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:24:33.214 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:24:33.215 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:24:33.216 | INFO     | uvicorn.server:serve:87 - Finished server process [21448]
2024-03-09 21:24:33.216 | INFO     | uvicorn.server:serve:87 - Finished server process [21448]
2024-03-09 21:24:35.903 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:24:35.904 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:24:35.904 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:24:35.905 | INFO     | uvicorn.server:serve:77 - Started server process [19272]
2024-03-09 21:24:35.905 | INFO     | uvicorn.server:serve:77 - Started server process [19272]
2024-03-09 21:24:35.906 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:24:35.907 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:24:35.907 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:24:35.909 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:24:35.909 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:25:23.723 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:25:23.725 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:25:23.832 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:25:23.848 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:25:23.849 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:25:23.850 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:25:23.851 | INFO     | uvicorn.server:serve:87 - Finished server process [19272]
2024-03-09 21:25:23.852 | INFO     | uvicorn.server:serve:87 - Finished server process [19272]
2024-03-09 21:25:25.267 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:25:25.267 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:25:25.267 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:25:25.268 | INFO     | uvicorn.server:serve:77 - Started server process [21428]
2024-03-09 21:25:25.269 | INFO     | uvicorn.server:serve:77 - Started server process [21428]
2024-03-09 21:25:25.270 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:25:25.270 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:25:25.270 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:25:25.271 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:25:25.272 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:27:07.785 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58885 - "GET /docs HTTP/1.1" 200
2024-03-09 21:27:07.819 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:27:07.821 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:27:07.929 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:27:07.929 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:27:07.930 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:27:07.930 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:27:07.931 | INFO     | uvicorn.server:serve:87 - Finished server process [21428]
2024-03-09 21:27:07.931 | INFO     | uvicorn.server:serve:87 - Finished server process [21428]
2024-03-09 21:27:09.377 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:27:09.377 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:27:09.378 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:27:09.379 | INFO     | uvicorn.server:serve:77 - Started server process [20396]
2024-03-09 21:27:09.379 | INFO     | uvicorn.server:serve:77 - Started server process [20396]
2024-03-09 21:27:09.380 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:27:09.380 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:27:09.380 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:27:09.381 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:27:09.382 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:27:09.386 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58886 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 21:27:23.193 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58891 - "PATCH /api/v1/users/password/12 HTTP/1.1" 200
2024-03-09 21:31:12.713 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:31:12.714 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:31:12.822 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:31:12.822 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:31:12.823 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:31:12.824 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:31:12.825 | INFO     | uvicorn.server:serve:87 - Finished server process [20396]
2024-03-09 21:31:12.825 | INFO     | uvicorn.server:serve:87 - Finished server process [20396]
2024-03-09 21:31:15.474 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:31:15.474 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:31:15.475 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:31:15.475 | INFO     | uvicorn.server:serve:77 - Started server process [14612]
2024-03-09 21:31:15.476 | INFO     | uvicorn.server:serve:77 - Started server process [14612]
2024-03-09 21:31:15.476 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:31:15.477 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:31:15.478 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:31:15.479 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:31:15.479 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:31:34.427 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58925 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 21:32:32.916 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58934 - "GET /docs HTTP/1.1" 200
2024-03-09 21:32:33.017 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:32:33.018 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:32:33.125 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:32:33.126 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:32:33.127 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:32:33.128 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:32:33.129 | INFO     | uvicorn.server:serve:87 - Finished server process [14612]
2024-03-09 21:32:33.130 | INFO     | uvicorn.server:serve:87 - Finished server process [14612]
2024-03-09 21:32:35.524 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:32:35.524 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:32:35.525 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:32:35.525 | INFO     | uvicorn.server:serve:77 - Started server process [4980]
2024-03-09 21:32:35.526 | INFO     | uvicorn.server:serve:77 - Started server process [4980]
2024-03-09 21:32:35.526 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:32:35.526 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:32:35.527 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:32:35.528 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:32:35.528 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:32:35.533 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58935 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 21:32:40.188 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58935 - "GET /api/v1/users/list HTTP/1.1" 400
2024-03-09 21:32:43.679 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58935 - "GET /api/v1/users/list HTTP/1.1" 400
2024-03-09 21:33:15.659 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58945 - "GET /api/v1/users/list HTTP/1.1" 400
2024-03-09 21:33:15.766 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:33:15.767 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:33:15.874 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:33:15.875 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:33:15.877 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:33:15.878 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:33:15.879 | INFO     | uvicorn.server:serve:87 - Finished server process [4980]
2024-03-09 21:33:15.880 | INFO     | uvicorn.server:serve:87 - Finished server process [4980]
2024-03-09 21:33:17.247 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:33:17.248 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:33:17.248 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:33:17.249 | INFO     | uvicorn.server:serve:77 - Started server process [5828]
2024-03-09 21:33:17.249 | INFO     | uvicorn.server:serve:77 - Started server process [5828]
2024-03-09 21:33:17.250 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:33:17.250 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:33:17.251 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:33:17.253 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:33:17.253 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:33:17.358 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58948 - "GET /api/v1/users/list HTTP/1.1" 400
2024-03-09 21:34:47.486 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:34:47.487 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:34:47.598 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:34:47.601 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:34:47.601 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:34:47.601 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:34:47.601 | INFO     | uvicorn.server:serve:87 - Finished server process [5828]
2024-03-09 21:34:47.601 | INFO     | uvicorn.server:serve:87 - Finished server process [5828]
2024-03-09 21:34:49.300 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:34:49.300 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:34:49.300 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:34:49.305 | INFO     | uvicorn.server:serve:77 - Started server process [8572]
2024-03-09 21:34:49.305 | INFO     | uvicorn.server:serve:77 - Started server process [8572]
2024-03-09 21:34:49.305 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:34:49.305 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:34:49.305 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:34:49.305 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:34:49.305 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:34:51.791 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58969 - "GET /api/v1/users/list HTTP/1.1" 400
2024-03-09 21:38:29.668 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:38:29.671 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:38:29.776 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:38:29.780 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:38:29.783 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:38:29.786 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:38:29.788 | INFO     | uvicorn.server:serve:87 - Finished server process [8572]
2024-03-09 21:38:29.790 | INFO     | uvicorn.server:serve:87 - Finished server process [8572]
2024-03-09 21:38:31.279 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:38:31.280 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:38:31.281 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:38:31.282 | INFO     | uvicorn.server:serve:77 - Started server process [11568]
2024-03-09 21:38:31.282 | INFO     | uvicorn.server:serve:77 - Started server process [11568]
2024-03-09 21:38:31.283 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:38:31.283 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:38:31.283 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:38:31.285 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:38:31.285 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:38:36.067 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58999 - "GET /api/v1/users/list HTTP/1.1" 200
2024-03-09 21:41:35.486 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 21:41:35.489 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 21:56:49.205 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:56:49.207 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:56:49.316 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:56:49.317 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:56:49.320 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:56:49.322 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:56:49.324 | INFO     | uvicorn.server:serve:87 - Finished server process [11568]
2024-03-09 21:56:49.326 | INFO     | uvicorn.server:serve:87 - Finished server process [11568]
2024-03-09 21:56:51.723 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:56:51.724 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:56:51.724 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:56:51.725 | INFO     | uvicorn.server:serve:77 - Started server process [10336]
2024-03-09 21:56:51.726 | INFO     | uvicorn.server:serve:77 - Started server process [10336]
2024-03-09 21:56:51.726 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:56:51.727 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:56:51.728 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:56:51.729 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:56:51.729 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:11:34.508 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 22:11:34.510 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 22:12:59.790 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:12:59.791 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:12:59.899 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:12:59.900 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:12:59.900 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:12:59.901 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:12:59.901 | INFO     | uvicorn.server:serve:87 - Finished server process [10336]
2024-03-09 22:12:59.902 | INFO     | uvicorn.server:serve:87 - Finished server process [10336]
2024-03-09 22:14:40.099 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:14:40.099 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:14:40.100 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:14:40.100 | INFO     | uvicorn.server:serve:77 - Started server process [18796]
2024-03-09 22:14:40.101 | INFO     | uvicorn.server:serve:77 - Started server process [18796]
2024-03-09 22:14:40.101 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:14:40.101 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:14:40.102 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:14:40.104 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:14:40.161 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:14:50.689 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59260 - "GET /docs HTTP/1.1" 200
2024-03-09 22:14:50.992 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59260 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 22:14:55.472 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59260 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:14:55.474 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x00000225258294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x00000225257085E0>
           └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022525713C10>
    └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002252583E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>
    │    └ <function subprocess_started at 0x0000022527753EE0>
    └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002252583E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000225277530D0>
           │       │   └ <uvicorn.server.Server object at 0x000002252583E460>
           │       └ <function run at 0x00000225273EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000225288E8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000225273ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000225273ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000225273F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002252735E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002252891DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022528082FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002252891DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002252AE96F40>
          └ <fastapi.applications.FastAPI object at 0x0000022528082FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002252AE96F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002252AE96F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002252AE96EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002252AE96F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002252AEAFDC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002252AE96EB0>
          └ <function wrap_app_handling_exceptions at 0x00000225284DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002252AE1FD60>>
          └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000225284B0D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002252842C940>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002252AEE64F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002252842C0D0>
          └ <function wrap_app_handling_exceptions at 0x00000225284DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CE50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002252842C0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002252AEE64F0>
                     └ <function get_request_handler.<locals>.app at 0x000002252842C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000225284BB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002252AEE6730>}
                 │         └ <function page at 0x00000225282FE040>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022528419400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 66, in page
    users = await UserCRUD.get(db,id=1)
                  │        │   └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002252AEE6730>
                  │        └ <staticmethod object at 0x000002252AE2BD60>
                  └ <class 'app.crud.auth.user.UserCRUD'>

TypeError: get() missing 1 required positional argument: 'schema_to_select'
2024-03-09 22:14:55.571 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x00000225258294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x00000225257085E0>
           └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022525713C10>
    └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002252583E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>
    │    └ <function subprocess_started at 0x0000022527753EE0>
    └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002252583E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000225277530D0>
           │       │   └ <uvicorn.server.Server object at 0x000002252583E460>
           │       └ <function run at 0x00000225273EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000225288E8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000225273ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000225273ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000225273F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002252735E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002252891DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022528082FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002252891DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002252AE96F40>
          └ <fastapi.applications.FastAPI object at 0x0000022528082FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002252AE96F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002252AE96F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002252AE96EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002252AE96F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002252AEAFDC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002252AE96EB0>
          └ <function wrap_app_handling_exceptions at 0x00000225284DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002252AE1FD60>>
          └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000225284B0D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002252842C940>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002252AEE64F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002252842C0D0>
          └ <function wrap_app_handling_exceptions at 0x00000225284DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CE50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002252842C0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002252AEE64F0>
                     └ <function get_request_handler.<locals>.app at 0x000002252842C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000225284BB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002252AEE6730>}
                 │         └ <function page at 0x00000225282FE040>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022528419400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 66, in page
    users = await UserCRUD.get(db,id=1)
                  │        │   └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002252AEE6730>
                  │        └ <staticmethod object at 0x000002252AE2BD60>
                  └ <class 'app.crud.auth.user.UserCRUD'>

TypeError: get() missing 1 required positional argument: 'schema_to_select'
2024-03-09 22:17:49.116 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:17:49.117 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:17:49.224 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:17:49.226 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:17:49.228 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:17:49.229 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:17:49.230 | INFO     | uvicorn.server:serve:87 - Finished server process [18796]
2024-03-09 22:17:49.231 | INFO     | uvicorn.server:serve:87 - Finished server process [18796]
2024-03-09 22:17:51.335 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:17:51.335 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:17:51.336 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:17:51.336 | INFO     | uvicorn.server:serve:77 - Started server process [20324]
2024-03-09 22:17:51.337 | INFO     | uvicorn.server:serve:77 - Started server process [20324]
2024-03-09 22:17:51.337 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:17:51.338 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:17:51.338 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:17:51.339 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:17:51.340 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:17:53.301 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59281 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:18:34.880 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:18:34.881 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:18:34.989 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:18:34.990 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:18:34.992 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:18:34.993 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:18:34.994 | INFO     | uvicorn.server:serve:87 - Finished server process [20324]
2024-03-09 22:18:34.995 | INFO     | uvicorn.server:serve:87 - Finished server process [20324]
2024-03-09 22:18:36.514 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:18:36.515 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:18:36.516 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:18:36.516 | INFO     | uvicorn.server:serve:77 - Started server process [20576]
2024-03-09 22:18:36.517 | INFO     | uvicorn.server:serve:77 - Started server process [20576]
2024-03-09 22:18:36.517 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:18:36.518 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:18:36.518 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:18:36.519 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:18:36.519 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:18:39.031 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59287 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:18:42.153 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59287 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:18:48.848 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59288 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:18:50.042 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59288 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:18:51.015 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59288 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:27:15.195 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:27:15.196 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:27:15.305 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:27:15.305 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:27:15.306 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:27:15.306 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:27:15.307 | INFO     | uvicorn.server:serve:87 - Finished server process [20576]
2024-03-09 22:27:15.308 | INFO     | uvicorn.server:serve:87 - Finished server process [20576]
2024-03-09 22:27:16.849 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:27:16.850 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:27:16.850 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:27:16.851 | INFO     | uvicorn.server:serve:77 - Started server process [21328]
2024-03-09 22:27:16.852 | INFO     | uvicorn.server:serve:77 - Started server process [21328]
2024-03-09 22:27:16.852 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:27:16.852 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:27:16.854 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:27:16.855 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:27:16.856 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:27:19.601 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59346 - "GET /docs HTTP/1.1" 200
2024-03-09 22:27:19.779 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59346 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 22:27:26.360 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59347 - "GET /api/v1/users/list HTTP/1.1" 200
2024-03-09 22:27:34.518 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59349 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:27:34.527 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000027C767C94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000027C766985E0>
           └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000027C766A3C10>
    └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000027C767DE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>
    │    └ <function subprocess_started at 0x0000027C786F3EE0>
    └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000027C767DE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000027C786F30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000027C767DE460>
           │       └ <function run at 0x0000027C7838C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000027C79888340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000027C7838D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000027C7838D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000027C783914C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000027C782FE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027C798BAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027C79022FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027C798BAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027C7BE4C220>
          └ <fastapi.applications.FastAPI object at 0x0000027C79022FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027C7BE4C130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027C7BE4C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027C7BE38F70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027C7BE4C130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000027C7BEBAF70>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027C7BE38F70>
          └ <function wrap_app_handling_exceptions at 0x0000027C7949D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>>
          └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000027C7944BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000027C793AD820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000027C7BE4CB80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000027C793ADCA0>
          └ <function wrap_app_handling_exceptions at 0x0000027C7949D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7921B1F0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000027C793ADCA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000027C7BE4CB80>
                     └ <function get_request_handler.<locals>.app at 0x0000027C793AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000027C7944A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000027C7BE4CA30>}
                 │         └ <function page at 0x0000027C7BE27EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000027C793B73D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 67, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user.User object at 0x0000027C7BEE30A0>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x0000027C79572820>
    │           └ <app.utils.responses.SuccessExtra object at 0x0000027C7BE87340>
    └ <app.utils.responses.SuccessExtra object at 0x0000027C7BE87340>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x0000027C78452DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x0000027C78452D30>
             └ <json.encoder.JSONEncoder object at 0x0000027C7BEBAE50>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x0000027C7BEE5820>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:27:34.625 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000027C767C94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000027C766985E0>
           └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000027C766A3C10>
    └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000027C767DE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>
    │    └ <function subprocess_started at 0x0000027C786F3EE0>
    └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000027C767DE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000027C786F30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000027C767DE460>
           │       └ <function run at 0x0000027C7838C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000027C79888340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000027C7838D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000027C7838D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000027C783914C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000027C782FE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027C798BAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027C79022FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027C798BAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027C7BE4C220>
          └ <fastapi.applications.FastAPI object at 0x0000027C79022FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027C7BE4C130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027C7BE4C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027C7BE38F70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027C7BE4C130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000027C7BEBAF70>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027C7BE38F70>
          └ <function wrap_app_handling_exceptions at 0x0000027C7949D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>>
          └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000027C7944BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000027C793AD820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000027C7BE4CB80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000027C793ADCA0>
          └ <function wrap_app_handling_exceptions at 0x0000027C7949D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7921B1F0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000027C793ADCA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000027C7BE4CB80>
                     └ <function get_request_handler.<locals>.app at 0x0000027C793AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000027C7944A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000027C7BE4CA30>}
                 │         └ <function page at 0x0000027C7BE27EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000027C793B73D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 67, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user.User object at 0x0000027C7BEE30A0>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x0000027C79572820>
    │           └ <app.utils.responses.SuccessExtra object at 0x0000027C7BE87340>
    └ <app.utils.responses.SuccessExtra object at 0x0000027C7BE87340>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x0000027C78452DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x0000027C78452D30>
             └ <json.encoder.JSONEncoder object at 0x0000027C7BEBAE50>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x0000027C7BEE5820>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:01.552 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:31:01.553 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:31:01.662 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:31:01.662 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:31:01.663 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:31:01.663 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:31:01.664 | INFO     | uvicorn.server:serve:87 - Finished server process [21328]
2024-03-09 22:31:01.664 | INFO     | uvicorn.server:serve:87 - Finished server process [21328]
2024-03-09 22:31:03.101 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:31:03.102 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:31:03.102 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:31:03.103 | INFO     | uvicorn.server:serve:77 - Started server process [20836]
2024-03-09 22:31:03.103 | INFO     | uvicorn.server:serve:77 - Started server process [20836]
2024-03-09 22:31:03.104 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:31:03.104 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:31:03.105 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:31:03.105 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:31:03.106 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:31:05.138 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59370 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:31:05.139 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 404
               │     └ 3
               └ <function _main at 0x0000020292A294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 404
           │    └ <function BaseProcess._bootstrap at 0x00000202929285E0>
           └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000020292933C10>
    └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000020292A3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>
    │    └ <function subprocess_started at 0x0000020294944EE0>
    └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000020292A3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000202949440D0>
           │       │   └ <uvicorn.server.Server object at 0x0000020292A3E460>
           │       └ <function run at 0x00000202945DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000020295ADB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000202945DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000202945DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000202945E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002029454E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020295B13AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000020295272FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020295B13AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020298098250>
          └ <fastapi.applications.FastAPI object at 0x0000020295272FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000202980981F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020298098250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020298085EE0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000202980981F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000202980D7040>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002029800FA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020298085EE0>
          └ <function wrap_app_handling_exceptions at 0x00000202956EE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002029800FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002029800FA00>>
          └ <fastapi.routing.APIRouter object at 0x000002029800FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002029569FD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000202955FD820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000202980D72B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000202955FD940>
          └ <function wrap_app_handling_exceptions at 0x00000202956EE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FDDC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000202955FD940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000202980D72B0>
                     └ <function get_request_handler.<locals>.app at 0x00000202955FD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000202956928B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000202980D7640>}
                 │         └ <function page at 0x0000020298076EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000020295608400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user.User object at 0x0000020298111A90>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x00000202957B3820>
    │           └ <app.utils.responses.SuccessExtra object at 0x00000202980D7E20>
    └ <app.utils.responses.SuccessExtra object at 0x00000202980D7E20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x00000202946A1DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x00000202946A1D30>
             └ <json.encoder.JSONEncoder object at 0x00000202980D7DF0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x00000202980E7D60>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:05.176 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 404
               │     └ 3
               └ <function _main at 0x0000020292A294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 404
           │    └ <function BaseProcess._bootstrap at 0x00000202929285E0>
           └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000020292933C10>
    └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000020292A3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>
    │    └ <function subprocess_started at 0x0000020294944EE0>
    └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000020292A3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000202949440D0>
           │       │   └ <uvicorn.server.Server object at 0x0000020292A3E460>
           │       └ <function run at 0x00000202945DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000020295ADB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000202945DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000202945DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000202945E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002029454E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020295B13AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000020295272FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020295B13AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020298098250>
          └ <fastapi.applications.FastAPI object at 0x0000020295272FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000202980981F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020298098250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020298085EE0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000202980981F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000202980D7040>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002029800FA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020298085EE0>
          └ <function wrap_app_handling_exceptions at 0x00000202956EE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002029800FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002029800FA00>>
          └ <fastapi.routing.APIRouter object at 0x000002029800FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002029569FD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000202955FD820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000202980D72B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000202955FD940>
          └ <function wrap_app_handling_exceptions at 0x00000202956EE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FDDC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000202955FD940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000202980D72B0>
                     └ <function get_request_handler.<locals>.app at 0x00000202955FD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000202956928B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000202980D7640>}
                 │         └ <function page at 0x0000020298076EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000020295608400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user.User object at 0x0000020298111A90>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x00000202957B3820>
    │           └ <app.utils.responses.SuccessExtra object at 0x00000202980D7E20>
    └ <app.utils.responses.SuccessExtra object at 0x00000202980D7E20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x00000202946A1DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x00000202946A1D30>
             └ <json.encoder.JSONEncoder object at 0x00000202980D7DF0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x00000202980E7D60>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:28.181 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:31:28.181 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:31:28.288 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:31:28.289 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:31:28.290 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:31:28.291 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:31:28.292 | INFO     | uvicorn.server:serve:87 - Finished server process [20836]
2024-03-09 22:31:28.293 | INFO     | uvicorn.server:serve:87 - Finished server process [20836]
2024-03-09 22:31:30.385 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:31:30.386 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:31:30.387 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:31:30.388 | INFO     | uvicorn.server:serve:77 - Started server process [20508]
2024-03-09 22:31:30.389 | INFO     | uvicorn.server:serve:77 - Started server process [20508]
2024-03-09 22:31:30.389 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:31:30.391 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:31:30.392 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:31:30.393 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:31:30.394 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:31:31.480 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59374 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:31:31.484 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 364
               │     └ 3
               └ <function _main at 0x000001F964D994C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 364
           │    └ <function BaseProcess._bootstrap at 0x000001F964C885E0>
           └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F964C93C10>
    └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F964DAE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>
    │    └ <function subprocess_started at 0x000001F966CC4EE0>
    └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F964DAE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F966CC40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F964DAE460>
           │       └ <function run at 0x000001F96695C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F967E58340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F96695D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F96695D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F9669604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F9668CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F967E8FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F9675F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F967E8FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F96A4281F0>
          └ <fastapi.applications.FastAPI object at 0x000001F9675F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F96A415EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F96A4281F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F96A415FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F96A415EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F96A467040>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F96A415FA0>
          └ <function wrap_app_handling_exceptions at 0x000001F967A4B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F96A39FA00>>
          └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F967A25D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F96799C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F96A4672B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F96799C940>
          └ <function wrap_app_handling_exceptions at 0x000001F967A4B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799CCA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F96799C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F96A4672B0>
                     └ <function get_request_handler.<locals>.app at 0x000001F96799C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001F967A268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001F96A467640>}
                 │         └ <function page at 0x000001F96A406EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001F967985400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 6
           │                 └ [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user.User object at 0x000001F96A4A1A90>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x000001F967B34820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001F96A467E20>
    └ <app.utils.responses.SuccessExtra object at 0x000001F96A467E20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001F966A22DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x000001F966A22D30>
             └ <json.encoder.JSONEncoder object at 0x000001F96A467DF0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x000001F96A477CA0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:31.519 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 364
               │     └ 3
               └ <function _main at 0x000001F964D994C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 364
           │    └ <function BaseProcess._bootstrap at 0x000001F964C885E0>
           └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F964C93C10>
    └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F964DAE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>
    │    └ <function subprocess_started at 0x000001F966CC4EE0>
    └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F964DAE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F966CC40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F964DAE460>
           │       └ <function run at 0x000001F96695C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F967E58340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F96695D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F96695D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F9669604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F9668CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F967E8FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F9675F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F967E8FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F96A4281F0>
          └ <fastapi.applications.FastAPI object at 0x000001F9675F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F96A415EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F96A4281F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F96A415FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F96A415EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F96A467040>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F96A415FA0>
          └ <function wrap_app_handling_exceptions at 0x000001F967A4B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F96A39FA00>>
          └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F967A25D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F96799C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F96A4672B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F96799C940>
          └ <function wrap_app_handling_exceptions at 0x000001F967A4B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799CCA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F96799C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F96A4672B0>
                     └ <function get_request_handler.<locals>.app at 0x000001F96799C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001F967A268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001F96A467640>}
                 │         └ <function page at 0x000001F96A406EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001F967985400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 6
           │                 └ [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user.User object at 0x000001F96A4A1A90>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x000001F967B34820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001F96A467E20>
    └ <app.utils.responses.SuccessExtra object at 0x000001F96A467E20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001F966A22DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x000001F966A22D30>
             └ <json.encoder.JSONEncoder object at 0x000001F96A467DF0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x000001F96A477CA0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:46.950 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:31:46.952 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:31:47.061 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:31:47.063 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:31:47.069 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:31:47.075 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:31:47.077 | INFO     | uvicorn.server:serve:87 - Finished server process [20508]
2024-03-09 22:31:47.079 | INFO     | uvicorn.server:serve:87 - Finished server process [20508]
2024-03-09 22:31:48.611 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:31:48.611 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:31:48.612 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:31:48.612 | INFO     | uvicorn.server:serve:77 - Started server process [20580]
2024-03-09 22:31:48.613 | INFO     | uvicorn.server:serve:77 - Started server process [20580]
2024-03-09 22:31:48.613 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:31:48.614 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:31:48.614 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:31:48.615 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:31:48.616 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:31:52.586 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59379 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:31:52.587 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x00000281533D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x00000281532A85E0>
           └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000281532B3C10>
    └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000281533EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>
    │    └ <function subprocess_started at 0x0000028155304EE0>
    └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=756, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000281533EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=756, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000281553040D0>
           │       │   └ <uvicorn.server.Server object at 0x00000281533EE460>
           │       └ <function run at 0x0000028154F9C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000028156499340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000028154F9D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000028154F9D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000028154FA04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000028154F0E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000281564CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000028155C32FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000281564CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028158A46A30>
          └ <fastapi.applications.FastAPI object at 0x0000028155C32FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028158A46F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028158A46A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028158A46FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028158A46F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000028158A60E20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028158A46FA0>
          └ <function wrap_app_handling_exceptions at 0x0000028156084790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000281589CFA00>>
          └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002815605DD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000028155FC0820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000028158A60FA0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000028155FC08B0>
          └ <function wrap_app_handling_exceptions at 0x0000028156084790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000028155FC08B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000028158A60FA0>
                     └ <function get_request_handler.<locals>.app at 0x0000028155FC0790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002815606B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000028158A97430>}
                 │         └ <function page at 0x0000028158A36EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000028155FC5400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 69, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user.User object at 0x0000028158AD2880>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x0000028156171820>
    │           └ <app.utils.responses.SuccessExtra object at 0x0000028158A97D60>
    └ <app.utils.responses.SuccessExtra object at 0x0000028158A97D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x0000028155061DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x0000028155061D30>
             └ <json.encoder.JSONEncoder object at 0x0000028158A97C70>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x0000028158AD4700>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:52.627 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x00000281533D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x00000281532A85E0>
           └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000281532B3C10>
    └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000281533EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>
    │    └ <function subprocess_started at 0x0000028155304EE0>
    └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=756, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000281533EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=756, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000281553040D0>
           │       │   └ <uvicorn.server.Server object at 0x00000281533EE460>
           │       └ <function run at 0x0000028154F9C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000028156499340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000028154F9D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000028154F9D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000028154FA04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000028154F0E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000281564CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000028155C32FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000281564CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028158A46A30>
          └ <fastapi.applications.FastAPI object at 0x0000028155C32FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028158A46F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028158A46A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028158A46FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028158A46F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000028158A60E20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028158A46FA0>
          └ <function wrap_app_handling_exceptions at 0x0000028156084790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000281589CFA00>>
          └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002815605DD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000028155FC0820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000028158A60FA0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000028155FC08B0>
          └ <function wrap_app_handling_exceptions at 0x0000028156084790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000028155FC08B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000028158A60FA0>
                     └ <function get_request_handler.<locals>.app at 0x0000028155FC0790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002815606B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000028158A97430>}
                 │         └ <function page at 0x0000028158A36EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000028155FC5400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 69, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user.User object at 0x0000028158AD2880>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x0000028156171820>
    │           └ <app.utils.responses.SuccessExtra object at 0x0000028158A97D60>
    └ <app.utils.responses.SuccessExtra object at 0x0000028158A97D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x0000028155061DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x0000028155061D30>
             └ <json.encoder.JSONEncoder object at 0x0000028158A97C70>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x0000028158AD4700>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:35:28.239 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:35:28.240 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:35:28.349 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:35:28.355 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:35:28.357 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:35:28.360 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:35:28.365 | INFO     | uvicorn.server:serve:87 - Finished server process [20580]
2024-03-09 22:35:28.370 | INFO     | uvicorn.server:serve:87 - Finished server process [20580]
2024-03-09 22:35:30.354 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:35:30.354 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:35:30.355 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:35:30.355 | INFO     | uvicorn.server:serve:77 - Started server process [9400]
2024-03-09 22:35:30.356 | INFO     | uvicorn.server:serve:77 - Started server process [9400]
2024-03-09 22:35:30.356 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:35:30.357 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:35:30.357 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:35:30.358 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:35:30.358 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:35:33.870 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59396 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:36:48.833 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:36:48.834 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:36:48.942 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:36:48.944 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:36:48.945 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:36:48.945 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:36:48.946 | INFO     | uvicorn.server:serve:87 - Finished server process [9400]
2024-03-09 22:36:48.946 | INFO     | uvicorn.server:serve:87 - Finished server process [9400]
2024-03-09 22:36:50.665 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:36:50.666 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:36:50.666 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:36:50.667 | INFO     | uvicorn.server:serve:77 - Started server process [6176]
2024-03-09 22:36:50.667 | INFO     | uvicorn.server:serve:77 - Started server process [6176]
2024-03-09 22:36:50.667 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:36:50.668 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:36:50.668 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:36:50.669 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:36:50.670 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:36:50.794 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59410 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:41:33.524 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 22:41:33.526 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 22:44:35.790 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:44:35.790 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:44:35.899 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:44:35.900 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:44:35.901 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:44:35.902 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:44:35.902 | INFO     | uvicorn.server:serve:87 - Finished server process [6176]
2024-03-09 22:44:35.902 | INFO     | uvicorn.server:serve:87 - Finished server process [6176]
2024-03-09 22:44:37.636 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:44:37.637 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:44:37.637 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:44:37.637 | INFO     | uvicorn.server:serve:77 - Started server process [16388]
2024-03-09 22:44:37.639 | INFO     | uvicorn.server:serve:77 - Started server process [16388]
2024-03-09 22:44:37.639 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:44:37.640 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:44:37.640 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:44:37.641 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:44:37.642 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:44:38.629 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59604 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:52:02.528 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59638 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:52:02.576 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:52:02.577 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:52:02.685 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:52:02.688 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:52:02.691 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:52:02.693 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:52:02.695 | INFO     | uvicorn.server:serve:87 - Finished server process [16388]
2024-03-09 22:52:02.696 | INFO     | uvicorn.server:serve:87 - Finished server process [16388]
2024-03-09 22:52:04.072 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:52:04.073 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:52:04.073 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:52:04.074 | INFO     | uvicorn.server:serve:77 - Started server process [11588]
2024-03-09 22:52:04.074 | INFO     | uvicorn.server:serve:77 - Started server process [11588]
2024-03-09 22:52:04.075 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:52:04.075 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:52:04.075 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:52:04.077 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:52:04.077 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:52:06.448 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59643 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:52:56.042 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:52:56.044 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:52:56.151 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:52:56.152 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:52:56.153 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:52:56.153 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:52:56.154 | INFO     | uvicorn.server:serve:87 - Finished server process [11588]
2024-03-09 22:52:56.155 | INFO     | uvicorn.server:serve:87 - Finished server process [11588]
2024-03-09 22:52:57.928 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:52:57.928 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:52:57.929 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:52:57.930 | INFO     | uvicorn.server:serve:77 - Started server process [6044]
2024-03-09 22:52:57.930 | INFO     | uvicorn.server:serve:77 - Started server process [6044]
2024-03-09 22:52:57.930 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:52:57.931 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:52:57.931 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:52:57.932 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:52:57.933 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:53:03.426 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59651 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:53:25.434 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59657 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:53:50.337 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:53:50.338 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:53:50.446 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:53:50.447 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:53:50.447 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:53:50.448 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:53:50.448 | INFO     | uvicorn.server:serve:87 - Finished server process [6044]
2024-03-09 22:53:50.449 | INFO     | uvicorn.server:serve:87 - Finished server process [6044]
2024-03-09 22:53:52.058 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:53:52.059 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:53:52.059 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:53:52.060 | INFO     | uvicorn.server:serve:77 - Started server process [4532]
2024-03-09 22:53:52.060 | INFO     | uvicorn.server:serve:77 - Started server process [4532]
2024-03-09 22:53:52.061 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:53:52.061 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:53:52.062 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:53:52.063 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:53:52.063 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:53:52.160 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59662 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:53:52.162 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000001C5690594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000001C568F585E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C568F63C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C56906E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>
    │    └ <function subprocess_started at 0x000001C56AF73EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=824, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C56906E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=824, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C56AF730D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C56906E460>
           │       └ <function run at 0x000001C56AC0C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C56C109340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C56AC0D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C56AC0D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C56AC104C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C56AB7E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C56C13FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C56B8A2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C56C13FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C56E6D3250>
          └ <fastapi.applications.FastAPI object at 0x000001C56B8A2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C56E6C7EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C56E6D3250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C56E6C7FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C56E6C7EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C56E6D3D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C56E6C7FD0>
          └ <function wrap_app_handling_exceptions at 0x000001C56BD1E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C56E64EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C56BCCBD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C56BC49820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C56E6D3F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C56BC499D0>
          └ <function wrap_app_handling_exceptions at 0x000001C56BD1E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56E6B69D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C56BC499D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C56E6D3F70>
                     └ <function get_request_handler.<locals>.app at 0x000001C56BC49790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001C56BCC28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C56E6F3430>}
                 │         └ <function page at 0x000001C56E6B6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001C56BC36400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001C56BDE4820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001C56E6D3070>
    └ <app.utils.responses.SuccessExtra object at 0x000001C56E6D3070>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001C56ACD1DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001C56ACD1D30>
             └ <json.encoder.JSONEncoder object at 0x000001C56E7147C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001C56E747D00>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:53:52.209 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000001C5690594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000001C568F585E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C568F63C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C56906E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>
    │    └ <function subprocess_started at 0x000001C56AF73EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=824, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C56906E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=824, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C56AF730D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C56906E460>
           │       └ <function run at 0x000001C56AC0C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C56C109340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C56AC0D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C56AC0D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C56AC104C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C56AB7E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C56C13FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C56B8A2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C56C13FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C56E6D3250>
          └ <fastapi.applications.FastAPI object at 0x000001C56B8A2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C56E6C7EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C56E6D3250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C56E6C7FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C56E6C7EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C56E6D3D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C56E6C7FD0>
          └ <function wrap_app_handling_exceptions at 0x000001C56BD1E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C56E64EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C56BCCBD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C56BC49820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C56E6D3F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C56BC499D0>
          └ <function wrap_app_handling_exceptions at 0x000001C56BD1E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56E6B69D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C56BC499D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C56E6D3F70>
                     └ <function get_request_handler.<locals>.app at 0x000001C56BC49790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001C56BCC28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C56E6F3430>}
                 │         └ <function page at 0x000001C56E6B6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001C56BC36400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001C56BDE4820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001C56E6D3070>
    └ <app.utils.responses.SuccessExtra object at 0x000001C56E6D3070>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001C56ACD1DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001C56ACD1D30>
             └ <json.encoder.JSONEncoder object at 0x000001C56E7147C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001C56E747D00>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:54:27.704 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:54:27.705 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:54:27.815 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:54:27.815 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:54:27.815 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:54:27.817 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:54:27.817 | INFO     | uvicorn.server:serve:87 - Finished server process [4532]
2024-03-09 22:54:27.817 | INFO     | uvicorn.server:serve:87 - Finished server process [4532]
2024-03-09 22:54:29.178 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:54:29.178 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:54:29.178 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:54:29.178 | INFO     | uvicorn.server:serve:77 - Started server process [2392]
2024-03-09 22:54:29.178 | INFO     | uvicorn.server:serve:77 - Started server process [2392]
2024-03-09 22:54:29.178 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:54:29.178 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:54:29.178 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:54:29.178 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:54:29.178 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:54:32.314 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59669 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:54:32.314 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x000001BF8FAD94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x000001BF8F8D45E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001BF8F8D3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001BF8FAEE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    └ <function subprocess_started at 0x000001BF91A03EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001BF8FAEE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001BF91A030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001BF8FAEE460>
           │       └ <function run at 0x000001BF9169C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001BF92B98340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001BF9169D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001BF9169D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001BF916A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001BF9160E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>
          └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001BF95162DC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001BF950CEA00>>
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001BF9275BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001BF926DB820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001BF95162FD0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001BF926DB8B0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DBC10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001BF926DB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001BF95162FD0>
                     └ <function get_request_handler.<locals>.app at 0x000001BF926DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001BF9275A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001BF95197400>}
                 │         └ <function page at 0x000001BF95136EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001BF926CA3D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001BF92882820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001BF951AAFD0>
    └ <app.utils.responses.SuccessExtra object at 0x000001BF951AAFD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001BF91761DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001BF91761D30>
             └ <json.encoder.JSONEncoder object at 0x000001BF95197BB0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001BF951C2B20>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:54:32.371 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x000001BF8FAD94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x000001BF8F8D45E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001BF8F8D3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001BF8FAEE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    └ <function subprocess_started at 0x000001BF91A03EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001BF8FAEE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001BF91A030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001BF8FAEE460>
           │       └ <function run at 0x000001BF9169C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001BF92B98340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001BF9169D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001BF9169D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001BF916A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001BF9160E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>
          └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001BF95162DC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001BF950CEA00>>
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001BF9275BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001BF926DB820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001BF95162FD0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001BF926DB8B0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DBC10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001BF926DB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001BF95162FD0>
                     └ <function get_request_handler.<locals>.app at 0x000001BF926DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001BF9275A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001BF95197400>}
                 │         └ <function page at 0x000001BF95136EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001BF926CA3D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001BF92882820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001BF951AAFD0>
    └ <app.utils.responses.SuccessExtra object at 0x000001BF951AAFD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001BF91761DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001BF91761D30>
             └ <json.encoder.JSONEncoder object at 0x000001BF95197BB0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001BF951C2B20>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:55:18.762 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:55:18.762 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:55:18.763 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59671 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:55:18.763 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x000001BF8FAD94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x000001BF8F8D45E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001BF8F8D3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001BF8FAEE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    └ <function subprocess_started at 0x000001BF91A03EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001BF8FAEE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>]
           │       │   │    └ <function Server.serve at 0x000001BF91A030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001BF8FAEE460>
           │       └ <function run at 0x000001BF9169C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001BF92B98340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001BF9169D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001BF9169D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001BF916A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001BF9160E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>
          └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001BF951C4430>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001BF950CEA00>>
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001BF9275BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001BF926DB820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001BF951C4670>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001BF95328DC0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001BF95328DC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001BF951C4670>
                     └ <function get_request_handler.<locals>.app at 0x000001BF926DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001BF9275A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001BF951C4A60>}
                 │         └ <function page at 0x000001BF95136EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001BF926CA3D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001BF92882820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001BF951AA3D0>
    └ <app.utils.responses.SuccessExtra object at 0x000001BF951AA3D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001BF91761DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001BF91761D30>
             └ <json.encoder.JSONEncoder object at 0x000001BF951C4C70>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001BF9533ACA0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:55:18.791 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x000001BF8FAD94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x000001BF8F8D45E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001BF8F8D3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001BF8FAEE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    └ <function subprocess_started at 0x000001BF91A03EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001BF8FAEE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>]
           │       │   │    └ <function Server.serve at 0x000001BF91A030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001BF8FAEE460>
           │       └ <function run at 0x000001BF9169C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001BF92B98340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001BF9169D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001BF9169D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001BF916A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001BF9160E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>
          └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001BF951C4430>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001BF950CEA00>>
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001BF9275BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001BF926DB820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001BF951C4670>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001BF95328DC0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001BF95328DC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001BF951C4670>
                     └ <function get_request_handler.<locals>.app at 0x000001BF926DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001BF9275A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001BF951C4A60>}
                 │         └ <function page at 0x000001BF95136EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001BF926CA3D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001BF92882820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001BF951AA3D0>
    └ <app.utils.responses.SuccessExtra object at 0x000001BF951AA3D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001BF91761DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001BF91761D30>
             └ <json.encoder.JSONEncoder object at 0x000001BF951C4C70>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001BF9533ACA0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:55:18.867 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:55:18.867 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:55:18.868 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:55:18.868 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:55:18.869 | INFO     | uvicorn.server:serve:87 - Finished server process [2392]
2024-03-09 22:55:18.869 | INFO     | uvicorn.server:serve:87 - Finished server process [2392]
2024-03-09 22:55:20.280 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:55:20.280 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:55:20.281 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:55:20.281 | INFO     | uvicorn.server:serve:77 - Started server process [21160]
2024-03-09 22:55:20.282 | INFO     | uvicorn.server:serve:77 - Started server process [21160]
2024-03-09 22:55:20.282 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:55:20.283 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:55:20.283 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:55:20.284 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:55:20.284 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:55:21.595 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59675 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:55:45.937 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:55:45.937 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:55:45.937 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59678 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:55:46.052 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:55:46.057 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:55:46.074 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:55:46.082 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:55:46.089 | INFO     | uvicorn.server:serve:87 - Finished server process [21160]
2024-03-09 22:55:46.089 | INFO     | uvicorn.server:serve:87 - Finished server process [21160]
2024-03-09 22:55:47.496 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:55:47.496 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:55:47.496 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:55:47.496 | INFO     | uvicorn.server:serve:77 - Started server process [10680]
2024-03-09 22:55:47.496 | INFO     | uvicorn.server:serve:77 - Started server process [10680]
2024-03-09 22:55:47.496 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:55:47.496 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:55:47.496 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:55:47.496 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:55:47.496 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:55:50.135 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59682 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:56:43.942 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59684 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:56:44.021 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:56:44.023 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:56:44.114 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:56:44.114 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:56:44.114 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:56:44.115 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:56:44.116 | INFO     | uvicorn.server:serve:87 - Finished server process [10680]
2024-03-09 22:56:44.116 | INFO     | uvicorn.server:serve:87 - Finished server process [10680]
2024-03-09 22:56:46.481 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:56:46.483 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:56:46.483 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:56:46.484 | INFO     | uvicorn.server:serve:77 - Started server process [12752]
2024-03-09 22:56:46.485 | INFO     | uvicorn.server:serve:77 - Started server process [12752]
2024-03-09 22:56:46.485 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:56:46.486 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:56:46.486 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:56:46.487 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:56:46.487 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:56:46.565 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59689 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:58:51.353 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:58:51.353 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:58:51.462 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:58:51.462 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:58:51.462 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:58:51.463 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:58:51.463 | INFO     | uvicorn.server:serve:87 - Finished server process [12752]
2024-03-09 22:58:51.463 | INFO     | uvicorn.server:serve:87 - Finished server process [12752]
2024-03-09 22:58:53.164 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:58:53.165 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:58:53.166 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:58:53.167 | INFO     | uvicorn.server:serve:77 - Started server process [17856]
2024-03-09 22:58:53.167 | INFO     | uvicorn.server:serve:77 - Started server process [17856]
2024-03-09 22:58:53.167 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:58:53.168 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:58:53.168 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:58:53.169 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:58:53.169 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:58:53.244 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59700 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:58:53.245 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x000001DBCA0A84C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x000001DBC9F885E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DBC9F93C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DBCA0BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DBCBFD3EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DBCA0BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DBCBFD30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DBCA0BE460>
           │       └ <function run at 0x000001DBCBC6C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DBCD168340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DBCBC6D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DBCBC6D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DBCBC704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DBCBBDE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>
          └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DBCF727D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>>
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DBCCD28D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DBCCCAA820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DBCF727F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCCAA9D0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCF7089D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCCAA9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DBCF727F70>
                     └ <function get_request_handler.<locals>.app at 0x000001DBCCCAA790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DBCCD3A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DBCF743430>}
                 │         └ <function page at 0x000001DBCF708EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DBCCC99400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: list_user, total: total}
            │     │          │      └ 0
            │     │          └ 0
            │     └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:58:53.275 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x000001DBCA0A84C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x000001DBC9F885E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DBC9F93C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DBCA0BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DBCBFD3EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DBCA0BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DBCBFD30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DBCA0BE460>
           │       └ <function run at 0x000001DBCBC6C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DBCD168340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DBCBC6D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DBCBC6D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DBCBC704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DBCBBDE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>
          └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DBCF727D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>>
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DBCCD28D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DBCCCAA820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DBCF727F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCCAA9D0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCF7089D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCCAA9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DBCF727F70>
                     └ <function get_request_handler.<locals>.app at 0x000001DBCCCAA790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DBCCD3A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DBCF743430>}
                 │         └ <function page at 0x000001DBCF708EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DBCCC99400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: list_user, total: total}
            │     │          │      └ 0
            │     │          └ 0
            │     └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:58:58.104 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59708 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:58:58.105 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x000001DBCA0A84C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x000001DBC9F885E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DBC9F93C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DBCA0BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DBCBFD3EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DBCA0BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DBCBFD30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DBCA0BE460>
           │       └ <function run at 0x000001DBCBC6C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DBCD168340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DBCBC6D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DBCBC6D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DBCBC704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DBCBBDE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>
          └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DBCF786520>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>>
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DBCCD28D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DBCCCAA820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DBCF786730>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCAF4310>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCF8E9A60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCAF4310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DBCF786730>
                     └ <function get_request_handler.<locals>.app at 0x000001DBCCCAA790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DBCCD3A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DBCF786BE0>}
                 │         └ <function page at 0x000001DBCF708EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DBCCC99400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: list_user, total: total}
            │     │          │      └ 0
            │     │          └ 0
            │     └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:58:58.124 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x000001DBCA0A84C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x000001DBC9F885E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DBC9F93C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DBCA0BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DBCBFD3EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DBCA0BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DBCBFD30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DBCA0BE460>
           │       └ <function run at 0x000001DBCBC6C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DBCD168340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DBCBC6D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DBCBC6D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DBCBC704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DBCBBDE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>
          └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DBCF786520>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>>
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DBCCD28D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DBCCCAA820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DBCF786730>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCAF4310>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCF8E9A60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCAF4310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DBCF786730>
                     └ <function get_request_handler.<locals>.app at 0x000001DBCCCAA790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DBCCD3A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DBCF786BE0>}
                 │         └ <function page at 0x000001DBCF708EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DBCCC99400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: list_user, total: total}
            │     │          │      └ 0
            │     │          └ 0
            │     └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:59:21.144 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:59:21.146 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:59:21.253 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:59:21.255 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:59:21.256 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:59:21.257 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:59:21.258 | INFO     | uvicorn.server:serve:87 - Finished server process [17856]
2024-03-09 22:59:21.259 | INFO     | uvicorn.server:serve:87 - Finished server process [17856]
2024-03-09 22:59:22.731 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:59:22.731 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:59:22.732 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:59:22.733 | INFO     | uvicorn.server:serve:77 - Started server process [20272]
2024-03-09 22:59:22.734 | INFO     | uvicorn.server:serve:77 - Started server process [20272]
2024-03-09 22:59:22.734 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:59:22.734 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:59:22.735 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:59:22.736 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:59:22.736 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:59:22.837 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59721 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:59:22.838 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000025AD2B294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000025AD2A085E0>
           └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025AD2A13C10>
    └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025AD2B3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>
    │    └ <function subprocess_started at 0x0000025AD4A54EE0>
    └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=452, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000025AD2B3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=452, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000025AD4A540D0>
           │       │   └ <uvicorn.server.Server object at 0x0000025AD2B3E460>
           │       └ <function run at 0x0000025AD46EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000025AD5BEB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000025AD46ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025AD46ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025AD46F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025AD465E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025AD5C1EAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000025AD5382FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025AD5C1EAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025AD8195A60>
          └ <fastapi.applications.FastAPI object at 0x0000025AD5382FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025AD8195F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025AD8195A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025AD8195FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025AD8195F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000025AD81B1BB0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025AD8195FA0>
          └ <function wrap_app_handling_exceptions at 0x0000025AD57D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000025AD816B310>>
          └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000025AD57ADD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000025AD570D820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000025AD81D8250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000025AD570D040>
          └ <function wrap_app_handling_exceptions at 0x0000025AD57D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000025AD570D040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025AD81D8250>
                     └ <function get_request_handler.<locals>.app at 0x0000025AD570D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000025AD57B78B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025AD81D8610>}
                 │         └ <function page at 0x0000025AD8186EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000025AD5718400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: str(list_user), total: total}
            │         │           │      └ 0
            │         │           └ 0
            │         └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:59:22.890 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000025AD2B294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000025AD2A085E0>
           └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025AD2A13C10>
    └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025AD2B3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>
    │    └ <function subprocess_started at 0x0000025AD4A54EE0>
    └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=452, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000025AD2B3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=452, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000025AD4A540D0>
           │       │   └ <uvicorn.server.Server object at 0x0000025AD2B3E460>
           │       └ <function run at 0x0000025AD46EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000025AD5BEB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000025AD46ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025AD46ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025AD46F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025AD465E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025AD5C1EAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000025AD5382FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025AD5C1EAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025AD8195A60>
          └ <fastapi.applications.FastAPI object at 0x0000025AD5382FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025AD8195F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025AD8195A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025AD8195FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025AD8195F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000025AD81B1BB0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025AD8195FA0>
          └ <function wrap_app_handling_exceptions at 0x0000025AD57D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000025AD816B310>>
          └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000025AD57ADD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000025AD570D820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000025AD81D8250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000025AD570D040>
          └ <function wrap_app_handling_exceptions at 0x0000025AD57D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000025AD570D040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025AD81D8250>
                     └ <function get_request_handler.<locals>.app at 0x0000025AD570D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000025AD57B78B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025AD81D8610>}
                 │         └ <function page at 0x0000025AD8186EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000025AD5718400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: str(list_user), total: total}
            │         │           │      └ 0
            │         │           └ 0
            │         └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:59:52.981 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:59:52.982 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:59:53.084 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:59:53.085 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:59:53.085 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:59:53.085 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:59:53.095 | INFO     | uvicorn.server:serve:87 - Finished server process [20272]
2024-03-09 22:59:53.095 | INFO     | uvicorn.server:serve:87 - Finished server process [20272]
2024-03-09 22:59:54.632 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:59:54.632 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:59:54.632 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:59:54.632 | INFO     | uvicorn.server:serve:77 - Started server process [10516]
2024-03-09 22:59:54.632 | INFO     | uvicorn.server:serve:77 - Started server process [10516]
2024-03-09 22:59:54.632 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:59:54.632 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:59:54.641 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:59:54.641 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:59:54.641 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:59:54.749 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59734 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:59:54.755 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000002A40D9594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000002A40D7485E0>
           └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A40D753C10>
    └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A40D96E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>
    │    └ <function subprocess_started at 0x000002A40F885EE0>
    └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=584, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A40D96E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=584, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002A40F8850D0>
           │       │   └ <uvicorn.server.Server object at 0x000002A40D96E460>
           │       └ <function run at 0x000002A40F51C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A410A18340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A40F51D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A40F51D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A40F5204C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A40F48E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A410A4AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A4101B2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A410A4AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A412FE7250>
          └ <fastapi.applications.FastAPI object at 0x000002A4101B2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A412FD7EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A412FE7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A412FD7FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A412FD7EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002A412FE7D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A412FD7FA0>
          └ <function wrap_app_handling_exceptions at 0x000002A41060B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002A412F5DA30>>
          └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002A4105E3D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002A41055C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002A412FE7F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002A41055C9D0>
          └ <function wrap_app_handling_exceptions at 0x000002A41060B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A412FC89D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002A41055C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A412FE7F70>
                     └ <function get_request_handler.<locals>.app at 0x000002A41055C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002A4105E78B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002A413003430>}
                 │         └ <function page at 0x000002A412FC8EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002A410545400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data, total: total}
            │     │     │      └ 5
            │     │     └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 22:59:54.798 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000002A40D9594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000002A40D7485E0>
           └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A40D753C10>
    └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A40D96E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>
    │    └ <function subprocess_started at 0x000002A40F885EE0>
    └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=584, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A40D96E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=584, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002A40F8850D0>
           │       │   └ <uvicorn.server.Server object at 0x000002A40D96E460>
           │       └ <function run at 0x000002A40F51C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A410A18340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A40F51D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A40F51D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A40F5204C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A40F48E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A410A4AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A4101B2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A410A4AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A412FE7250>
          └ <fastapi.applications.FastAPI object at 0x000002A4101B2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A412FD7EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A412FE7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A412FD7FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A412FD7EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002A412FE7D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A412FD7FA0>
          └ <function wrap_app_handling_exceptions at 0x000002A41060B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002A412F5DA30>>
          └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002A4105E3D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002A41055C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002A412FE7F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002A41055C9D0>
          └ <function wrap_app_handling_exceptions at 0x000002A41060B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A412FC89D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002A41055C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A412FE7F70>
                     └ <function get_request_handler.<locals>.app at 0x000002A41055C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002A4105E78B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002A413003430>}
                 │         └ <function page at 0x000002A412FC8EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002A410545400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data, total: total}
            │     │     │      └ 5
            │     │     └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:00:13.203 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:00:13.204 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:00:13.313 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:00:13.315 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:00:13.315 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:00:13.316 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:00:13.316 | INFO     | uvicorn.server:serve:87 - Finished server process [10516]
2024-03-09 23:00:13.316 | INFO     | uvicorn.server:serve:87 - Finished server process [10516]
2024-03-09 23:00:14.908 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:00:14.908 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:00:14.909 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:00:14.910 | INFO     | uvicorn.server:serve:77 - Started server process [19464]
2024-03-09 23:00:14.910 | INFO     | uvicorn.server:serve:77 - Started server process [19464]
2024-03-09 23:00:14.911 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:00:14.911 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:00:14.912 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:00:14.914 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:00:14.916 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:00:15.012 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59743 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:00:15.015 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 404
               │     └ 3
               └ <function _main at 0x00000235AAE394C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 404
           │    └ <function BaseProcess._bootstrap at 0x00000235AAD285E0>
           └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000235AAD33C10>
    └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000235AAE4E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>
    │    └ <function subprocess_started at 0x00000235ACD63EE0>
    └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=488, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000235AAE4E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=488, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000235ACD630D0>
           │       │   └ <uvicorn.server.Server object at 0x00000235AAE4E460>
           │       └ <function run at 0x00000235AC9FC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000235ADEF6340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000235AC9FD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000235AC9FD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000235ACA004C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000235AC96E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000235ADF2DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000235AD692FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000235ADF2DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000235B04B72B0>
          └ <fastapi.applications.FastAPI object at 0x00000235AD692FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000235B04A7F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000235B04B72B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000235B04A7EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000235B04A7F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000235B04B7E20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000235B04A7EB0>
          └ <function wrap_app_handling_exceptions at 0x00000235ADAE4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000235B042EA00>>
          └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000235ADABDD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000235ADA1C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000235B04B7190>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000235ADA1C9D0>
          └ <function wrap_app_handling_exceptions at 0x00000235ADAE4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235B04969D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000235ADA1C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000235B04B7190>
                     └ <function get_request_handler.<locals>.app at 0x00000235ADA1C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000235ADACB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000235B04D3430>}
                 │         └ <function page at 0x00000235B0496EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000235ADA26400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: str(data), total: total}
            │         │      │      └ 5
            │         │      └ 5
            │         └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:00:15.050 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 404
               │     └ 3
               └ <function _main at 0x00000235AAE394C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 404
           │    └ <function BaseProcess._bootstrap at 0x00000235AAD285E0>
           └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000235AAD33C10>
    └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000235AAE4E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>
    │    └ <function subprocess_started at 0x00000235ACD63EE0>
    └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=488, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000235AAE4E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=488, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000235ACD630D0>
           │       │   └ <uvicorn.server.Server object at 0x00000235AAE4E460>
           │       └ <function run at 0x00000235AC9FC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000235ADEF6340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000235AC9FD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000235AC9FD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000235ACA004C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000235AC96E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000235ADF2DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000235AD692FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000235ADF2DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000235B04B72B0>
          └ <fastapi.applications.FastAPI object at 0x00000235AD692FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000235B04A7F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000235B04B72B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000235B04A7EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000235B04A7F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000235B04B7E20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000235B04A7EB0>
          └ <function wrap_app_handling_exceptions at 0x00000235ADAE4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000235B042EA00>>
          └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000235ADABDD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000235ADA1C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000235B04B7190>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000235ADA1C9D0>
          └ <function wrap_app_handling_exceptions at 0x00000235ADAE4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235B04969D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000235ADA1C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000235B04B7190>
                     └ <function get_request_handler.<locals>.app at 0x00000235ADA1C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000235ADACB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000235B04D3430>}
                 │         └ <function page at 0x00000235B0496EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000235ADA26400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: str(data), total: total}
            │         │      │      └ 5
            │         │      └ 5
            │         └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:06.225 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:01:06.227 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:01:06.336 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:01:06.337 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:01:06.337 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:01:06.337 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:01:06.337 | INFO     | uvicorn.server:serve:87 - Finished server process [19464]
2024-03-09 23:01:06.337 | INFO     | uvicorn.server:serve:87 - Finished server process [19464]
2024-03-09 23:01:07.916 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:01:07.916 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:01:07.917 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:01:07.917 | INFO     | uvicorn.server:serve:77 - Started server process [12944]
2024-03-09 23:01:07.918 | INFO     | uvicorn.server:serve:77 - Started server process [12944]
2024-03-09 23:01:07.918 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:01:07.919 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:01:07.919 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:01:07.920 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:01:07.920 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:01:08.044 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59756 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:01:08.048 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x00000204A50594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x00000204A4F385E0>
           └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000204A4F43C10>
    └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000204A506E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>
    │    └ <function subprocess_started at 0x00000204A6F84EE0>
    └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000204A506E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000204A6F840D0>
           │       │   └ <uvicorn.server.Server object at 0x00000204A506E460>
           │       └ <function run at 0x00000204A6C1C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000204A8118340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000204A6C1D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000204A6C1D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000204A6C214C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000204A6B8E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000204A814DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000204A78B2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000204A814DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000204AA6C8A30>
          └ <fastapi.applications.FastAPI object at 0x00000204A78B2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000204AA6C8F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000204AA6C8A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000204AA6C8F70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000204AA6C8F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000204AA6E2B80>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000204AA6C8F70>
          └ <function wrap_app_handling_exceptions at 0x00000204A7D0B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000204AA64EA00>>
          └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000204A7CDBD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000204A7C3C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000204AA6E2DF0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000204A7C3C040>
          └ <function wrap_app_handling_exceptions at 0x00000204A7D0B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000204A7C3C040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000204AA6E2DF0>
                     └ <function get_request_handler.<locals>.app at 0x00000204A7C3C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000204A7CEA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000204AA6F2220>}
                 │         └ <function page at 0x00000204AA6B6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000204A7C49400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:08.093 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x00000204A50594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x00000204A4F385E0>
           └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000204A4F43C10>
    └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000204A506E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>
    │    └ <function subprocess_started at 0x00000204A6F84EE0>
    └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000204A506E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000204A6F840D0>
           │       │   └ <uvicorn.server.Server object at 0x00000204A506E460>
           │       └ <function run at 0x00000204A6C1C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000204A8118340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000204A6C1D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000204A6C1D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000204A6C214C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000204A6B8E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000204A814DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000204A78B2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000204A814DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000204AA6C8A30>
          └ <fastapi.applications.FastAPI object at 0x00000204A78B2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000204AA6C8F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000204AA6C8A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000204AA6C8F70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000204AA6C8F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000204AA6E2B80>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000204AA6C8F70>
          └ <function wrap_app_handling_exceptions at 0x00000204A7D0B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000204AA64EA00>>
          └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000204A7CDBD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000204A7C3C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000204AA6E2DF0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000204A7C3C040>
          └ <function wrap_app_handling_exceptions at 0x00000204A7D0B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000204A7C3C040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000204AA6E2DF0>
                     └ <function get_request_handler.<locals>.app at 0x00000204A7C3C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000204A7CEA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000204AA6F2220>}
                 │         └ <function page at 0x00000204AA6B6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000204A7C49400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:22.321 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:01:22.321 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:01:22.426 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:01:22.427 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:01:22.428 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:01:22.429 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:01:22.430 | INFO     | uvicorn.server:serve:87 - Finished server process [12944]
2024-03-09 23:01:22.431 | INFO     | uvicorn.server:serve:87 - Finished server process [12944]
2024-03-09 23:01:24.103 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:01:24.103 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:01:24.103 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:01:24.103 | INFO     | uvicorn.server:serve:77 - Started server process [20780]
2024-03-09 23:01:24.103 | INFO     | uvicorn.server:serve:77 - Started server process [20780]
2024-03-09 23:01:24.103 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:01:24.103 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:01:24.103 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:01:24.103 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:01:24.103 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:01:24.503 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59762 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:01:24.503 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF1CFD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A4FFF57280>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4FD480940>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD480CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4FD480940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A4FFF57280>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A4FFF57610>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:24.541 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF1CFD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A4FFF57280>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4FD480940>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD480CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4FD480940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A4FFF57280>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A4FFF57610>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:26.181 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59763 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:01:26.181 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF85670>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A4FFF858B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9820>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E98B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A4FFF858B0>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A4FFF85D60>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:26.208 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF85670>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A4FFF858B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9820>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E98B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A4FFF858B0>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A4FFF85D60>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:27.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59764 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:01:27.063 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF6DC70>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A48010F190>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9E50>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A48010F190>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A48010F910>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:27.091 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF6DC70>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A48010F190>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9E50>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A48010F190>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A48010F910>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:02:00.826 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:02:00.827 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:02:00.939 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:02:00.940 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:02:00.940 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:02:00.940 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:02:00.940 | INFO     | uvicorn.server:serve:87 - Finished server process [20780]
2024-03-09 23:02:00.940 | INFO     | uvicorn.server:serve:87 - Finished server process [20780]
2024-03-09 23:02:02.563 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:02:02.564 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:02:02.565 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:02:02.565 | INFO     | uvicorn.server:serve:77 - Started server process [21180]
2024-03-09 23:02:02.566 | INFO     | uvicorn.server:serve:77 - Started server process [21180]
2024-03-09 23:02:02.566 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:02:02.567 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:02:02.567 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:02:02.568 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:02:02.569 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:02:02.675 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59769 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:02:02.677 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000023ABD6E94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000023ABD5C85E0>
           └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000023ABD5D3C10>
    └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000023ABD6FE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>
    │    └ <function subprocess_started at 0x0000023ABF613EE0>
    └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000023ABD6FE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000023ABF6130D0>
           │       │   └ <uvicorn.server.Server object at 0x0000023ABD6FE460>
           │       └ <function run at 0x0000023ABF2AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000023AC07A8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000023ABF2AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000023ABF2AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000023ABF2B04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000023ABF21E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023AC07DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000023ABFF42FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023AC07DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000023AC2D682B0>
          └ <fastapi.applications.FastAPI object at 0x0000023ABFF42FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000023AC2D57EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000023AC2D682B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000023AC2D57FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000023AC2D57EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000023AC2D68DF0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000023AC2D57FA0>
          └ <function wrap_app_handling_exceptions at 0x0000023AC039B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>>
          └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000023AC0373D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000023AC02EC820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000023AC2D68FD0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000023AC02EC9D0>
          └ <function wrap_app_handling_exceptions at 0x0000023AC039B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC2D479D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000023AC02EC9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000023AC2D68FD0>
                     └ <function get_request_handler.<locals>.app at 0x0000023AC02EC790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000023AC03768B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000023AC2D83430>}
                 │         └ <function page at 0x0000023AC2D47EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000023AC02CE400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data, total: total}
            │     │     │      └ 5
            │     │     └ 5
            │     └ {'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': '...
            └ {'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': '...

TypeError: unhashable type: 'dict'
2024-03-09 23:02:02.722 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000023ABD6E94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000023ABD5C85E0>
           └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000023ABD5D3C10>
    └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000023ABD6FE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>
    │    └ <function subprocess_started at 0x0000023ABF613EE0>
    └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000023ABD6FE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000023ABF6130D0>
           │       │   └ <uvicorn.server.Server object at 0x0000023ABD6FE460>
           │       └ <function run at 0x0000023ABF2AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000023AC07A8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000023ABF2AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000023ABF2AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000023ABF2B04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000023ABF21E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023AC07DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000023ABFF42FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023AC07DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000023AC2D682B0>
          └ <fastapi.applications.FastAPI object at 0x0000023ABFF42FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000023AC2D57EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000023AC2D682B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000023AC2D57FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000023AC2D57EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000023AC2D68DF0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000023AC2D57FA0>
          └ <function wrap_app_handling_exceptions at 0x0000023AC039B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>>
          └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000023AC0373D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000023AC02EC820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000023AC2D68FD0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000023AC02EC9D0>
          └ <function wrap_app_handling_exceptions at 0x0000023AC039B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC2D479D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000023AC02EC9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000023AC2D68FD0>
                     └ <function get_request_handler.<locals>.app at 0x0000023AC02EC790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000023AC03768B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000023AC2D83430>}
                 │         └ <function page at 0x0000023AC2D47EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000023AC02CE400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data, total: total}
            │     │     │      └ 5
            │     │     └ 5
            │     └ {'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': '...
            └ {'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': '...

TypeError: unhashable type: 'dict'
2024-03-09 23:02:21.725 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:02:21.725 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:02:21.832 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:02:21.833 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:02:21.833 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:02:21.834 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:02:21.834 | INFO     | uvicorn.server:serve:87 - Finished server process [21180]
2024-03-09 23:02:21.834 | INFO     | uvicorn.server:serve:87 - Finished server process [21180]
2024-03-09 23:02:23.466 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:02:23.467 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:02:23.467 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:02:23.468 | INFO     | uvicorn.server:serve:77 - Started server process [11824]
2024-03-09 23:02:23.468 | INFO     | uvicorn.server:serve:77 - Started server process [11824]
2024-03-09 23:02:23.469 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:02:23.469 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:02:23.470 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:02:23.471 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:02:23.472 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:02:23.558 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59774 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 23:11:33.159 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 23:11:33.161 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 23:11:33.269 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:11:33.269 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:11:33.379 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:11:33.379 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:11:33.380 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:11:33.380 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:11:33.381 | INFO     | uvicorn.server:serve:87 - Finished server process [11824]
2024-03-09 23:11:33.381 | INFO     | uvicorn.server:serve:87 - Finished server process [11824]
2024-03-09 23:11:35.509 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:11:35.509 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:11:35.510 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:11:35.510 | INFO     | uvicorn.server:serve:77 - Started server process [7316]
2024-03-09 23:11:35.511 | INFO     | uvicorn.server:serve:77 - Started server process [7316]
2024-03-09 23:11:35.511 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:11:35.512 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:11:35.512 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:11:35.513 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:11:35.513 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:12:08.554 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:12:08.554 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:12:08.663 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:12:08.664 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:12:08.665 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:12:08.666 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:12:08.667 | INFO     | uvicorn.server:serve:87 - Finished server process [7316]
2024-03-09 23:12:08.668 | INFO     | uvicorn.server:serve:87 - Finished server process [7316]
2024-03-09 23:12:10.305 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:12:10.305 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:12:10.306 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:12:10.307 | INFO     | uvicorn.server:serve:77 - Started server process [9584]
2024-03-09 23:12:10.307 | INFO     | uvicorn.server:serve:77 - Started server process [9584]
2024-03-09 23:12:10.307 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:12:10.308 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:12:10.308 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:12:10.309 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:12:10.310 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:12:11.532 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59870 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:12:11.534 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000296322294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000296321285E0>
           └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000029632133C10>
    └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002963223E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>
    │    └ <function subprocess_started at 0x0000029634153EE0>
    └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002963223E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000296341530D0>
           │       │   └ <uvicorn.server.Server object at 0x000002963223E460>
           │       └ <function run at 0x0000029633DEC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000296352E8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000029633DED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000029633DED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000029633DF14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000029633D5E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002963531FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000029634A82FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002963531FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000296378AC1F0>
          └ <fastapi.applications.FastAPI object at 0x0000029634A82FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000296378AC190>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000296378AC1F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000296378AC1C0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000296378AC190>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000296378ACFD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002963781E700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000296378AC1C0>
          └ <function wrap_app_handling_exceptions at 0x0000029634EFD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002963781E700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002963781E700>>
          └ <fastapi.routing.APIRouter object at 0x000002963781E700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000029634EABD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000029634E0C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000296378E6250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000029634E0C940>
          └ <function wrap_app_handling_exceptions at 0x0000029634EFD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0CCA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000029634E0C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000296378E6250>
                     └ <function get_request_handler.<locals>.app at 0x0000029634E0C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000029634EAA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000296378E65E0>}
                 │         └ <function page at 0x0000029637887EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000029634E123A0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 66, in page
    data, total = await UserCRUD.page_list_users(db)
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000296378E65E0>
                        │        └ <staticmethod object at 0x00000296377E4220>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 84, in page_list_users
    return data.scalars().all(), len(result.scalars().all())
           │                         │      └ <function Result.scalars at 0x0000029637267DC0>
           │                         └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x0000029637921EC0>
           └ <sqlalchemy.sql.selectable.Select object at 0x000002963791F460>

AttributeError: 'Select' object has no attribute 'scalars'
2024-03-09 23:12:11.562 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000296322294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000296321285E0>
           └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000029632133C10>
    └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002963223E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>
    │    └ <function subprocess_started at 0x0000029634153EE0>
    └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002963223E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000296341530D0>
           │       │   └ <uvicorn.server.Server object at 0x000002963223E460>
           │       └ <function run at 0x0000029633DEC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000296352E8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000029633DED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000029633DED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000029633DF14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000029633D5E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002963531FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000029634A82FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002963531FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000296378AC1F0>
          └ <fastapi.applications.FastAPI object at 0x0000029634A82FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000296378AC190>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000296378AC1F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000296378AC1C0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000296378AC190>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000296378ACFD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002963781E700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000296378AC1C0>
          └ <function wrap_app_handling_exceptions at 0x0000029634EFD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002963781E700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002963781E700>>
          └ <fastapi.routing.APIRouter object at 0x000002963781E700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000029634EABD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000029634E0C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000296378E6250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000029634E0C940>
          └ <function wrap_app_handling_exceptions at 0x0000029634EFD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0CCA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000029634E0C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000296378E6250>
                     └ <function get_request_handler.<locals>.app at 0x0000029634E0C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000029634EAA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000296378E65E0>}
                 │         └ <function page at 0x0000029637887EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000029634E123A0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 66, in page
    data, total = await UserCRUD.page_list_users(db)
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000296378E65E0>
                        │        └ <staticmethod object at 0x00000296377E4220>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 84, in page_list_users
    return data.scalars().all(), len(result.scalars().all())
           │                         │      └ <function Result.scalars at 0x0000029637267DC0>
           │                         └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x0000029637921EC0>
           └ <sqlalchemy.sql.selectable.Select object at 0x000002963791F460>

AttributeError: 'Select' object has no attribute 'scalars'
2024-03-09 23:13:46.286 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:13:46.287 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:13:46.394 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:13:46.394 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:13:46.395 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:13:46.396 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:13:46.396 | INFO     | uvicorn.server:serve:87 - Finished server process [9584]
2024-03-09 23:13:46.396 | INFO     | uvicorn.server:serve:87 - Finished server process [9584]
2024-03-09 23:13:47.968 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:13:47.968 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:13:47.969 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:13:47.970 | INFO     | uvicorn.server:serve:77 - Started server process [5532]
2024-03-09 23:13:47.970 | INFO     | uvicorn.server:serve:77 - Started server process [5532]
2024-03-09 23:13:47.971 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:13:47.971 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:13:47.971 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:13:47.972 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:13:47.973 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:13:48.137 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59893 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:13:48.138 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x00000279DC7A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x00000279DC6885E0>
           └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000279DC693C10>
    └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000279DC7BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>
    │    └ <function subprocess_started at 0x00000279DE6D3EE0>
    └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000279DC7BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000279DE6D30D0>
           │       │   └ <uvicorn.server.Server object at 0x00000279DC7BE460>
           │       └ <function run at 0x00000279DE36C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000279DF866340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000279DE36D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000279DE36D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000279DE3714C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000279DE2DE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000279DF89DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000279DF002FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000279DF89DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000279E1E1AE20>
          └ <fastapi.applications.FastAPI object at 0x00000279DF002FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000279E1E1AB20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000279E1E1AE20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000279E1E1AC40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000279E1E1AB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000279E1E36C10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000279E1E1AC40>
          └ <function wrap_app_handling_exceptions at 0x00000279DF454790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000279E1D9D700>>
          └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000279DF42DD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000279DF3AC5E0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000279E1E36E80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000279E1E07C10>
          └ <function wrap_app_handling_exceptions at 0x00000279DF454790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279E1E07B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000279E1E07C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000279E1E36E80>
                     └ <function get_request_handler.<locals>.app at 0x00000279DF3AC550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000279DF43B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000279E1E66250>}
                 │         └ <function page at 0x00000279E1E073A0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000279DF398220>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00000279E1EA15B0>, <app.models.user.U...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
    │           │    └ <function JSONResponse.render at 0x00000279DF54E820>
    │           └ <app.utils.responses.SuccessExtra object at 0x00000279E165F0D0>
    └ <app.utils.responses.SuccessExtra object at 0x00000279E165F0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x00000279DE432DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
             │    └ <function JSONEncoder.iterencode at 0x00000279DE432D30>
             └ <json.encoder.JSONEncoder object at 0x00000279E1E667F0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
           └ <_json.Encoder object at 0x00000279E1E9F160>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 23:13:48.185 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x00000279DC7A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x00000279DC6885E0>
           └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000279DC693C10>
    └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000279DC7BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>
    │    └ <function subprocess_started at 0x00000279DE6D3EE0>
    └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000279DC7BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000279DE6D30D0>
           │       │   └ <uvicorn.server.Server object at 0x00000279DC7BE460>
           │       └ <function run at 0x00000279DE36C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000279DF866340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000279DE36D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000279DE36D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000279DE3714C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000279DE2DE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000279DF89DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000279DF002FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000279DF89DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000279E1E1AE20>
          └ <fastapi.applications.FastAPI object at 0x00000279DF002FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000279E1E1AB20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000279E1E1AE20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000279E1E1AC40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000279E1E1AB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000279E1E36C10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000279E1E1AC40>
          └ <function wrap_app_handling_exceptions at 0x00000279DF454790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000279E1D9D700>>
          └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000279DF42DD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000279DF3AC5E0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000279E1E36E80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000279E1E07C10>
          └ <function wrap_app_handling_exceptions at 0x00000279DF454790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279E1E07B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000279E1E07C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000279E1E36E80>
                     └ <function get_request_handler.<locals>.app at 0x00000279DF3AC550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000279DF43B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000279E1E66250>}
                 │         └ <function page at 0x00000279E1E073A0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000279DF398220>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00000279E1EA15B0>, <app.models.user.U...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
    │           │    └ <function JSONResponse.render at 0x00000279DF54E820>
    │           └ <app.utils.responses.SuccessExtra object at 0x00000279E165F0D0>
    └ <app.utils.responses.SuccessExtra object at 0x00000279E165F0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x00000279DE432DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
             │    └ <function JSONEncoder.iterencode at 0x00000279DE432D30>
             └ <json.encoder.JSONEncoder object at 0x00000279E1E667F0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
           └ <_json.Encoder object at 0x00000279E1E9F160>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 23:14:09.844 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:14:09.845 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:14:09.954 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:14:09.954 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:14:09.955 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:14:09.955 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:14:09.956 | INFO     | uvicorn.server:serve:87 - Finished server process [5532]
2024-03-09 23:14:09.956 | INFO     | uvicorn.server:serve:87 - Finished server process [5532]
2024-03-09 23:14:11.916 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:14:11.917 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:14:11.917 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:14:11.918 | INFO     | uvicorn.server:serve:77 - Started server process [7536]
2024-03-09 23:14:11.918 | INFO     | uvicorn.server:serve:77 - Started server process [7536]
2024-03-09 23:14:11.919 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:14:11.919 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:14:11.920 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:14:11.921 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:14:11.921 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:14:13.347 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59905 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 23:16:12.821 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:16:12.825 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:16:12.938 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:16:12.939 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:16:12.939 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:16:12.939 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:16:12.939 | INFO     | uvicorn.server:serve:87 - Finished server process [7536]
2024-03-09 23:16:12.939 | INFO     | uvicorn.server:serve:87 - Finished server process [7536]
2024-03-09 23:16:14.823 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:16:14.823 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:16:14.823 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:16:14.823 | INFO     | uvicorn.server:serve:77 - Started server process [6696]
2024-03-09 23:16:14.823 | INFO     | uvicorn.server:serve:77 - Started server process [6696]
2024-03-09 23:16:14.823 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:16:14.823 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:16:14.823 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:16:14.823 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:16:14.823 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:16:17.047 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59927 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 23:16:20.418 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59927 - "GET /docs HTTP/1.1" 200
2024-03-09 23:16:20.579 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59927 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 23:16:33.351 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59928 - "GET /api/v1/users/page?pageNum=1&pageSize=2 HTTP/1.1" 200
2024-03-09 23:17:39.833 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:17:39.833 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:17:39.945 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:17:39.945 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:17:39.945 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:17:39.945 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:17:39.945 | INFO     | uvicorn.server:serve:87 - Finished server process [6696]
2024-03-09 23:17:39.945 | INFO     | uvicorn.server:serve:87 - Finished server process [6696]
2024-03-09 23:17:41.377 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:17:41.377 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:17:41.377 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:17:41.377 | INFO     | uvicorn.server:serve:77 - Started server process [10932]
2024-03-09 23:17:41.377 | INFO     | uvicorn.server:serve:77 - Started server process [10932]
2024-03-09 23:17:41.377 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:17:41.377 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:17:41.377 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:17:41.377 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:17:41.377 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:17:43.486 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59941 - "GET /api/v1/users/page?pageNum=1&pageSize=2 HTTP/1.1" 200
2024-03-09 23:17:52.243 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59942 - "GET /api/v1/users/page?pageNum=0&pageSize=2 HTTP/1.1" 500
2024-03-09 23:17:52.243 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001DCA1AC8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001DCA1B07790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (0, -2, 2)
    │      │       └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001DCA1F39B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (0, -2, 2)
           │    │      │    │              └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA1F39CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>
           └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (0, -2, 2)
                   │    │               └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Cursor._query at 0x000001DCA1FD7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001DCA2...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Connection.query at 0x000001DCA1FE30D0>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001DCA1FE3820>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001DCA1FE4430>
          └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001DCA1FB4790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>
    │   └ <function raise_mysql_exception at 0x000001DCA1F621F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to...
          │          └ 1064
          └ <class 'pymysql.err.ProgrammingError'>

pymysql.err.ProgrammingError: (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-2, 2' at line 4")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000001DC9CA294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000001DC9C8185E0>
           └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DC9C823C10>
    └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DC9CA3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DC9E953EE0>
    └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=752, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DC9CA3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=752, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DC9E9530D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DC9CA3E460>
           │       └ <function run at 0x000001DC9E5EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DC9FAE8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DC9E5ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DC9E5ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DC9E5F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DC9E55E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC9FB1DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DC9F282FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC9FB1DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC9F621E80>
          └ <fastapi.applications.FastAPI object at 0x000001DC9F282FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DC9F6218E0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC9F621E80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC9F621F40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DC9F6218E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DCA20D8220>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC9F621F40>
          └ <function wrap_app_handling_exceptions at 0x000001DC9F6D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DCA202D700>>
          └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DC9F6ADD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DC9F62C8B0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DCA20D85B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DC9F62C940>
          └ <function wrap_app_handling_exceptions at 0x000001DC9F6D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DC9F62C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DCA20D85B0>
                     └ <function get_request_handler.<locals>.app at 0x000001DC9F62C820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DC9F6BB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>, 'pageNum': 0, 'pageSize': 2}
                 │         └ <function page at 0x000001DCA2096EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DC9F618220>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 67, in page
    data, total = await UserCRUD.page_list_users(db, pageNum, pageSize)
                        │        │               │   │        └ 2
                        │        │               │   └ 0
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>
                        │        └ <staticmethod object at 0x000001DCA1FDCF70>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 81, in page_list_users
    data = await async_session.execute(select(User).where(*search).offset((pageNum - 1) * pageSize).limit(pageSize))
                 │             │       │      │            │               │              │               └ 2
                 │             │       │      │            │               │              └ 2
                 │             │       │      │            │               └ 0
                 │             │       │      │            └ [<sqlalchemy.sql.elements.BinaryExpression object at 0x000001DCA20D8C40>]
                 │             │       │      └ <class 'app.models.user.User'>
                 │             │       └ <function select at 0x000001DCA19985E0>
                 │             └ <function AsyncSession.execute at 0x000001DCA1EB3160>
                 └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x000001DCA0542CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x000001DCA1DD8700>
           └ <sqlalchemy.orm.session.Session object at 0x000001DCA20D8970>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x000001DCA1C5E370>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x000001DCA1A04940>
             └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000001DCA2128E20>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000001DCA1A04C10>
           └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000001DCA1A04DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000001DCA1A04E50>
           └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000001DCA1A070D0>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ ProgrammingError(1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version ...
          │                    │              └ (<class 'pymysql.err.ProgrammingError'>, ProgrammingError(1064, "You have an error in your SQL syntax; check the manual that ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that correspo...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001DCA1AC8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001DCA1B07790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (0, -2, 2)
    │      │       └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001DCA1F39B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (0, -2, 2)
           │    │      │    │              └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA1F39CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>
           └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (0, -2, 2)
                   │    │               └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Cursor._query at 0x000001DCA1FD7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001DCA2...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Connection.query at 0x000001DCA1FE30D0>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001DCA1FE3820>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001DCA1FE4430>
          └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001DCA1FB4790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>
    │   └ <function raise_mysql_exception at 0x000001DCA1F621F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to...
          │          └ 1064
          └ <class 'pymysql.err.ProgrammingError'>

sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-2, 2' at line 4")
[SQL: SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, brisk_users.phone, brisk_users.created_at, brisk_users.updated_at, brisk_users.deleted_at, brisk_users.update_user, brisk_users.last_login_at, brisk_users.avatar, brisk_users.is_valid 
FROM brisk_users 
WHERE brisk_users.deleted_at = %s 
 LIMIT %s, %s]
[parameters: (0, -2, 2)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-03-09 23:17:52.539 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001DCA1AC8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001DCA1B07790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (0, -2, 2)
    │      │       └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001DCA1F39B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (0, -2, 2)
           │    │      │    │              └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA1F39CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>
           └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (0, -2, 2)
                   │    │               └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Cursor._query at 0x000001DCA1FD7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001DCA2...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Connection.query at 0x000001DCA1FE30D0>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001DCA1FE3820>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001DCA1FE4430>
          └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001DCA1FB4790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>
    │   └ <function raise_mysql_exception at 0x000001DCA1F621F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to...
          │          └ 1064
          └ <class 'pymysql.err.ProgrammingError'>

pymysql.err.ProgrammingError: (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-2, 2' at line 4")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000001DC9CA294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000001DC9C8185E0>
           └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DC9C823C10>
    └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DC9CA3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DC9E953EE0>
    └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=752, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DC9CA3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=752, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DC9E9530D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DC9CA3E460>
           │       └ <function run at 0x000001DC9E5EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DC9FAE8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DC9E5ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DC9E5ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DC9E5F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DC9E55E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC9FB1DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DC9F282FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC9FB1DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC9F621E80>
          └ <fastapi.applications.FastAPI object at 0x000001DC9F282FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DC9F6218E0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC9F621E80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC9F621F40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DC9F6218E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DCA20D8220>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC9F621F40>
          └ <function wrap_app_handling_exceptions at 0x000001DC9F6D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DCA202D700>>
          └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DC9F6ADD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DC9F62C8B0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DCA20D85B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DC9F62C940>
          └ <function wrap_app_handling_exceptions at 0x000001DC9F6D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DC9F62C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DCA20D85B0>
                     └ <function get_request_handler.<locals>.app at 0x000001DC9F62C820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DC9F6BB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>, 'pageNum': 0, 'pageSize': 2}
                 │         └ <function page at 0x000001DCA2096EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DC9F618220>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 67, in page
    data, total = await UserCRUD.page_list_users(db, pageNum, pageSize)
                        │        │               │   │        └ 2
                        │        │               │   └ 0
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>
                        │        └ <staticmethod object at 0x000001DCA1FDCF70>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 81, in page_list_users
    data = await async_session.execute(select(User).where(*search).offset((pageNum - 1) * pageSize).limit(pageSize))
                 │             │       │      │            │               │              │               └ 2
                 │             │       │      │            │               │              └ 2
                 │             │       │      │            │               └ 0
                 │             │       │      │            └ [<sqlalchemy.sql.elements.BinaryExpression object at 0x000001DCA20D8C40>]
                 │             │       │      └ <class 'app.models.user.User'>
                 │             │       └ <function select at 0x000001DCA19985E0>
                 │             └ <function AsyncSession.execute at 0x000001DCA1EB3160>
                 └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x000001DCA0542CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x000001DCA1DD8700>
           └ <sqlalchemy.orm.session.Session object at 0x000001DCA20D8970>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x000001DCA1C5E370>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x000001DCA1A04940>
             └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000001DCA2128E20>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000001DCA1A04C10>
           └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000001DCA1A04DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000001DCA1A04E50>
           └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000001DCA1A070D0>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ ProgrammingError(1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version ...
          │                    │              └ (<class 'pymysql.err.ProgrammingError'>, ProgrammingError(1064, "You have an error in your SQL syntax; check the manual that ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that correspo...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001DCA1AC8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001DCA1B07790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (0, -2, 2)
    │      │       └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001DCA1F39B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (0, -2, 2)
           │    │      │    │              └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA1F39CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>
           └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (0, -2, 2)
                   │    │               └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Cursor._query at 0x000001DCA1FD7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001DCA2...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Connection.query at 0x000001DCA1FE30D0>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001DCA1FE3820>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001DCA1FE4430>
          └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001DCA1FB4790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>
    │   └ <function raise_mysql_exception at 0x000001DCA1F621F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to...
          │          └ 1064
          └ <class 'pymysql.err.ProgrammingError'>

sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-2, 2' at line 4")
[SQL: SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, brisk_users.phone, brisk_users.created_at, brisk_users.updated_at, brisk_users.deleted_at, brisk_users.update_user, brisk_users.last_login_at, brisk_users.avatar, brisk_users.is_valid 
FROM brisk_users 
WHERE brisk_users.deleted_at = %s 
 LIMIT %s, %s]
[parameters: (0, -2, 2)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-03-09 23:31:36.991 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:31:36.992 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:31:37.101 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:31:37.101 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:31:37.102 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:31:37.102 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:31:37.103 | INFO     | uvicorn.server:serve:87 - Finished server process [10932]
2024-03-09 23:31:37.103 | INFO     | uvicorn.server:serve:87 - Finished server process [10932]
2024-03-09 23:31:42.667 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:31:42.668 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:31:42.669 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:31:42.669 | INFO     | uvicorn.server:serve:77 - Started server process [10280]
2024-03-09 23:31:42.670 | INFO     | uvicorn.server:serve:77 - Started server process [10280]
2024-03-09 23:31:42.670 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:31:42.671 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:31:42.672 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:31:42.673 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:31:42.673 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:31:46.655 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60015 - "GET /docs HTTP/1.1" 200
2024-03-09 23:31:46.913 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60015 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-09 23:31:46.914 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60016 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-09 23:31:47.030 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60016 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 23:34:09.451 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:34:09.453 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:34:09.557 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:34:09.558 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:34:09.558 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:34:09.559 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:34:09.559 | INFO     | uvicorn.server:serve:87 - Finished server process [10280]
2024-03-09 23:34:09.560 | INFO     | uvicorn.server:serve:87 - Finished server process [10280]
2024-03-09 23:34:59.355 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:34:59.356 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:34:59.356 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:34:59.357 | INFO     | uvicorn.server:serve:77 - Started server process [17544]
2024-03-09 23:34:59.358 | INFO     | uvicorn.server:serve:77 - Started server process [17544]
2024-03-09 23:34:59.359 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:34:59.359 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:34:59.360 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:34:59.361 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:34:59.361 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:35:15.399 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60046 - "GET /docs HTTP/1.1" 200
2024-03-09 23:35:15.726 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60046 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 23:36:45.346 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:36:45.348 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:36:45.453 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:36:45.454 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:36:45.455 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:36:45.455 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:36:45.456 | INFO     | uvicorn.server:serve:87 - Finished server process [17544]
2024-03-09 23:36:45.456 | INFO     | uvicorn.server:serve:87 - Finished server process [17544]
2024-03-09 23:36:47.916 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:36:47.917 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:36:47.917 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:36:47.918 | INFO     | uvicorn.server:serve:77 - Started server process [21124]
2024-03-09 23:36:47.918 | INFO     | uvicorn.server:serve:77 - Started server process [21124]
2024-03-09 23:36:47.919 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:36:47.919 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:36:47.920 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:36:47.921 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:36:47.921 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:36:47.923 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60055 - "GET /docs HTTP/1.1" 200
2024-03-09 23:36:48.108 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60055 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 23:36:57.372 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60056 - "GET /api/v1/users/page?pageNum=0&pageSize=0 HTTP/1.1" 500
2024-03-09 23:36:57.376 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000021D2DB194C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000021D2D9185E0>
           └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000021D2D923C10>
    └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000021D2DB2E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>
    │    └ <function subprocess_started at 0x0000021D2FA43EE0>
    └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=520, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000021D2DB2E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=520, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000021D2FA430D0>
           │       │   └ <uvicorn.server.Server object at 0x0000021D2DB2E460>
           │       └ <function run at 0x0000021D2F6DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000021D30BD8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000021D2F6DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000021D2F6DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021D2F6E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021D2F64E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021D30C0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000021D30372FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021D30C0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021D33195610>
          └ <fastapi.applications.FastAPI object at 0x0000021D30372FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021D3070BB20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021D33195610>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021D3070BA60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021D3070BB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000021D331B7940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021D33128040>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021D3070BA60>
          └ <function wrap_app_handling_exceptions at 0x0000021D307CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000021D33128040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021D33128040>>
          └ <fastapi.routing.APIRouter object at 0x0000021D33128040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000021D307A5D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000021D307140D0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000021D331B79D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021D30700CA0>
          └ <function wrap_app_handling_exceptions at 0x0000021D307CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D30700B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000021D30700CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000021D331B79D0>
                     └ <function get_request_handler.<locals>.app at 0x0000021D30714040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000021D307A68B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000021D331B7A30>, 'pageNum': 0, 'pageSize': 0}
                 │         └ <function page at 0x0000021D305741F0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000021D30712130>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 64, in page
    data, total = await UserCRUD.page_list_users(db, pageNum, pageSize)
                        │        │               │   │        └ 0
                        │        │               │   └ 0
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000021D331B7A30>
                        │        └ <staticmethod object at 0x0000021D330D21F0>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 77, in page_list_users
    raise ValueError("输入数值必须大于0")

ValueError: 输入数值必须大于0
2024-03-09 23:36:57.511 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000021D2DB194C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000021D2D9185E0>
           └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000021D2D923C10>
    └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000021D2DB2E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>
    │    └ <function subprocess_started at 0x0000021D2FA43EE0>
    └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=520, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000021D2DB2E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=520, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000021D2FA430D0>
           │       │   └ <uvicorn.server.Server object at 0x0000021D2DB2E460>
           │       └ <function run at 0x0000021D2F6DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000021D30BD8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000021D2F6DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000021D2F6DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021D2F6E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021D2F64E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021D30C0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000021D30372FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021D30C0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021D33195610>
          └ <fastapi.applications.FastAPI object at 0x0000021D30372FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021D3070BB20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021D33195610>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021D3070BA60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021D3070BB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000021D331B7940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021D33128040>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021D3070BA60>
          └ <function wrap_app_handling_exceptions at 0x0000021D307CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000021D33128040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021D33128040>>
          └ <fastapi.routing.APIRouter object at 0x0000021D33128040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000021D307A5D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000021D307140D0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000021D331B79D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021D30700CA0>
          └ <function wrap_app_handling_exceptions at 0x0000021D307CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D30700B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000021D30700CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000021D331B79D0>
                     └ <function get_request_handler.<locals>.app at 0x0000021D30714040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000021D307A68B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000021D331B7A30>, 'pageNum': 0, 'pageSize': 0}
                 │         └ <function page at 0x0000021D305741F0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000021D30712130>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 64, in page
    data, total = await UserCRUD.page_list_users(db, pageNum, pageSize)
                        │        │               │   │        └ 0
                        │        │               │   └ 0
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000021D331B7A30>
                        │        └ <staticmethod object at 0x0000021D330D21F0>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 77, in page_list_users
    raise ValueError("输入数值必须大于0")

ValueError: 输入数值必须大于0
2024-03-09 23:37:25.970 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:37:25.972 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:37:26.079 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:37:26.079 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:37:26.080 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:37:26.080 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:37:26.080 | INFO     | uvicorn.server:serve:87 - Finished server process [21124]
2024-03-09 23:37:26.081 | INFO     | uvicorn.server:serve:87 - Finished server process [21124]
2024-03-09 23:37:28.073 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:37:28.074 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:37:28.075 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:37:28.075 | INFO     | uvicorn.server:serve:77 - Started server process [3744]
2024-03-09 23:37:28.076 | INFO     | uvicorn.server:serve:77 - Started server process [3744]
2024-03-09 23:37:28.076 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:37:28.076 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:37:28.077 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:37:28.078 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:37:28.079 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:37:28.179 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60065 - "GET /api/v1/users/page?pageNum=0&pageSize=0 HTTP/1.1" 400
2024-03-09 23:37:31.818 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60065 - "GET /api/v1/users/page?pageNum=0&pageSize=0 HTTP/1.1" 400
2024-03-09 23:37:35.870 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60065 - "GET /api/v1/users/page?pageNum=1&pageSize=0 HTTP/1.1" 400
2024-03-09 23:37:37.688 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60065 - "GET /api/v1/users/page?pageNum=1&pageSize=2 HTTP/1.1" 200
2024-03-09 23:37:41.121 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60065 - "GET /api/v1/users/page?pageNum=1&pageSize=1 HTTP/1.1" 200
2024-03-09 23:37:44.104 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60065 - "GET /api/v1/users/page?pageNum=1&pageSize=5 HTTP/1.1" 200
2024-03-09 23:40:11.244 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:40:11.245 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:40:11.355 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:40:11.357 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:40:11.358 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:40:11.360 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:40:11.361 | INFO     | uvicorn.server:serve:87 - Finished server process [3744]
2024-03-09 23:40:11.362 | INFO     | uvicorn.server:serve:87 - Finished server process [3744]
2024-03-09 23:40:13.627 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:40:13.627 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:40:13.628 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:40:13.629 | INFO     | uvicorn.server:serve:77 - Started server process [18372]
2024-03-09 23:40:13.629 | INFO     | uvicorn.server:serve:77 - Started server process [18372]
2024-03-09 23:40:13.630 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:40:13.630 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:40:13.631 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:40:13.632 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:40:13.632 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:40:15.756 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60090 - "GET /docs HTTP/1.1" 200
2024-03-09 23:40:15.921 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60090 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 23:40:44.447 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:40:44.448 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:40:44.559 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:40:44.559 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:40:44.559 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:40:44.563 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:40:44.563 | INFO     | uvicorn.server:serve:87 - Finished server process [18372]
2024-03-09 23:40:44.563 | INFO     | uvicorn.server:serve:87 - Finished server process [18372]
2024-03-09 23:40:46.735 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:40:46.735 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:40:46.735 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:40:46.735 | INFO     | uvicorn.server:serve:77 - Started server process [8216]
2024-03-09 23:40:46.747 | INFO     | uvicorn.server:serve:77 - Started server process [8216]
2024-03-09 23:40:46.748 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:40:46.749 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:40:46.749 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:40:46.749 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:40:46.749 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:40:51.342 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60117 - "GET /docs HTTP/1.1" 200
2024-03-09 23:40:51.486 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60117 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 23:40:55.975 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60117 - "GET /api/v1/users/page?pageNum=1&pageSize=1 HTTP/1.1" 200
2024-03-09 23:41:25.050 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60118 - "GET /api/v1/users/page?pageNum=1&pageSize=1&keywords=xiao HTTP/1.1" 200
2024-03-09 23:41:32.171 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 23:41:32.171 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 23:41:35.076 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60122 - "GET /api/v1/users/page?pageNum=1&pageSize=1&keywords=%E5%91%98%E5%B7%A5 HTTP/1.1" 200
2024-03-09 23:41:39.878 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60122 - "GET /api/v1/users/page?pageNum=1&pageSize=1&keywords=%E5%91%98%E5%B7%A51 HTTP/1.1" 200
2024-03-09 23:41:42.456 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60122 - "GET /api/v1/users/page?pageNum=1&pageSize=1&keywords=%E5%91%98 HTTP/1.1" 200
2024-03-09 23:43:33.342 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:43:33.343 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:43:33.451 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:43:33.452 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:43:33.453 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:43:33.453 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:43:33.454 | INFO     | uvicorn.server:serve:87 - Finished server process [8216]
2024-03-09 23:43:33.454 | INFO     | uvicorn.server:serve:87 - Finished server process [8216]
2024-03-09 23:43:35.012 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:43:35.013 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:43:35.013 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:43:35.013 | INFO     | uvicorn.server:serve:77 - Started server process [15196]
2024-03-09 23:43:35.015 | INFO     | uvicorn.server:serve:77 - Started server process [15196]
2024-03-09 23:43:35.015 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:43:35.016 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:43:35.016 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:43:35.017 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:43:35.018 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:48:28.744 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:48:28.745 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:48:28.853 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:48:28.853 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:48:28.853 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:48:28.854 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:48:28.855 | INFO     | uvicorn.server:serve:87 - Finished server process [15196]
2024-03-09 23:48:28.855 | INFO     | uvicorn.server:serve:87 - Finished server process [15196]
2024-03-09 23:48:31.095 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:48:31.096 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:48:31.097 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:48:31.097 | INFO     | uvicorn.server:serve:77 - Started server process [16324]
2024-03-09 23:48:31.098 | INFO     | uvicorn.server:serve:77 - Started server process [16324]
2024-03-09 23:48:31.100 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:48:31.100 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:48:31.101 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:48:31.102 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:48:31.103 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:04:35.225 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60260 - "GET /docs HTTP/1.1" 200
2024-03-10 00:04:35.334 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:04:35.335 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:04:35.445 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:04:35.447 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:04:35.449 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:04:35.452 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:04:35.454 | INFO     | uvicorn.server:serve:87 - Finished server process [16324]
2024-03-10 00:04:35.457 | INFO     | uvicorn.server:serve:87 - Finished server process [16324]
2024-03-10 00:04:37.931 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:04:37.931 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:04:37.932 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:04:37.933 | INFO     | uvicorn.server:serve:77 - Started server process [9748]
2024-03-10 00:04:37.933 | INFO     | uvicorn.server:serve:77 - Started server process [9748]
2024-03-10 00:04:37.934 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:04:37.934 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:04:37.935 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:04:37.936 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:04:37.936 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:04:37.943 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60263 - "GET /openapi.json HTTP/1.1" 200
2024-03-10 00:04:41.008 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60263 - "GET /docs HTTP/1.1" 200
2024-03-10 00:04:41.149 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60263 - "GET /openapi.json HTTP/1.1" 200
2024-03-10 00:05:01.096 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60270 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-10 00:05:23.259 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60275 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:05:23.261 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED2F949D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '149', 'sec-ch-ua': '"Chromium";v="122", "Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED2F949D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED6166C10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED6155040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6131820>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED61319D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6131820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED6155040>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6155940>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6155940>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='string', name='string', username='string', phone='string', role=0, email='user@example.com', is_valid=True)
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:05:23.304 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED2F949D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '149', 'sec-ch-ua': '"Chromium";v="122", "Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED2F949D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED6166C10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED6155040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6131820>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED61319D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6131820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED6155040>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6155940>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6155940>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='string', name='string', username='string', phone='string', role=0, email='user@example.com', is_valid=True)
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:06:56.926 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60282 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:06:56.927 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '179', 'sec-ch-ua': '"Chromium";v="122", "Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478040>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED61E6B20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED61E6970>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED64781F0>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478280>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED64781F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED61E6970>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED61E6FD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED61E6FD0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username='string', phone='string', role=0, email='us...
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:06:56.948 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '179', 'sec-ch-ua': '"Chromium";v="122", "Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478040>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED61E6B20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED61E6970>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED64781F0>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478280>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED64781F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED61E6970>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED61E6FD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED61E6FD0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username='string', phone='string', role=0, email='us...
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:07:59.496 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60300 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:07:59.496 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478790>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED6490280>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED64903D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6478940>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64788B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6478940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED64903D0>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6490A00>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6490A00>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:07:59.518 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478790>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED6490280>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED64903D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6478940>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64788B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6478940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED64903D0>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6490A00>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6490A00>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:09:34.034 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:09:34.034 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:09:34.144 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:09:34.144 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:09:34.145 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:09:34.146 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:09:34.147 | INFO     | uvicorn.server:serve:87 - Finished server process [9748]
2024-03-10 00:09:34.147 | INFO     | uvicorn.server:serve:87 - Finished server process [9748]
2024-03-10 00:09:35.597 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:09:35.598 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:09:35.598 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:09:35.599 | INFO     | uvicorn.server:serve:77 - Started server process [18856]
2024-03-10 00:09:35.600 | INFO     | uvicorn.server:serve:77 - Started server process [18856]
2024-03-10 00:09:35.600 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:09:35.601 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:09:35.601 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:09:35.602 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:09:35.603 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:09:38.659 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60310 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:09:38.660 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF47C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF47C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61BF85850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61BF85AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF5A670>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF5A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61BF85AC0>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61BF85E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61BF85E80>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:09:38.694 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF47C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF47C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61BF85850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61BF85AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF5A670>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF5A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61BF85AC0>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61BF85E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61BF85E80>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:10:42.092 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60319 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:10:42.093 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF5AA60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF5AA60>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61BFD9940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61BFD9C10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF47F70>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF47EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF47F70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61BFD9C10>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E6194C2A60>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E6194C2A60>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:10:42.115 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF5AA60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF5AA60>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61BFD9940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61BFD9C10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF47F70>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF47EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF47F70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61BFD9C10>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E6194C2A60>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E6194C2A60>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:10:43.658 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60320 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:10:43.659 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61C134DC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61C134DC0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61C15D160>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61C15D280>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61C134E50>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61C134E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61C15D280>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61C15D8E0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61C15D8E0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:10:43.695 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61C134DC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61C134DC0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61C15D160>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61C15D280>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61C134E50>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61C134E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61C15D280>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61C15D8E0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61C15D8E0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:11:31.194 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 00:11:31.194 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 00:11:58.322 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:11:58.322 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:11:58.432 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:11:58.432 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:11:58.435 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:11:58.436 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:11:58.437 | INFO     | uvicorn.server:serve:87 - Finished server process [18856]
2024-03-10 00:11:58.439 | INFO     | uvicorn.server:serve:87 - Finished server process [18856]
2024-03-10 00:11:59.887 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:11:59.888 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:11:59.888 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:11:59.889 | INFO     | uvicorn.server:serve:77 - Started server process [12752]
2024-03-10 00:11:59.889 | INFO     | uvicorn.server:serve:77 - Started server process [12752]
2024-03-10 00:11:59.890 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:11:59.890 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:11:59.891 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:11:59.892 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:11:59.892 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:12:01.649 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60331 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:12:01.651 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001C6C25794C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001C6C24585E0>
           └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C6C2463C10>
    └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C6C258E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>
    │    └ <function subprocess_started at 0x000001C6C44A3EE0>
    └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=676, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C6C258E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=676, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C6C44A30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C6C258E460>
           │       └ <function run at 0x000001C6C413C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C6C5638340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C6C413D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C6C413D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C6C41404C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C6C40AE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C6C566FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C6C4DD2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C6C566FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C6C7C0DAC0>
          └ <fastapi.applications.FastAPI object at 0x000001C6C4DD2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C6C7BF6EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C6C7C0DAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C6C7BF6EE0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001C6C548BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C6C7C0D850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C6C7C2E9A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C6C7C0D850>
          └ <function wrap_app_handling_exceptions at 0x000001C6C5224790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>>
          └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C6C51FDD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C6C7BF6430>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C6C7C2EC10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C6C7C08A60>
          └ <function wrap_app_handling_exceptions at 0x000001C6C5224790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C6C7C08A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C6C7C2EC10>
                     └ <function get_request_handler.<locals>.app at 0x000001C6C7BF63A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001C6C520B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C6C7C2EFD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001C6C7BDA4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001C6C5172BB0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C6C7C2EFD0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001C6C7B9A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:12:01.684 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001C6C25794C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001C6C24585E0>
           └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C6C2463C10>
    └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C6C258E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>
    │    └ <function subprocess_started at 0x000001C6C44A3EE0>
    └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=676, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C6C258E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=676, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C6C44A30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C6C258E460>
           │       └ <function run at 0x000001C6C413C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C6C5638340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C6C413D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C6C413D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C6C41404C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C6C40AE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C6C566FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C6C4DD2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C6C566FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C6C7C0DAC0>
          └ <fastapi.applications.FastAPI object at 0x000001C6C4DD2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C6C7BF6EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C6C7C0DAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C6C7BF6EE0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001C6C548BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C6C7C0D850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C6C7C2E9A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C6C7C0D850>
          └ <function wrap_app_handling_exceptions at 0x000001C6C5224790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>>
          └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C6C51FDD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C6C7BF6430>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C6C7C2EC10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C6C7C08A60>
          └ <function wrap_app_handling_exceptions at 0x000001C6C5224790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C6C7C08A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C6C7C2EC10>
                     └ <function get_request_handler.<locals>.app at 0x000001C6C7BF63A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001C6C520B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C6C7C2EFD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001C6C7BDA4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001C6C5172BB0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C6C7C2EFD0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001C6C7B9A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:13:15.985 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:13:15.985 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:13:16.092 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:13:16.093 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:13:16.094 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:13:16.095 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:13:16.095 | INFO     | uvicorn.server:serve:87 - Finished server process [12752]
2024-03-10 00:13:16.096 | INFO     | uvicorn.server:serve:87 - Finished server process [12752]
2024-03-10 00:13:17.556 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:13:17.557 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:13:17.557 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:13:17.558 | INFO     | uvicorn.server:serve:77 - Started server process [4072]
2024-03-10 00:13:17.559 | INFO     | uvicorn.server:serve:77 - Started server process [4072]
2024-03-10 00:13:17.560 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:13:17.560 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:13:17.561 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:13:17.562 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:13:17.562 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:13:19.720 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60360 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:13:19.721 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x00000186614794C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x00000186613785E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000018661383C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001866148E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>
    │    └ <function subprocess_started at 0x0000018663393EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001866148E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000186633930D0>
           │       │   └ <uvicorn.server.Server object at 0x000001866148E460>
           │       └ <function run at 0x000001866302C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000018664528340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001866302D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001866302D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000186630304C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000018662F9E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001866455DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000018663CC2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001866455DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018666AEDAC0>
          └ <fastapi.applications.FastAPI object at 0x0000018663CC2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018666AD6EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018666AEDAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018666AD6EE0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001866437BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018666AED850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000018666B0E9A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018666AED850>
          └ <function wrap_app_handling_exceptions at 0x0000018664129790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000018666AA7F40>>
          └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000186640F0D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000018666AD6430>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000018666B0EC10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000018666AE8A60>
          └ <function wrap_app_handling_exceptions at 0x0000018664129790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000018666AE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000018666B0EC10>
                     └ <function get_request_handler.<locals>.app at 0x0000018666AD63A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000186640EC8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018666B0EFD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000018666ABA4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000018664054BB0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018666B0EFD0>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000018666A7A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 94, in update_user
    if "updated_at" in update_data.keys():
                       └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pydantic\main.py", line 767, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')

AttributeError: 'UserUpdateForm' object has no attribute 'keys'
2024-03-10 00:13:19.765 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x00000186614794C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x00000186613785E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000018661383C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001866148E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>
    │    └ <function subprocess_started at 0x0000018663393EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001866148E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000186633930D0>
           │       │   └ <uvicorn.server.Server object at 0x000001866148E460>
           │       └ <function run at 0x000001866302C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000018664528340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001866302D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001866302D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000186630304C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000018662F9E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001866455DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000018663CC2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001866455DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018666AEDAC0>
          └ <fastapi.applications.FastAPI object at 0x0000018663CC2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018666AD6EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018666AEDAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018666AD6EE0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001866437BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018666AED850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000018666B0E9A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018666AED850>
          └ <function wrap_app_handling_exceptions at 0x0000018664129790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000018666AA7F40>>
          └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000186640F0D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000018666AD6430>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000018666B0EC10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000018666AE8A60>
          └ <function wrap_app_handling_exceptions at 0x0000018664129790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000018666AE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000018666B0EC10>
                     └ <function get_request_handler.<locals>.app at 0x0000018666AD63A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000186640EC8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018666B0EFD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000018666ABA4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000018664054BB0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018666B0EFD0>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000018666A7A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 94, in update_user
    if "updated_at" in update_data.keys():
                       └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pydantic\main.py", line 767, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')

AttributeError: 'UserUpdateForm' object has no attribute 'keys'
2024-03-10 00:14:05.544 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:14:05.548 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:14:05.652 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:14:05.652 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:14:05.653 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:14:05.653 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:14:05.654 | INFO     | uvicorn.server:serve:87 - Finished server process [4072]
2024-03-10 00:14:05.654 | INFO     | uvicorn.server:serve:87 - Finished server process [4072]
2024-03-10 00:14:07.097 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:14:07.098 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:14:07.098 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:14:07.099 | INFO     | uvicorn.server:serve:77 - Started server process [1240]
2024-03-10 00:14:07.100 | INFO     | uvicorn.server:serve:77 - Started server process [1240]
2024-03-10 00:14:07.100 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:14:07.100 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:14:07.101 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:14:07.102 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:14:07.103 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:14:07.273 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60367 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:14:07.275 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 312
               │     └ 3
               └ <function _main at 0x000001B2A64F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 312
           │    └ <function BaseProcess._bootstrap at 0x000001B2A62D85E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B2A62E3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B2A650E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>
    │    └ <function subprocess_started at 0x000001B2A8424EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B2A650E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B2A84240D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B2A650E460>
           │       └ <function run at 0x000001B2A80BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B2A95B8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B2A80BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B2A80BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B2A80C14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B2A802E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B2A95EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B2A8D52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B2A95EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B2ABB7E910>
          └ <fastapi.applications.FastAPI object at 0x000001B2A8D52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B2ABB66C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B2ABB7E910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B2ABB66C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001B2A940BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B2ABB7E760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B2ABBA5850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B2ABB7E760>
          └ <function wrap_app_handling_exceptions at 0x000001B2A91CE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>>
          └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B2A917FD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B2ABB664C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B2ABBA5AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B2ABB7A670>
          └ <function wrap_app_handling_exceptions at 0x000001B2A91CE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B2ABB7A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B2ABBA5AC0>
                     └ <function get_request_handler.<locals>.app at 0x000001B2ABB66430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001B2A91728B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B2ABBA5E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001B2ABB4B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001B2A90E2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B2ABBA5E80>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001B2ABB0A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 95, in update_user
    update_data["updated_at"] = datetime.now()
    │                           │        └ <method 'now' of 'datetime.datetime' objects>
    │                           └ <class 'datetime.datetime'>
    └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...

TypeError: 'UserUpdateForm' object does not support item assignment
2024-03-10 00:14:07.330 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 312
               │     └ 3
               └ <function _main at 0x000001B2A64F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 312
           │    └ <function BaseProcess._bootstrap at 0x000001B2A62D85E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B2A62E3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B2A650E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>
    │    └ <function subprocess_started at 0x000001B2A8424EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B2A650E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B2A84240D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B2A650E460>
           │       └ <function run at 0x000001B2A80BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B2A95B8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B2A80BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B2A80BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B2A80C14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B2A802E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B2A95EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B2A8D52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B2A95EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B2ABB7E910>
          └ <fastapi.applications.FastAPI object at 0x000001B2A8D52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B2ABB66C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B2ABB7E910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B2ABB66C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001B2A940BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B2ABB7E760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B2ABBA5850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B2ABB7E760>
          └ <function wrap_app_handling_exceptions at 0x000001B2A91CE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>>
          └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B2A917FD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B2ABB664C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B2ABBA5AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B2ABB7A670>
          └ <function wrap_app_handling_exceptions at 0x000001B2A91CE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B2ABB7A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B2ABBA5AC0>
                     └ <function get_request_handler.<locals>.app at 0x000001B2ABB66430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001B2A91728B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B2ABBA5E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001B2ABB4B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001B2A90E2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B2ABBA5E80>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001B2ABB0A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 95, in update_user
    update_data["updated_at"] = datetime.now()
    │                           │        └ <method 'now' of 'datetime.datetime' objects>
    │                           └ <class 'datetime.datetime'>
    └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...

TypeError: 'UserUpdateForm' object does not support item assignment
2024-03-10 00:15:01.013 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:15:01.013 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:15:01.123 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:15:01.124 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:15:01.125 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:15:01.126 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:15:01.127 | INFO     | uvicorn.server:serve:87 - Finished server process [1240]
2024-03-10 00:15:01.128 | INFO     | uvicorn.server:serve:87 - Finished server process [1240]
2024-03-10 00:15:02.643 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:15:02.643 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:15:02.644 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:15:02.645 | INFO     | uvicorn.server:serve:77 - Started server process [4008]
2024-03-10 00:15:02.645 | INFO     | uvicorn.server:serve:77 - Started server process [4008]
2024-03-10 00:15:02.645 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:15:02.646 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:15:02.646 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:15:02.647 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:15:02.648 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:15:04.538 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60372 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:15:04.539 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000026459858EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000026459897790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000026459CC9B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459CC9CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>
           └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x0000026459D67160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000026459...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x0000026459D730D0>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000026459D73820>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000026459D74430>
          └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000026459D43790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>
    │   └ <function raise_mysql_exception at 0x0000026459CF21F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'email' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x00000264547C94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x00000264546B85E0>
           └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000264546C3C10>
    └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000264547DE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>
    │    └ <function subprocess_started at 0x00000264566F3EE0>
    └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000264547DE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000264566F30D0>
           │       │   └ <uvicorn.server.Server object at 0x00000264547DE460>
           │       └ <function run at 0x000002645638C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000264578CA340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002645638D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002645638D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000264563904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000264562FE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026457881AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000026457022FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026457881AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026459E4D910>
          └ <fastapi.applications.FastAPI object at 0x0000026457022FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026459E36C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026459E4D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026459E36C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000264576DBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026459E4D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000026459E75850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026459E4D760>
          └ <function wrap_app_handling_exceptions at 0x000002645749E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000026459E07F40>>
          └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002645744DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000026459E364C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000026459E75AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026459E4A670>
          └ <function wrap_app_handling_exceptions at 0x000002645749E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000026459E4A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000026459E75AC0>
                     └ <function get_request_handler.<locals>.app at 0x0000026459E36430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000264574418B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000026459E1B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000264573C1C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000026459DDA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 99, in update_user
    await async_session.execute(stmt)
          │             │       └ <sqlalchemy.sql.dml.Update object at 0x0000026459EC8F10>
          │             └ <function AsyncSession.execute at 0x0000026459C41160>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x00000264582D3CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x0000026459B65700>
           └ <sqlalchemy.orm.session.Session object at 0x0000026459E75EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x0000026459B3D1C0>
                   │      └ <class 'sqlalchemy.orm.bulk_persistence.BulkORMUpdate'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\bulk_persistence.py", line 1617, in orm_execute_statement
    return super().orm_execute_statement(

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x0000026459794940>
             └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x0000026459EC8730>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x0000026459794C10>
           └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x0000026459794DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x0000026459794E50>
           └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x00000264597960D0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'email' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'email' cannot be null"), <traceback object at 0x00000264...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'email\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000026459858EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000026459897790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000026459CC9B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459CC9CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>
           └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x0000026459D67160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000026459...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x0000026459D730D0>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000026459D73820>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000026459D74430>
          └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000026459D43790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>
    │   └ <function raise_mysql_exception at 0x0000026459CF21F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'email' cannot be null")
[SQL: UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s]
[parameters: ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 00:15:04.779 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000026459858EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000026459897790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000026459CC9B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459CC9CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>
           └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x0000026459D67160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000026459...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x0000026459D730D0>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000026459D73820>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000026459D74430>
          └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000026459D43790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>
    │   └ <function raise_mysql_exception at 0x0000026459CF21F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'email' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x00000264547C94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x00000264546B85E0>
           └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000264546C3C10>
    └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000264547DE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>
    │    └ <function subprocess_started at 0x00000264566F3EE0>
    └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000264547DE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000264566F30D0>
           │       │   └ <uvicorn.server.Server object at 0x00000264547DE460>
           │       └ <function run at 0x000002645638C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000264578CA340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002645638D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002645638D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000264563904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000264562FE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026457881AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000026457022FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026457881AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026459E4D910>
          └ <fastapi.applications.FastAPI object at 0x0000026457022FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026459E36C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026459E4D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026459E36C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000264576DBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026459E4D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000026459E75850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026459E4D760>
          └ <function wrap_app_handling_exceptions at 0x000002645749E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000026459E07F40>>
          └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002645744DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000026459E364C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000026459E75AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026459E4A670>
          └ <function wrap_app_handling_exceptions at 0x000002645749E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000026459E4A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000026459E75AC0>
                     └ <function get_request_handler.<locals>.app at 0x0000026459E36430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000264574418B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000026459E1B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000264573C1C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000026459DDA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 99, in update_user
    await async_session.execute(stmt)
          │             │       └ <sqlalchemy.sql.dml.Update object at 0x0000026459EC8F10>
          │             └ <function AsyncSession.execute at 0x0000026459C41160>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x00000264582D3CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x0000026459B65700>
           └ <sqlalchemy.orm.session.Session object at 0x0000026459E75EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x0000026459B3D1C0>
                   │      └ <class 'sqlalchemy.orm.bulk_persistence.BulkORMUpdate'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\bulk_persistence.py", line 1617, in orm_execute_statement
    return super().orm_execute_statement(

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x0000026459794940>
             └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x0000026459EC8730>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x0000026459794C10>
           └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x0000026459794DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x0000026459794E50>
           └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x00000264597960D0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'email' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'email' cannot be null"), <traceback object at 0x00000264...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'email\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000026459858EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000026459897790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000026459CC9B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459CC9CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>
           └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x0000026459D67160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000026459...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x0000026459D730D0>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000026459D73820>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000026459D74430>
          └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000026459D43790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>
    │   └ <function raise_mysql_exception at 0x0000026459CF21F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'email' cannot be null")
[SQL: UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s]
[parameters: ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 00:17:22.273 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:17:22.274 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:17:22.381 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:17:22.382 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:17:22.382 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:17:22.383 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:17:22.384 | INFO     | uvicorn.server:serve:87 - Finished server process [4008]
2024-03-10 00:17:22.385 | INFO     | uvicorn.server:serve:87 - Finished server process [4008]
2024-03-10 00:17:23.780 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:17:23.780 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:17:23.780 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:17:23.782 | INFO     | uvicorn.server:serve:77 - Started server process [3444]
2024-03-10 00:17:23.783 | INFO     | uvicorn.server:serve:77 - Started server process [3444]
2024-03-10 00:17:23.783 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:17:23.783 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:17:23.783 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:17:23.785 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:17:23.785 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:17:35.925 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60400 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:17:35.928 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000002497F6A8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000002497F6E7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000002497FB19B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FB19CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>
           └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x000002497FBB7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000002497F...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x000002497FBC30D0>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000002497FBC3820>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000002497FBC4430>
          └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000002497FB93790>
    └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>
    │   └ <function raise_mysql_exception at 0x000002497FB421F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'email' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 288
               │     └ 3
               └ <function _main at 0x000002497A6194C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 288
           │    └ <function BaseProcess._bootstrap at 0x000002497A4F85E0>
           └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002497A503C10>
    └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002497A62E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>
    │    └ <function subprocess_started at 0x000002497C545EE0>
    └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002497A62E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002497C5450D0>
           │       │   └ <uvicorn.server.Server object at 0x000002497A62E460>
           │       └ <function run at 0x000002497C1DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002497D71A340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002497C1DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002497C1DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002497C1E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002497C14E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002497D734AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002497CE72FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002497D734AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002497FC9D940>
          └ <fastapi.applications.FastAPI object at 0x000002497CE72FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002497FC88C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002497FC9D940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002497FC88C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000002497D52BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002497FC9D790>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002497FCC5880>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002497FC9D790>
          └ <function wrap_app_handling_exceptions at 0x000002497D2C4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002497FC56FD0>>
          └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002497D29DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002497FC884C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002497FCC5AF0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002497FC9A670>
          └ <function wrap_app_handling_exceptions at 0x000002497D2C4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002497FC9A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002497FCC5AF0>
                     └ <function get_request_handler.<locals>.app at 0x000002497FC88430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002497D2AB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000002497FC6B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002497D202C70>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000002497FC2B670>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 99, in update_user
    await async_session.execute(stmt)
          │             │       └ <sqlalchemy.sql.dml.Update object at 0x000002497FD19F10>
          │             └ <function AsyncSession.execute at 0x000002497FA90160>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x000002497E122CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x000002497F9B8700>
           └ <sqlalchemy.orm.session.Session object at 0x000002497FCC5F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x000002497F98D1C0>
                   │      └ <class 'sqlalchemy.orm.bulk_persistence.BulkORMUpdate'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\bulk_persistence.py", line 1617, in orm_execute_statement
    return super().orm_execute_statement(

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x000002497F5E4940>
             └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x000002497FD19730>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000002497F5E4C10>
           └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000002497F5E4DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000002497F5E4E50>
           └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000002497F5E60D0>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'email' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'email' cannot be null"), <traceback object at 0x00000249...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'email\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000002497F6A8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000002497F6E7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000002497FB19B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FB19CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>
           └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x000002497FBB7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000002497F...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x000002497FBC30D0>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000002497FBC3820>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000002497FBC4430>
          └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000002497FB93790>
    └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>
    │   └ <function raise_mysql_exception at 0x000002497FB421F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'email' cannot be null")
[SQL: UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s]
[parameters: ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 00:17:36.015 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000002497F6A8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000002497F6E7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000002497FB19B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FB19CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>
           └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x000002497FBB7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000002497F...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x000002497FBC30D0>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000002497FBC3820>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000002497FBC4430>
          └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000002497FB93790>
    └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>
    │   └ <function raise_mysql_exception at 0x000002497FB421F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'email' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 288
               │     └ 3
               └ <function _main at 0x000002497A6194C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 288
           │    └ <function BaseProcess._bootstrap at 0x000002497A4F85E0>
           └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002497A503C10>
    └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002497A62E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>
    │    └ <function subprocess_started at 0x000002497C545EE0>
    └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002497A62E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002497C5450D0>
           │       │   └ <uvicorn.server.Server object at 0x000002497A62E460>
           │       └ <function run at 0x000002497C1DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002497D71A340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002497C1DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002497C1DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002497C1E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002497C14E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002497D734AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002497CE72FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002497D734AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002497FC9D940>
          └ <fastapi.applications.FastAPI object at 0x000002497CE72FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002497FC88C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002497FC9D940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002497FC88C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000002497D52BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002497FC9D790>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002497FCC5880>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002497FC9D790>
          └ <function wrap_app_handling_exceptions at 0x000002497D2C4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002497FC56FD0>>
          └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002497D29DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002497FC884C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002497FCC5AF0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002497FC9A670>
          └ <function wrap_app_handling_exceptions at 0x000002497D2C4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002497FC9A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002497FCC5AF0>
                     └ <function get_request_handler.<locals>.app at 0x000002497FC88430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002497D2AB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000002497FC6B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002497D202C70>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000002497FC2B670>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 99, in update_user
    await async_session.execute(stmt)
          │             │       └ <sqlalchemy.sql.dml.Update object at 0x000002497FD19F10>
          │             └ <function AsyncSession.execute at 0x000002497FA90160>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x000002497E122CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x000002497F9B8700>
           └ <sqlalchemy.orm.session.Session object at 0x000002497FCC5F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x000002497F98D1C0>
                   │      └ <class 'sqlalchemy.orm.bulk_persistence.BulkORMUpdate'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\bulk_persistence.py", line 1617, in orm_execute_statement
    return super().orm_execute_statement(

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x000002497F5E4940>
             └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x000002497FD19730>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000002497F5E4C10>
           └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000002497F5E4DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000002497F5E4E50>
           └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000002497F5E60D0>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'email' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'email' cannot be null"), <traceback object at 0x00000249...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'email\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000002497F6A8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000002497F6E7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000002497FB19B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FB19CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>
           └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x000002497FBB7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000002497F...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x000002497FBC30D0>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000002497FBC3820>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000002497FBC4430>
          └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000002497FB93790>
    └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>
    │   └ <function raise_mysql_exception at 0x000002497FB421F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'email' cannot be null")
[SQL: UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s]
[parameters: ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 00:23:45.857 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:23:45.861 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:23:45.969 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:23:45.969 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:23:45.969 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:23:45.969 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:23:45.969 | INFO     | uvicorn.server:serve:87 - Finished server process [3444]
2024-03-10 00:23:45.969 | INFO     | uvicorn.server:serve:87 - Finished server process [3444]
2024-03-10 00:23:47.915 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:23:47.915 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:23:47.915 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:23:47.926 | INFO     | uvicorn.server:serve:77 - Started server process [9568]
2024-03-10 00:23:47.926 | INFO     | uvicorn.server:serve:77 - Started server process [9568]
2024-03-10 00:23:47.926 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:23:47.926 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:23:47.926 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:23:47.926 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:23:47.926 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:23:54.634 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60441 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:23:54.634 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 412
               │     └ 3
               └ <function _main at 0x00000222DC2F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 412
           │    └ <function BaseProcess._bootstrap at 0x00000222DC1C85E0>
           └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000222DC1D3C10>
    └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000222DC30E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>
    │    └ <function subprocess_started at 0x00000222DE224EE0>
    └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=556, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000222DC30E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=556, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000222DE2240D0>
           │       │   └ <uvicorn.server.Server object at 0x00000222DC30E460>
           │       └ <function run at 0x00000222DDEBC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000222DF3B9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000222DDEBD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000222DDEBD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000222DDEC14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000222DDE2E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000222DF3EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000222DEB52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000222DF3EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000222E197C9D0>
          └ <fastapi.applications.FastAPI object at 0x00000222DEB52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000222E1968C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000222E197C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000222E1968C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000222DF20BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000222E197C820>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000222E199E910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000222E197C820>
          └ <function wrap_app_handling_exceptions at 0x00000222DEFAB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000222E191DD90>>
          └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000222DEF80D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000222E19684C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000222E199EB80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000222E1979670>
          └ <function wrap_app_handling_exceptions at 0x00000222DEFAB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E19798B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000222E1979670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000222E199EB80>
                     └ <function get_request_handler.<locals>.app at 0x00000222E1968430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000222DEF8B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000222E199EF40>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x00000222E194B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000222DEEE2D00>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000222E199EF40>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x00000222E1908700>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 103, in update_user
    stmt = update(User).where(and_(User.id == update_data.id)).values(update_data)
           │      │           │    │    │     │                       └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    │     └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000222E18A84A0>
           │      │           │    └ <class 'app.models.user.User'>
           │      │           └ <function and_ at 0x00000222E1250F70>
           │      └ <class 'app.models.user.User'>
           └ <function update at 0x00000222E1250B80>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:23:54.667 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 412
               │     └ 3
               └ <function _main at 0x00000222DC2F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 412
           │    └ <function BaseProcess._bootstrap at 0x00000222DC1C85E0>
           └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000222DC1D3C10>
    └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000222DC30E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>
    │    └ <function subprocess_started at 0x00000222DE224EE0>
    └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=556, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000222DC30E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=556, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000222DE2240D0>
           │       │   └ <uvicorn.server.Server object at 0x00000222DC30E460>
           │       └ <function run at 0x00000222DDEBC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000222DF3B9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000222DDEBD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000222DDEBD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000222DDEC14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000222DDE2E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000222DF3EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000222DEB52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000222DF3EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000222E197C9D0>
          └ <fastapi.applications.FastAPI object at 0x00000222DEB52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000222E1968C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000222E197C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000222E1968C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000222DF20BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000222E197C820>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000222E199E910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000222E197C820>
          └ <function wrap_app_handling_exceptions at 0x00000222DEFAB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000222E191DD90>>
          └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000222DEF80D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000222E19684C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000222E199EB80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000222E1979670>
          └ <function wrap_app_handling_exceptions at 0x00000222DEFAB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E19798B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000222E1979670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000222E199EB80>
                     └ <function get_request_handler.<locals>.app at 0x00000222E1968430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000222DEF8B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000222E199EF40>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x00000222E194B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000222DEEE2D00>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000222E199EF40>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x00000222E1908700>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 103, in update_user
    stmt = update(User).where(and_(User.id == update_data.id)).values(update_data)
           │      │           │    │    │     │                       └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    │     └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000222E18A84A0>
           │      │           │    └ <class 'app.models.user.User'>
           │      │           └ <function and_ at 0x00000222E1250F70>
           │      └ <class 'app.models.user.User'>
           └ <function update at 0x00000222E1250B80>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:24:45.430 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:24:45.431 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:24:45.538 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:24:45.539 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:24:45.540 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:24:45.541 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:24:45.543 | INFO     | uvicorn.server:serve:87 - Finished server process [9568]
2024-03-10 00:24:45.544 | INFO     | uvicorn.server:serve:87 - Finished server process [9568]
2024-03-10 00:24:47.057 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:24:47.057 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:24:47.058 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:24:47.058 | INFO     | uvicorn.server:serve:77 - Started server process [16712]
2024-03-10 00:24:47.059 | INFO     | uvicorn.server:serve:77 - Started server process [16712]
2024-03-10 00:24:47.059 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:24:47.060 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:24:47.060 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:24:47.061 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:24:47.062 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:24:47.187 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60448 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:24:47.188 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x0000025E659E94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x0000025E658E85E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025E658F3C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025E659FE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>
    │    └ <function subprocess_started at 0x0000025E67905EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000025E659FE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000025E679050D0>
           │       │   └ <uvicorn.server.Server object at 0x0000025E659FE460>
           │       └ <function run at 0x0000025E6759C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000025E68A99340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000025E6759D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025E6759D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025E675A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025E6750E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025E68ACFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000025E68232FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025E68ACFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025E6B05C880>
          └ <fastapi.applications.FastAPI object at 0x0000025E68232FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025E67EB49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025E6B05C880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025E67EB49D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000025E688EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025E6B05C8B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000025E6B07A6A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025E6B05C8B0>
          └ <function wrap_app_handling_exceptions at 0x0000025E686AE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>>
          └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000025E6865DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000025E6B03A4C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000025E6B07A910>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000025E6B0598B0>
          └ <function wrap_app_handling_exceptions at 0x0000025E686AE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000025E6B0598B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025E6B07A910>
                     └ <function get_request_handler.<locals>.app at 0x0000025E6B03A430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000025E686528B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025E6B07AD60>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000025E6B02B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000025E685C2D00>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025E6B07AD60>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000025E6AFE7700>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 103, in update_user
    stmt = update(User).where(and_(User.id == update_data.id)).values(update_data)
           │      │           │    │    │     │                       └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    │     └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x0000025E6AF884A0>
           │      │           │    └ <class 'app.models.user.User'>
           │      │           └ <function and_ at 0x0000025E6A92FF70>
           │      └ <class 'app.models.user.User'>
           └ <function update at 0x0000025E6A92FB80>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:24:47.236 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x0000025E659E94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x0000025E658E85E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025E658F3C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025E659FE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>
    │    └ <function subprocess_started at 0x0000025E67905EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000025E659FE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000025E679050D0>
           │       │   └ <uvicorn.server.Server object at 0x0000025E659FE460>
           │       └ <function run at 0x0000025E6759C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000025E68A99340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000025E6759D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025E6759D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025E675A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025E6750E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025E68ACFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000025E68232FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025E68ACFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025E6B05C880>
          └ <fastapi.applications.FastAPI object at 0x0000025E68232FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025E67EB49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025E6B05C880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025E67EB49D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000025E688EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025E6B05C8B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000025E6B07A6A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025E6B05C8B0>
          └ <function wrap_app_handling_exceptions at 0x0000025E686AE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>>
          └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000025E6865DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000025E6B03A4C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000025E6B07A910>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000025E6B0598B0>
          └ <function wrap_app_handling_exceptions at 0x0000025E686AE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000025E6B0598B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025E6B07A910>
                     └ <function get_request_handler.<locals>.app at 0x0000025E6B03A430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000025E686528B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025E6B07AD60>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000025E6B02B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000025E685C2D00>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025E6B07AD60>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000025E6AFE7700>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 103, in update_user
    stmt = update(User).where(and_(User.id == update_data.id)).values(update_data)
           │      │           │    │    │     │                       └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    │     └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x0000025E6AF884A0>
           │      │           │    └ <class 'app.models.user.User'>
           │      │           └ <function and_ at 0x0000025E6A92FF70>
           │      └ <class 'app.models.user.User'>
           └ <function update at 0x0000025E6A92FB80>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:25:32.044 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:25:32.045 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:25:32.156 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:25:32.157 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:25:32.160 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:25:32.162 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:25:32.166 | INFO     | uvicorn.server:serve:87 - Finished server process [16712]
2024-03-10 00:25:32.168 | INFO     | uvicorn.server:serve:87 - Finished server process [16712]
2024-03-10 00:25:33.719 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:25:33.719 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:25:33.720 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:25:33.721 | INFO     | uvicorn.server:serve:77 - Started server process [20776]
2024-03-10 00:25:33.721 | INFO     | uvicorn.server:serve:77 - Started server process [20776]
2024-03-10 00:25:33.722 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:25:33.722 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:25:33.723 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:25:33.724 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:25:33.724 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:25:40.637 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60462 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-10 00:26:56.842 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:26:56.844 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:26:56.951 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:26:56.951 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:26:56.952 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:26:56.953 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:26:56.953 | INFO     | uvicorn.server:serve:87 - Finished server process [20776]
2024-03-10 00:26:56.954 | INFO     | uvicorn.server:serve:87 - Finished server process [20776]
2024-03-10 00:26:58.710 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:26:58.710 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:26:58.711 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:26:58.711 | INFO     | uvicorn.server:serve:77 - Started server process [596]
2024-03-10 00:26:58.712 | INFO     | uvicorn.server:serve:77 - Started server process [596]
2024-03-10 00:26:58.713 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:26:58.713 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:26:58.714 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:26:58.715 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:26:58.715 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:27:01.014 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60470 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-10 00:36:30.528 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60653 - "GET /docs HTTP/1.1" 200
2024-03-10 00:36:30.613 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:36:30.618 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:36:30.722 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:36:30.723 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:36:30.724 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:36:30.724 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:36:30.725 | INFO     | uvicorn.server:serve:87 - Finished server process [596]
2024-03-10 00:36:30.725 | INFO     | uvicorn.server:serve:87 - Finished server process [596]
2024-03-10 00:36:32.217 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:36:32.218 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:36:32.219 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:36:32.219 | INFO     | uvicorn.server:serve:77 - Started server process [17824]
2024-03-10 00:36:32.220 | INFO     | uvicorn.server:serve:77 - Started server process [17824]
2024-03-10 00:36:32.220 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:36:32.220 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:36:32.221 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:36:32.221 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:36:32.222 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:36:32.228 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60655 - "GET /openapi.json HTTP/1.1" 200
2024-03-10 00:37:42.935 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:37:42.936 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:37:43.046 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:37:43.046 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:37:43.046 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:37:43.046 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:37:43.046 | INFO     | uvicorn.server:serve:87 - Finished server process [17824]
2024-03-10 00:37:43.046 | INFO     | uvicorn.server:serve:87 - Finished server process [17824]
2024-03-10 12:22:20.152 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 12:22:20.153 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 12:22:20.154 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 12:22:20.155 | INFO     | uvicorn.server:serve:77 - Started server process [11796]
2024-03-10 12:22:20.156 | INFO     | uvicorn.server:serve:77 - Started server process [11796]
2024-03-10 12:22:20.157 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 12:22:20.157 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 12:22:20.158 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 12:22:20.159 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 12:22:20.160 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 12:27:53.966 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 12:27:53.967 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 12:46:54.017 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 12:46:54.017 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 12:46:54.127 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 12:46:54.128 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 12:46:54.130 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 12:46:54.131 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 12:46:54.132 | INFO     | uvicorn.server:serve:87 - Finished server process [11796]
2024-03-10 12:46:54.133 | INFO     | uvicorn.server:serve:87 - Finished server process [11796]
2024-03-10 12:46:55.984 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 12:46:55.986 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 12:46:55.987 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 12:46:55.987 | INFO     | uvicorn.server:serve:77 - Started server process [5952]
2024-03-10 12:46:55.988 | INFO     | uvicorn.server:serve:77 - Started server process [5952]
2024-03-10 12:46:55.988 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 12:46:55.989 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 12:46:55.990 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 12:46:55.990 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 12:46:55.991 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 12:57:52.985 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 12:57:52.987 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 12:57:53.019 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 12:57:53.019 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 12:57:53.128 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 12:57:53.128 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 12:57:53.128 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 12:57:53.128 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 12:57:53.129 | INFO     | uvicorn.server:serve:87 - Finished server process [5952]
2024-03-10 12:57:53.129 | INFO     | uvicorn.server:serve:87 - Finished server process [5952]
2024-03-10 14:22:04.481 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 14:22:04.482 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 14:22:04.482 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 14:22:04.483 | INFO     | uvicorn.server:serve:77 - Started server process [3332]
2024-03-10 14:22:04.484 | INFO     | uvicorn.server:serve:77 - Started server process [3332]
2024-03-10 14:22:04.484 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 14:22:04.485 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 14:22:04.485 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 14:22:04.486 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 14:22:04.487 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 14:22:04.488 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 14:22:04.489 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 14:22:04.490 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 14:22:04.491 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 14:22:04.491 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 14:22:04.493 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 14:22:04.494 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 14:22:04.494 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 14:26:00.486 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 14:26:00.486 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 14:26:00.594 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 14:26:00.596 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 14:26:00.597 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 14:26:00.598 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 14:26:00.599 | INFO     | uvicorn.server:serve:87 - Finished server process [3332]
2024-03-10 14:26:00.599 | INFO     | uvicorn.server:serve:87 - Finished server process [3332]
2024-03-10 14:26:02.733 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 14:26:02.734 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 14:26:02.734 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 14:26:02.735 | INFO     | uvicorn.server:serve:77 - Started server process [14284]
2024-03-10 14:26:02.735 | INFO     | uvicorn.server:serve:77 - Started server process [14284]
2024-03-10 14:26:02.737 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 14:26:02.737 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 14:26:02.738 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 14:26:02.739 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 14:26:02.739 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 14:26:17.929 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 14:26:17.929 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 14:26:18.039 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 14:26:18.039 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 14:26:18.040 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 14:26:18.041 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 14:26:18.041 | INFO     | uvicorn.server:serve:87 - Finished server process [14284]
2024-03-10 14:26:18.042 | INFO     | uvicorn.server:serve:87 - Finished server process [14284]
2024-03-10 14:26:20.426 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 14:26:20.427 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 14:26:20.427 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 14:26:20.428 | INFO     | uvicorn.server:serve:77 - Started server process [2060]
2024-03-10 14:26:20.428 | INFO     | uvicorn.server:serve:77 - Started server process [2060]
2024-03-10 14:26:20.429 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 14:26:20.429 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 14:26:20.429 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 14:26:20.430 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 14:26:20.431 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 14:28:13.361 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 14:28:13.361 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 14:28:13.471 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 14:28:13.473 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 14:28:13.475 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 14:28:13.477 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 14:28:13.480 | INFO     | uvicorn.server:serve:87 - Finished server process [2060]
2024-03-10 14:28:13.481 | INFO     | uvicorn.server:serve:87 - Finished server process [2060]
2024-03-10 14:28:15.650 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 14:28:15.650 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 14:28:15.651 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 14:28:15.652 | INFO     | uvicorn.server:serve:77 - Started server process [8572]
2024-03-10 14:28:15.652 | INFO     | uvicorn.server:serve:77 - Started server process [8572]
2024-03-10 14:28:15.653 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 14:28:15.653 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 14:28:15.654 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 14:28:15.655 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 14:28:15.656 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 14:31:52.196 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 14:31:52.197 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 15:01:51.207 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 15:01:51.209 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 15:01:51.245 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:01:51.245 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:01:51.354 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:01:51.356 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:01:51.358 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:01:51.360 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:01:51.361 | INFO     | uvicorn.server:serve:87 - Finished server process [8572]
2024-03-10 15:01:51.361 | INFO     | uvicorn.server:serve:87 - Finished server process [8572]
2024-03-10 15:01:53.766 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:01:53.766 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:01:53.767 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:01:53.767 | INFO     | uvicorn.server:serve:77 - Started server process [7640]
2024-03-10 15:01:53.770 | INFO     | uvicorn.server:serve:77 - Started server process [7640]
2024-03-10 15:01:53.770 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:01:53.771 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:01:53.771 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:01:53.772 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:01:53.773 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:17:45.362 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:17:45.365 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:17:45.471 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:17:45.472 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:17:45.472 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:17:45.473 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:17:45.474 | INFO     | uvicorn.server:serve:87 - Finished server process [7640]
2024-03-10 15:17:45.474 | INFO     | uvicorn.server:serve:87 - Finished server process [7640]
2024-03-10 15:17:47.501 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:17:47.502 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:17:47.503 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:17:47.503 | INFO     | uvicorn.server:serve:77 - Started server process [6104]
2024-03-10 15:17:47.504 | INFO     | uvicorn.server:serve:77 - Started server process [6104]
2024-03-10 15:17:47.504 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:17:47.505 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:17:47.505 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:17:47.506 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:17:47.507 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:18:19.203 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:51984 - "GET /docs HTTP/1.1" 200
2024-03-10 15:18:19.483 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:51984 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-10 15:18:19.485 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:51983 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-10 15:18:19.716 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:51983 - "GET /openapi.json HTTP/1.1" 200
2024-03-10 15:18:51.475 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:18:51.475 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:18:51.584 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:18:51.585 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:18:51.586 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:18:51.586 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:18:51.587 | INFO     | uvicorn.server:serve:87 - Finished server process [6104]
2024-03-10 15:18:51.587 | INFO     | uvicorn.server:serve:87 - Finished server process [6104]
2024-03-10 15:18:53.146 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:18:53.147 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:18:53.148 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:18:53.148 | INFO     | uvicorn.server:serve:77 - Started server process [3524]
2024-03-10 15:18:53.149 | INFO     | uvicorn.server:serve:77 - Started server process [3524]
2024-03-10 15:18:53.149 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:18:53.150 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:18:53.151 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:18:53.153 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:18:53.153 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:18:54.956 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:51991 - "GET /docs HTTP/1.1" 200
2024-03-10 15:18:55.077 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:51991 - "GET /openapi.json HTTP/1.1" 200
2024-03-10 15:19:08.649 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:51990 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-10 15:20:24.605 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:51995 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 15:20:24.606 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 96
               │     └ 3
               └ <function _main at 0x00000199038F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 96
           │    └ <function BaseProcess._bootstrap at 0x00000199037F85E0>
           └ <SpawnProcess name='SpawnProcess-33' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000019903803C10>
    └ <SpawnProcess name='SpawnProcess-33' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001990390E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-33' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-33' parent=3284 started>
    │    └ <function subprocess_started at 0x0000019905814EE0>
    └ <SpawnProcess name='SpawnProcess-33' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=796, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001990390E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=796, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000199058140D0>
           │       │   └ <uvicorn.server.Server object at 0x000001990390E460>
           │       └ <function run at 0x00000199054AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000199069A8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000199054AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000199054AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000199054B14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001990541E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001990906D5B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001990906D5B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001990906D5B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001990906D5B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000199069DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019908...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000019906142FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000199069DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019908...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019908...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000019908F7F640>
          └ <fastapi.applications.FastAPI object at 0x0000019906142FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000019905DC39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000019908F7F790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000019908F7F640>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000019905DC39D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000199067FBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000019908F7F790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000019908F7F790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000019908F7B910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000019908F7F790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000019908F7F790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000019908FAD070>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000019908F14EB0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000019908F7B910>
          └ <function wrap_app_handling_exceptions at 0x000001990659B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000019908F5D040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000019908F14EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000019908F5D040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000019908F14EB0>>
          └ <fastapi.routing.APIRouter object at 0x0000019908F14EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000019908F5D040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000019906575D30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000019908F5D040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000019908F6CB80>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000019908F5D040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000019908FAD820>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000019908F6CC10>
          └ <function wrap_app_handling_exceptions at 0x000001990659B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000199064D5DC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000019908F6CC10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000019908FAD820>
                     └ <function get_request_handler.<locals>.app at 0x0000019908F6CA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000199065768B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x00000199064D5310>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000019908F7F0D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.id)
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x00000199064D0CA0>
          └ <class 'app.crud.config.address.AddressCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 15:20:24.900 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 96
               │     └ 3
               └ <function _main at 0x00000199038F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 96
           │    └ <function BaseProcess._bootstrap at 0x00000199037F85E0>
           └ <SpawnProcess name='SpawnProcess-33' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000019903803C10>
    └ <SpawnProcess name='SpawnProcess-33' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001990390E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-33' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-33' parent=3284 started>
    │    └ <function subprocess_started at 0x0000019905814EE0>
    └ <SpawnProcess name='SpawnProcess-33' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=796, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001990390E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=796, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000199058140D0>
           │       │   └ <uvicorn.server.Server object at 0x000001990390E460>
           │       └ <function run at 0x00000199054AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000199069A8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000199054AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000199054AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000199054B14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001990541E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001990906D5B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001990906D5B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001990906D5B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001990906D5B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000199069DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019908...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000019906142FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000199069DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019908...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019908...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000019908F7F640>
          └ <fastapi.applications.FastAPI object at 0x0000019906142FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000019905DC39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000019908F7F790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000019908F7F640>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000019905DC39D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000199067FBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000019908F7F790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000019908F7F790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000019908F7B910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000019908F7F790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000019908F7F790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000019908FAD070>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000019908F14EB0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000019908F7B910>
          └ <function wrap_app_handling_exceptions at 0x000001990659B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000019908F5D040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000019908F14EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000019908F5D040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000019908F14EB0>>
          └ <fastapi.routing.APIRouter object at 0x0000019908F14EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000019908F5D040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000019906575D30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000019908F5D040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000019908F6CB80>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000019908F5D040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000019908FAD820>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000019908F6CC10>
          └ <function wrap_app_handling_exceptions at 0x000001990659B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000199064D5DC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000019908F6CC10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000019908FAD820>
                     └ <function get_request_handler.<locals>.app at 0x0000019908F6CA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000199065768B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x00000199064D5310>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000019908F7F0D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.id)
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x00000199064D0CA0>
          └ <class 'app.crud.config.address.AddressCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 15:20:41.785 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:20:41.788 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:20:41.894 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:20:41.895 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:20:41.896 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:20:41.896 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:20:41.897 | INFO     | uvicorn.server:serve:87 - Finished server process [3524]
2024-03-10 15:20:41.898 | INFO     | uvicorn.server:serve:87 - Finished server process [3524]
2024-03-10 15:20:43.461 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:20:43.462 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:20:43.462 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:20:43.463 | INFO     | uvicorn.server:serve:77 - Started server process [5788]
2024-03-10 15:20:43.464 | INFO     | uvicorn.server:serve:77 - Started server process [5788]
2024-03-10 15:20:43.465 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:20:43.466 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:20:43.466 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:20:43.467 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:20:43.467 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:20:44.754 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52002 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 15:20:44.755 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 188
               │     └ 3
               └ <function _main at 0x0000024B5A6A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 188
           │    └ <function BaseProcess._bootstrap at 0x0000024B5A5A85E0>
           └ <SpawnProcess name='SpawnProcess-34' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000024B5A5B3C10>
    └ <SpawnProcess name='SpawnProcess-34' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024B5A6BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-34' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-34' parent=3284 started>
    │    └ <function subprocess_started at 0x0000024B5C5D3EE0>
    └ <SpawnProcess name='SpawnProcess-34' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=780, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000024B5A6BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=780, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000024B5C5D30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000024B5A6BE460>
           │       └ <function run at 0x0000024B5C26C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000024B5D768340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024B5C26D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024B5C26D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024B5C2704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024B5C1DE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000024B5FDC8E50>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000024B5FDC8E50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000024B5FDC8E50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000024B5FDC8E50>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024B5D79FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024B5F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024B5CF02FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024B5D79FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024B5F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024B5F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024B5FD42D90>
          └ <fastapi.applications.FastAPI object at 0x0000024B5CF02FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024B5CB839D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024B5FD42EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024B5FD42D90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024B5CB839D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000024B5D5BBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024B5FD42EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000024B5FD42EB0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024B5FD42DF0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024B5FD42EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000024B5FD42EB0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000024B5FD58E20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000024B5D59E280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024B5FD42DF0>
          └ <function wrap_app_handling_exceptions at 0x0000024B5D354790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000024B5FD44310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000024B5D59E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000024B5FD44310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000024B5D59E280>>
          └ <fastapi.routing.APIRouter object at 0x0000024B5D59E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000024B5FD44310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000024B5D32DD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000024B5FD44310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000024B5FD2DE50>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000024B5FD44310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000024B5FD58FD0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000024B5FD44160>
          └ <function wrap_app_handling_exceptions at 0x0000024B5D354790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000024B5FD44430>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000024B5FD44160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000024B5FD58FD0>
                     └ <function get_request_handler.<locals>.app at 0x0000024B5FD2DD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000024B5D33B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000024B5FD03EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000024B5FD46790>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x0000024B5D295940>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    payload['create_user'] = user_id
    │                        └ '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1'
    └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')

TypeError: 'AddressPayload' object does not support item assignment
2024-03-10 15:20:44.789 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 188
               │     └ 3
               └ <function _main at 0x0000024B5A6A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 188
           │    └ <function BaseProcess._bootstrap at 0x0000024B5A5A85E0>
           └ <SpawnProcess name='SpawnProcess-34' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000024B5A5B3C10>
    └ <SpawnProcess name='SpawnProcess-34' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024B5A6BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-34' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-34' parent=3284 started>
    │    └ <function subprocess_started at 0x0000024B5C5D3EE0>
    └ <SpawnProcess name='SpawnProcess-34' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=780, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000024B5A6BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=780, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000024B5C5D30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000024B5A6BE460>
           │       └ <function run at 0x0000024B5C26C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000024B5D768340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024B5C26D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024B5C26D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024B5C2704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024B5C1DE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000024B5FDC8E50>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000024B5FDC8E50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000024B5FDC8E50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000024B5FDC8E50>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024B5D79FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024B5F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024B5CF02FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024B5D79FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024B5F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024B5F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024B5FD42D90>
          └ <fastapi.applications.FastAPI object at 0x0000024B5CF02FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024B5CB839D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024B5FD42EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024B5FD42D90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024B5CB839D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000024B5D5BBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024B5FD42EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000024B5FD42EB0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024B5FD42DF0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024B5FD42EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000024B5FD42EB0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000024B5FD58E20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000024B5D59E280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024B5FD42DF0>
          └ <function wrap_app_handling_exceptions at 0x0000024B5D354790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000024B5FD44310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000024B5D59E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000024B5FD44310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000024B5D59E280>>
          └ <fastapi.routing.APIRouter object at 0x0000024B5D59E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000024B5FD44310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000024B5D32DD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000024B5FD44310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000024B5FD2DE50>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000024B5FD44310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000024B5FD58FD0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000024B5FD44160>
          └ <function wrap_app_handling_exceptions at 0x0000024B5D354790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000024B5FD44430>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000024B5FD44160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000024B5FD58FD0>
                     └ <function get_request_handler.<locals>.app at 0x0000024B5FD2DD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000024B5D33B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000024B5FD03EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000024B5FD46790>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x0000024B5D295940>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    payload['create_user'] = user_id
    │                        └ '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1'
    └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')

TypeError: 'AddressPayload' object does not support item assignment
2024-03-10 15:29:21.424 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:29:21.424 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:29:21.533 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:29:21.535 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:29:21.537 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:29:21.539 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:29:21.540 | INFO     | uvicorn.server:serve:87 - Finished server process [5788]
2024-03-10 15:29:21.541 | INFO     | uvicorn.server:serve:87 - Finished server process [5788]
2024-03-10 15:29:23.564 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:29:23.565 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:29:23.565 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:29:23.565 | INFO     | uvicorn.server:serve:77 - Started server process [5168]
2024-03-10 15:29:23.566 | INFO     | uvicorn.server:serve:77 - Started server process [5168]
2024-03-10 15:29:23.566 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:29:23.566 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:29:23.568 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:29:23.569 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:29:23.570 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:29:28.012 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52066 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 15:29:28.013 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 192
               │     └ 3
               └ <function _main at 0x000001F76E2994C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 192
           │    └ <function BaseProcess._bootstrap at 0x000001F76E1885E0>
           └ <SpawnProcess name='SpawnProcess-36' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F76E193C10>
    └ <SpawnProcess name='SpawnProcess-36' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F76E2AE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-36' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-36' parent=3284 started>
    │    └ <function subprocess_started at 0x000001F7701C4EE0>
    └ <SpawnProcess name='SpawnProcess-36' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F76E2AE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F7701C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F76E2AE460>
           │       └ <function run at 0x000001F76FE5C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F771358340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F76FE5D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F76FE5D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F76FE604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F76FDCE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F7739B6E80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001F7739B6E80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001F7739B6E80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F7739B6E80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F77138FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F773...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F770AF2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F77138FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F773...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F773...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F773930D30>
          └ <fastapi.applications.FastAPI object at 0x000001F770AF2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F7707749D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F773930EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F773930D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F7707749D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001F7711ABCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F773930EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001F773930EE0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F773930E20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F773930EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001F773930EE0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F773946E50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F77118E280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F773930E20>
          └ <function wrap_app_handling_exceptions at 0x000001F770F6E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F773932310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F77118E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F773932310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F77118E280>>
          └ <fastapi.routing.APIRouter object at 0x000001F77118E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F773932310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F770F1FD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F773932310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F77391DE50>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F773932310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F773990040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F773932160>
          └ <function wrap_app_handling_exceptions at 0x000001F770F6E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F773932430>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F773932160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F773990040>
                     └ <function get_request_handler.<locals>.app at 0x000001F77391DD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001F770F128B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001F7738F3EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001F7739347C0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001F770E85940>
          └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: object NoneType can't be used in 'await' expression
2024-03-10 15:29:28.048 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 192
               │     └ 3
               └ <function _main at 0x000001F76E2994C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 192
           │    └ <function BaseProcess._bootstrap at 0x000001F76E1885E0>
           └ <SpawnProcess name='SpawnProcess-36' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F76E193C10>
    └ <SpawnProcess name='SpawnProcess-36' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F76E2AE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-36' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-36' parent=3284 started>
    │    └ <function subprocess_started at 0x000001F7701C4EE0>
    └ <SpawnProcess name='SpawnProcess-36' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F76E2AE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F7701C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F76E2AE460>
           │       └ <function run at 0x000001F76FE5C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F771358340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F76FE5D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F76FE5D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F76FE604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F76FDCE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F7739B6E80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001F7739B6E80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001F7739B6E80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F7739B6E80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F77138FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F773...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F770AF2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F77138FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F773...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F773...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F773930D30>
          └ <fastapi.applications.FastAPI object at 0x000001F770AF2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F7707749D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F773930EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F773930D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F7707749D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001F7711ABCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F773930EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001F773930EE0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F773930E20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F773930EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001F773930EE0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F773946E50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F77118E280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F773930E20>
          └ <function wrap_app_handling_exceptions at 0x000001F770F6E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F773932310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F77118E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F773932310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F77118E280>>
          └ <fastapi.routing.APIRouter object at 0x000001F77118E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F773932310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F770F1FD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F773932310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F77391DE50>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F773932310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F773990040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F773932160>
          └ <function wrap_app_handling_exceptions at 0x000001F770F6E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F773932430>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F773932160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F773990040>
                     └ <function get_request_handler.<locals>.app at 0x000001F77391DD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001F770F128B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001F7738F3EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001F7739347C0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001F770E85940>
          └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: object NoneType can't be used in 'await' expression
2024-03-10 15:30:12.247 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:30:12.247 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:30:12.356 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:30:12.356 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:30:12.357 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:30:12.357 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:30:12.358 | INFO     | uvicorn.server:serve:87 - Finished server process [5168]
2024-03-10 15:30:12.358 | INFO     | uvicorn.server:serve:87 - Finished server process [5168]
2024-03-10 15:30:13.745 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:30:13.745 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:30:13.746 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:30:13.747 | INFO     | uvicorn.server:serve:77 - Started server process [10376]
2024-03-10 15:30:13.747 | INFO     | uvicorn.server:serve:77 - Started server process [10376]
2024-03-10 15:30:13.747 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:30:13.748 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:30:13.748 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:30:13.749 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:30:13.750 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:30:15.658 | ERROR    | app.crud:wrap:50 - Traceback (most recent call last):
  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 47, in wrap
    return await transaction(cls, *args, session=ss, **kwargs)
  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 161, in create
    model_object = cls.__model__(**object_dict)
TypeError: 'NoneType' object is not callable

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000002225B0D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000002225AFA85E0>
           └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002225AFB3C10>
    └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002225B0EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>
    │    └ <function subprocess_started at 0x000002225D004EE0>
    └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=588, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002225B0EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=588, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002225D0040D0>
           │       │   └ <uvicorn.server.Server object at 0x000002225B0EE460>
           │       └ <function run at 0x000002225CC9C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002225E198340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002225CC9D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002225CC9D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002225CCA04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002225CC0E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222607D08B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000222607D08B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000222607D08B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222607D08B0>(<Future finished result=None>)>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002225E1CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022260...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002225D932FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002225E1CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022260...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022260...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022260770DC0>
          └ <fastapi.applications.FastAPI object at 0x000002225D932FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002225D5B29D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022260770DC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002225D5B29D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000002225DFEBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022260770E20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022260786E50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002225DFCF280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022260770E20>
          └ <function wrap_app_handling_exceptions at 0x000002225DDAE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002225DFCF280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002225DFCF280>>
          └ <fastapi.routing.APIRouter object at 0x000002225DFCF280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002225DD5FD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002226075DE50>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000222607D0040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022260772160>
          └ <function wrap_app_handling_exceptions at 0x000002225DDAE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772430>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022260772160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000222607D0040>
                     └ <function get_request_handler.<locals>.app at 0x000002226075DD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002225DD528B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000022260733EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000222607747C0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000002225DCC1940>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x0000022260692B20>
          └ <class 'app.crud.config.address.AddressCRUD'>

> File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 47, in wrap
    return await transaction(cls, *args, session=ss, **kwargs)
                 │           │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │           │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002225FF8E0D0>
                 │           │     └ ()
                 │           └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000002226068C5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 161, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable
2024-03-10 15:30:15.689 | ERROR    | app.crud:wrap:51 - 操作Address失败, args：[], kwargs：{'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}, create方法报错: 'NoneType' object is not callable
2024-03-10 15:30:15.690 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52074 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 15:30:15.690 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 47, in wrap
    return await transaction(cls, *args, session=ss, **kwargs)
                 │           │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │           │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002225FF8E0D0>
                 │           │     └ ()
                 │           └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000002226068C5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 161, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000002225B0D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000002225AFA85E0>
           └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002225AFB3C10>
    └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002225B0EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>
    │    └ <function subprocess_started at 0x000002225D004EE0>
    └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=588, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002225B0EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=588, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002225D0040D0>
           │       │   └ <uvicorn.server.Server object at 0x000002225B0EE460>
           │       └ <function run at 0x000002225CC9C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002225E198340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002225CC9D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002225CC9D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002225CCA04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002225CC0E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222607D08B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000222607D08B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000222607D08B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222607D08B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002225E1CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022260...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002225D932FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002225E1CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022260...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022260...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022260770DC0>
          └ <fastapi.applications.FastAPI object at 0x000002225D932FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002225D5B29D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022260770DC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002225D5B29D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000002225DFEBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022260770E20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022260786E50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002225DFCF280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022260770E20>
          └ <function wrap_app_handling_exceptions at 0x000002225DDAE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002225DFCF280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002225DFCF280>>
          └ <fastapi.routing.APIRouter object at 0x000002225DFCF280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002225DD5FD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002226075DE50>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000222607D0040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022260772160>
          └ <function wrap_app_handling_exceptions at 0x000002225DDAE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772430>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022260772160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000222607D0040>
                     └ <function get_request_handler.<locals>.app at 0x000002226075DD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002225DD528B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000022260733EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000222607747C0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000002225DCC1940>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x0000022260692B20>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 53, in wrap
    raise f"操作数据库失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 15:30:15.715 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 47, in wrap
    return await transaction(cls, *args, session=ss, **kwargs)
                 │           │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │           │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002225FF8E0D0>
                 │           │     └ ()
                 │           └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000002226068C5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 161, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000002225B0D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000002225AFA85E0>
           └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002225AFB3C10>
    └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002225B0EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>
    │    └ <function subprocess_started at 0x000002225D004EE0>
    └ <SpawnProcess name='SpawnProcess-37' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=588, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002225B0EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=588, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002225D0040D0>
           │       │   └ <uvicorn.server.Server object at 0x000002225B0EE460>
           │       └ <function run at 0x000002225CC9C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002225E198340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002225CC9D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002225CC9D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002225CCA04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002225CC0E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222607D08B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000222607D08B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000222607D08B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222607D08B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002225E1CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022260...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002225D932FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002225E1CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022260...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022260...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022260770DC0>
          └ <fastapi.applications.FastAPI object at 0x000002225D932FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002225D5B29D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022260770DC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002225D5B29D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000002225DFEBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022260770E20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022260770EE0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022260786E50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002225DFCF280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022260770E20>
          └ <function wrap_app_handling_exceptions at 0x000002225DDAE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002225DFCF280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002225DFCF280>>
          └ <fastapi.routing.APIRouter object at 0x000002225DFCF280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002225DD5FD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002226075DE50>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000222607D0040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022260772160>
          └ <function wrap_app_handling_exceptions at 0x000002225DDAE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022260772430>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022260772160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000222607D0040>
                     └ <function get_request_handler.<locals>.app at 0x000002226075DD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002225DD528B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000022260733EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000222607747C0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000002225DCC1940>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x0000022260692B20>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 53, in wrap
    raise f"操作数据库失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 15:31:12.686 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:31:12.688 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:31:12.793 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:31:12.794 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:31:12.796 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:31:12.797 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:31:12.799 | INFO     | uvicorn.server:serve:87 - Finished server process [10376]
2024-03-10 15:31:12.800 | INFO     | uvicorn.server:serve:87 - Finished server process [10376]
2024-03-10 15:31:14.193 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:31:14.194 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:31:14.194 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:31:14.195 | INFO     | uvicorn.server:serve:77 - Started server process [2992]
2024-03-10 15:31:14.196 | INFO     | uvicorn.server:serve:77 - Started server process [2992]
2024-03-10 15:31:14.196 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:31:14.196 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:31:14.197 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:31:14.198 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:31:14.198 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:31:15.298 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52089 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 15:31:15.299 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000240B9EABF70>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x00000240B9D3F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 161, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x00000240B47894C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x00000240B46685E0>
           └ <SpawnProcess name='SpawnProcess-38' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000240B4673C10>
    └ <SpawnProcess name='SpawnProcess-38' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000240B479E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-38' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-38' parent=3284 started>
    │    └ <function subprocess_started at 0x00000240B66B4EE0>
    └ <SpawnProcess name='SpawnProcess-38' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=444, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000240B479E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=444, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000240B66B40D0>
           │       │   └ <uvicorn.server.Server object at 0x00000240B479E460>
           │       └ <function run at 0x00000240B634C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000240B784A340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000240B634D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000240B634D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000240B63504C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000240B62BE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000240B9EABB80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000240B9EABB80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000240B9EABB80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000240B9EABB80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000240B787FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000240B9...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000240B6FE2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000240B787FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000240B9...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000240B9...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000240B9E1E760>
          └ <fastapi.applications.FastAPI object at 0x00000240B6FE2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000240B6C649D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000240B9E1E160>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000240B9E1E760>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000240B6C649D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000240B769BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000240B9E1E160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000240B9E1E160...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000240B9E199D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000240B9E1E160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000240B9E1E160...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000240B9E4DCD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000240B767E400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000240B9E199D0>
          └ <function wrap_app_handling_exceptions at 0x00000240B745E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000240B9E05EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000240B767E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000240B9E05EE0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000240B767E400>>
          └ <fastapi.routing.APIRouter object at 0x00000240B767E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000240B9E05EE0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000240B740FD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000240B9E05EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000240B9E05310>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000240B9E05EE0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000240B9E4DF40>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000240B9E050D0>
          └ <function wrap_app_handling_exceptions at 0x00000240B745E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000240B9E210D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000240B9E050D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000240B9E4DF40>
                     └ <function get_request_handler.<locals>.app at 0x00000240B9E05160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000240B74028B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x00000240B73755E0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000240B9E19BE0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x00000240B71DEEB0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x00000240B9D42B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 74, in wrapper
    logger.error(f"操作{cls.model.__name__}失败, args：{[*args]}, kwargs：{kwargs}, "
    │      └ <function Logger.error at 0x00000240B767CA60>
    └ <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='E:\ProgramCode\python\brisk\logs\info.log'),...

AttributeError: 'bool' object has no attribute '__name__'
2024-03-10 15:31:15.334 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000240B9EABF70>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x00000240B9D3F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 161, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x00000240B47894C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x00000240B46685E0>
           └ <SpawnProcess name='SpawnProcess-38' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000240B4673C10>
    └ <SpawnProcess name='SpawnProcess-38' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000240B479E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-38' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-38' parent=3284 started>
    │    └ <function subprocess_started at 0x00000240B66B4EE0>
    └ <SpawnProcess name='SpawnProcess-38' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=444, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000240B479E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=444, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000240B66B40D0>
           │       │   └ <uvicorn.server.Server object at 0x00000240B479E460>
           │       └ <function run at 0x00000240B634C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000240B784A340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000240B634D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000240B634D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000240B63504C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000240B62BE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000240B9EABB80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000240B9EABB80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000240B9EABB80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000240B9EABB80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000240B787FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000240B9...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000240B6FE2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000240B787FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000240B9...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000240B9...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000240B9E1E760>
          └ <fastapi.applications.FastAPI object at 0x00000240B6FE2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000240B6C649D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000240B9E1E160>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000240B9E1E760>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000240B6C649D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000240B769BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000240B9E1E160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000240B9E1E160...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000240B9E199D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000240B9E1E160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000240B9E1E160...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000240B9E4DCD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000240B767E400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000240B9E199D0>
          └ <function wrap_app_handling_exceptions at 0x00000240B745E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000240B9E05EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000240B767E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000240B9E05EE0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000240B767E400>>
          └ <fastapi.routing.APIRouter object at 0x00000240B767E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000240B9E05EE0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000240B740FD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000240B9E05EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000240B9E05310>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000240B9E05EE0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000240B9E4DF40>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000240B9E050D0>
          └ <function wrap_app_handling_exceptions at 0x00000240B745E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000240B9E210D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000240B9E050D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000240B9E4DF40>
                     └ <function get_request_handler.<locals>.app at 0x00000240B9E05160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000240B74028B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x00000240B73755E0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000240B9E19BE0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x00000240B71DEEB0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x00000240B9D42B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 74, in wrapper
    logger.error(f"操作{cls.model.__name__}失败, args：{[*args]}, kwargs：{kwargs}, "
    │      └ <function Logger.error at 0x00000240B767CA60>
    └ <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='E:\ProgramCode\python\brisk\logs\info.log'),...

AttributeError: 'bool' object has no attribute '__name__'
2024-03-10 15:31:50.219 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 15:31:50.220 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 15:32:28.731 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:32:28.732 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:32:28.840 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:32:28.841 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:32:28.842 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:32:28.844 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:32:28.845 | INFO     | uvicorn.server:serve:87 - Finished server process [2992]
2024-03-10 15:32:28.845 | INFO     | uvicorn.server:serve:87 - Finished server process [2992]
2024-03-10 15:32:30.521 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:32:30.522 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:32:30.522 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:32:30.523 | INFO     | uvicorn.server:serve:77 - Started server process [7592]
2024-03-10 15:32:30.524 | INFO     | uvicorn.server:serve:77 - Started server process [7592]
2024-03-10 15:32:30.524 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:32:30.524 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:32:30.525 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:32:30.527 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:32:30.527 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:32:31.473 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52103 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 15:32:31.475 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001D4F2E8BF70>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000001D4F2D1F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 161, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 320
               │     └ 3
               └ <function _main at 0x000001D4ED7694C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 320
           │    └ <function BaseProcess._bootstrap at 0x000001D4ED6485E0>
           └ <SpawnProcess name='SpawnProcess-39' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001D4ED653C10>
    └ <SpawnProcess name='SpawnProcess-39' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001D4ED77E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-39' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-39' parent=3284 started>
    │    └ <function subprocess_started at 0x000001D4EF694EE0>
    └ <SpawnProcess name='SpawnProcess-39' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=448, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001D4ED77E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=448, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001D4EF6940D0>
           │       │   └ <uvicorn.server.Server object at 0x000001D4ED77E460>
           │       └ <function run at 0x000001D4EF32C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001D4F0829340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001D4EF32D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001D4EF32D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001D4EF3304C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001D4EF29E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001D4F2E8BB80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001D4F2E8BB80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001D4F2E8BB80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001D4F2E8BB80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001D4F085FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D4F2...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001D4EFFC2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001D4F085FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D4F2...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D4F2...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001D4F2DFE760>
          └ <fastapi.applications.FastAPI object at 0x000001D4EFFC2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001D4EFC449D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001D4F2DFE790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001D4F2DFE760>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001D4EFC449D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001D4F067BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001D4F2DFE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001D4F2DFE790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001D4F2DF99D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001D4F2DFE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001D4F2DFE790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001D4F2E2DCD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001D4F065E400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001D4F2DF99D0>
          └ <function wrap_app_handling_exceptions at 0x000001D4F043E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001D4F2DE5EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001D4F065E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001D4F2DE5EE0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001D4F065E400>>
          └ <fastapi.routing.APIRouter object at 0x000001D4F065E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001D4F2DE5EE0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001D4F03ECD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001D4F2DE5EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001D4F2DE5310>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001D4F2DE5EE0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001D4F2E2DF40>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001D4F2DE50D0>
          └ <function wrap_app_handling_exceptions at 0x000001D4F043E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001D4F2E010D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001D4F2DE50D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001D4F2E2DF40>
                     └ <function get_request_handler.<locals>.app at 0x000001D4F2DE5160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001D4F03E28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001D4F034F5E0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001D4F2DF9BE0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001D4F034EEB0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x000001D4F2D22B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 74, in wrapper
    logger.error(f"操作{cls.model}失败, args：{[*args]}, kwargs：{kwargs}, "
    │      └ <function Logger.error at 0x000001D4F065CA60>
    └ <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='E:\ProgramCode\python\brisk\logs\info.log'),...

AttributeError: 'bool' object has no attribute '__name__'
2024-03-10 15:32:31.512 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001D4F2E8BF70>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000001D4F2D1F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 161, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 320
               │     └ 3
               └ <function _main at 0x000001D4ED7694C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 320
           │    └ <function BaseProcess._bootstrap at 0x000001D4ED6485E0>
           └ <SpawnProcess name='SpawnProcess-39' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001D4ED653C10>
    └ <SpawnProcess name='SpawnProcess-39' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001D4ED77E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-39' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-39' parent=3284 started>
    │    └ <function subprocess_started at 0x000001D4EF694EE0>
    └ <SpawnProcess name='SpawnProcess-39' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=448, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001D4ED77E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=448, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001D4EF6940D0>
           │       │   └ <uvicorn.server.Server object at 0x000001D4ED77E460>
           │       └ <function run at 0x000001D4EF32C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001D4F0829340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001D4EF32D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001D4EF32D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001D4EF3304C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001D4EF29E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001D4F2E8BB80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001D4F2E8BB80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001D4F2E8BB80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001D4F2E8BB80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001D4F085FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D4F2...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001D4EFFC2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001D4F085FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D4F2...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D4F2...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001D4F2DFE760>
          └ <fastapi.applications.FastAPI object at 0x000001D4EFFC2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001D4EFC449D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001D4F2DFE790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001D4F2DFE760>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001D4EFC449D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001D4F067BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001D4F2DFE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001D4F2DFE790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001D4F2DF99D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001D4F2DFE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001D4F2DFE790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001D4F2E2DCD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001D4F065E400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001D4F2DF99D0>
          └ <function wrap_app_handling_exceptions at 0x000001D4F043E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001D4F2DE5EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001D4F065E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001D4F2DE5EE0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001D4F065E400>>
          └ <fastapi.routing.APIRouter object at 0x000001D4F065E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001D4F2DE5EE0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001D4F03ECD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001D4F2DE5EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001D4F2DE5310>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001D4F2DE5EE0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001D4F2E2DF40>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001D4F2DE50D0>
          └ <function wrap_app_handling_exceptions at 0x000001D4F043E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001D4F2E010D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001D4F2DE50D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001D4F2E2DF40>
                     └ <function get_request_handler.<locals>.app at 0x000001D4F2DE5160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001D4F03E28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001D4F034F5E0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001D4F2DF9BE0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001D4F034EEB0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x000001D4F2D22B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 74, in wrapper
    logger.error(f"操作{cls.model}失败, args：{[*args]}, kwargs：{kwargs}, "
    │      └ <function Logger.error at 0x000001D4F065CA60>
    └ <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='E:\ProgramCode\python\brisk\logs\info.log'),...

AttributeError: 'bool' object has no attribute '__name__'
2024-03-10 15:32:55.651 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:32:55.651 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:32:55.760 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:32:55.761 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:32:55.761 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:32:55.762 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:32:55.762 | INFO     | uvicorn.server:serve:87 - Finished server process [7592]
2024-03-10 15:32:55.763 | INFO     | uvicorn.server:serve:87 - Finished server process [7592]
2024-03-10 15:32:57.237 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:32:57.237 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:32:57.239 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:32:57.239 | INFO     | uvicorn.server:serve:77 - Started server process [11728]
2024-03-10 15:32:57.240 | INFO     | uvicorn.server:serve:77 - Started server process [11728]
2024-03-10 15:32:57.240 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:32:57.241 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:32:57.241 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:32:57.242 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:32:57.242 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:32:57.334 | ERROR    | app.crud:wrapper:74 - 操作Address失败, args：[], kwargs：{'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}, True方法报错: 'NoneType' object is not callable
2024-03-10 15:32:57.334 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52106 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 15:32:57.336 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000021B59B72B50>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x0000021B59A0F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 161, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000021B544594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000021B543285E0>
           └ <SpawnProcess name='SpawnProcess-40' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000021B54333C10>
    └ <SpawnProcess name='SpawnProcess-40' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000021B5446E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-40' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-40' parent=3284 started>
    │    └ <function subprocess_started at 0x0000021B56384EE0>
    └ <SpawnProcess name='SpawnProcess-40' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=808, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000021B5446E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=808, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000021B563840D0>
           │       │   └ <uvicorn.server.Server object at 0x0000021B5446E460>
           │       └ <function run at 0x0000021B5601C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000021B57559340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000021B5601D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000021B5601D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021B560204C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021B55F8E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021B59AE3B20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000021B59AE3B20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000021B59AE3B20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021B59AE3B20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021B57575AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021B59...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000021B56CB2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021B57575AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021B59...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021B59...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021B59AEA7C0>
          └ <fastapi.applications.FastAPI object at 0x0000021B56CB2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021B59ADDCA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021B59AE3C10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021B59AEA7C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021B59ADDCA0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000021B5736BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021B59AE3C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000021B59AE3C10...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021B59AE0D00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021B59AE3C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000021B59AE3C10...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000021B59B05820>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021B5734F400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021B59AE0D00>
          └ <function wrap_app_handling_exceptions at 0x0000021B5712D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021B59ADDEE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000021B5734F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021B59ADDEE0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021B5734F400>>
          └ <fastapi.routing.APIRouter object at 0x0000021B5734F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021B59ADDEE0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000021B570DBD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021B59ADDEE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000021B59ADD0D0>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021B59ADDEE0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000021B59B05A90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021B59ADDF70>
          └ <function wrap_app_handling_exceptions at 0x0000021B5712D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021B59AF1160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000021B59ADDF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000021B59B05A90>
                     └ <function get_request_handler.<locals>.app at 0x0000021B59ADD280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000021B570DA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000021B57042310>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000021B59AEE250>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x0000021B57045940>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x0000021B59A12B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 76, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 15:32:57.369 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000021B59B72B50>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x0000021B59A0F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 161, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000021B544594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000021B543285E0>
           └ <SpawnProcess name='SpawnProcess-40' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000021B54333C10>
    └ <SpawnProcess name='SpawnProcess-40' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000021B5446E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-40' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-40' parent=3284 started>
    │    └ <function subprocess_started at 0x0000021B56384EE0>
    └ <SpawnProcess name='SpawnProcess-40' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=808, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000021B5446E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=808, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000021B563840D0>
           │       │   └ <uvicorn.server.Server object at 0x0000021B5446E460>
           │       └ <function run at 0x0000021B5601C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000021B57559340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000021B5601D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000021B5601D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021B560204C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021B55F8E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021B59AE3B20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000021B59AE3B20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000021B59AE3B20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021B59AE3B20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021B57575AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021B59...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000021B56CB2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021B57575AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021B59...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021B59...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021B59AEA7C0>
          └ <fastapi.applications.FastAPI object at 0x0000021B56CB2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021B59ADDCA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021B59AE3C10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021B59AEA7C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021B59ADDCA0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000021B5736BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021B59AE3C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000021B59AE3C10...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021B59AE0D00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021B59AE3C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000021B59AE3C10...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000021B59B05820>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021B5734F400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021B59AE0D00>
          └ <function wrap_app_handling_exceptions at 0x0000021B5712D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021B59ADDEE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000021B5734F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021B59ADDEE0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021B5734F400>>
          └ <fastapi.routing.APIRouter object at 0x0000021B5734F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021B59ADDEE0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000021B570DBD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021B59ADDEE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000021B59ADD0D0>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021B59ADDEE0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000021B59B05A90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021B59ADDF70>
          └ <function wrap_app_handling_exceptions at 0x0000021B5712D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021B59AF1160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000021B59ADDF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000021B59B05A90>
                     └ <function get_request_handler.<locals>.app at 0x0000021B59ADD280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000021B570DA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000021B57042310>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000021B59AEE250>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x0000021B57045940>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x0000021B59A12B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 76, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 15:36:45.952 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:36:45.953 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:36:46.061 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:36:46.062 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:36:46.063 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:36:46.063 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:36:46.064 | INFO     | uvicorn.server:serve:87 - Finished server process [11728]
2024-03-10 15:36:46.065 | INFO     | uvicorn.server:serve:87 - Finished server process [11728]
2024-03-10 15:36:47.418 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:36:47.418 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:36:47.419 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:36:47.419 | INFO     | uvicorn.server:serve:77 - Started server process [10020]
2024-03-10 15:36:47.420 | INFO     | uvicorn.server:serve:77 - Started server process [10020]
2024-03-10 15:36:47.420 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:36:47.421 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:36:47.421 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:36:47.422 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:36:47.422 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:36:49.765 | ERROR    | app.crud:wrapper:74 - 操作Address失败, args：[], kwargs：{'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}, True方法报错: 'NoneType' object is not callable
2024-03-10 15:36:49.766 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52125 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 15:36:49.767 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C23109BF70>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000001C230F2F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 162, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000001C22B9794C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000001C22B8585E0>
           └ <SpawnProcess name='SpawnProcess-41' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C22B863C10>
    └ <SpawnProcess name='SpawnProcess-41' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C22B98E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-41' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-41' parent=3284 started>
    │    └ <function subprocess_started at 0x000001C22D8A4EE0>
    └ <SpawnProcess name='SpawnProcess-41' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C22B98E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C22D8A40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C22B98E460>
           │       └ <function run at 0x000001C22D53C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C22EA3B340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C22D53D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C22D53D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C22D5404C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C22D4AE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C23109BB80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001C23109BB80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001C23109BB80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C23109BB80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C22EA6DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C231...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C22E1D2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C22EA6DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C231...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C231...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C23100E760>
          └ <fastapi.applications.FastAPI object at 0x000001C22E1D2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C22DE529D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C23100E790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C23100E760>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C22DE529D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001C22E88BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C23100E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C23100E790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C231009130>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C23100E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C23100E790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C23103DCD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C22E86F400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C231009130>
          └ <function wrap_app_handling_exceptions at 0x000001C22E639790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C230FF5EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C22E86F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C230FF5EE0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C22E86F400>>
          └ <fastapi.routing.APIRouter object at 0x000001C22E86F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C230FF5EE0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C22E5FFD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C230FF5EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C230FF5310>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C230FF5EE0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C23103DF40>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C230FF50D0>
          └ <function wrap_app_handling_exceptions at 0x000001C22E639790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C2310110D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C230FF50D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C23103DF40>
                     └ <function get_request_handler.<locals>.app at 0x000001C230FF5160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001C22E60B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001C22E55F5E0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001C231009BE0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001C22E55BEB0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x000001C230F32B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 77, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 15:36:49.807 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C23109BF70>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000001C230F2F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 162, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000001C22B9794C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000001C22B8585E0>
           └ <SpawnProcess name='SpawnProcess-41' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C22B863C10>
    └ <SpawnProcess name='SpawnProcess-41' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C22B98E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-41' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-41' parent=3284 started>
    │    └ <function subprocess_started at 0x000001C22D8A4EE0>
    └ <SpawnProcess name='SpawnProcess-41' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C22B98E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C22D8A40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C22B98E460>
           │       └ <function run at 0x000001C22D53C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C22EA3B340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C22D53D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C22D53D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C22D5404C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C22D4AE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C23109BB80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001C23109BB80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001C23109BB80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C23109BB80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C22EA6DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C231...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C22E1D2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C22EA6DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C231...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C231...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C23100E760>
          └ <fastapi.applications.FastAPI object at 0x000001C22E1D2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C22DE529D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C23100E790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C23100E760>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C22DE529D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001C22E88BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C23100E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C23100E790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C231009130>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C23100E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C23100E790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C23103DCD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C22E86F400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C231009130>
          └ <function wrap_app_handling_exceptions at 0x000001C22E639790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C230FF5EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C22E86F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C230FF5EE0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C22E86F400>>
          └ <fastapi.routing.APIRouter object at 0x000001C22E86F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C230FF5EE0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C22E5FFD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C230FF5EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C230FF5310>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C230FF5EE0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C23103DF40>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C230FF50D0>
          └ <function wrap_app_handling_exceptions at 0x000001C22E639790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C2310110D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C230FF50D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C23103DF40>
                     └ <function get_request_handler.<locals>.app at 0x000001C230FF5160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001C22E60B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001C22E55F5E0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001C231009BE0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001C22E55BEB0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x000001C230F32B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 77, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 15:40:00.989 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:40:00.989 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:40:01.100 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:40:01.100 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:40:01.101 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:40:01.101 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:40:01.102 | INFO     | uvicorn.server:serve:87 - Finished server process [10020]
2024-03-10 15:40:01.102 | INFO     | uvicorn.server:serve:87 - Finished server process [10020]
2024-03-10 15:40:03.563 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:40:03.564 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:40:03.564 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:40:03.565 | INFO     | uvicorn.server:serve:77 - Started server process [11180]
2024-03-10 15:40:03.565 | INFO     | uvicorn.server:serve:77 - Started server process [11180]
2024-03-10 15:40:03.566 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:40:03.566 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:40:03.567 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:40:03.567 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:40:03.567 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:40:07.762 | DEBUG    | app.crud:wrapper:71 - 121212
2024-03-10 15:40:07.770 | ERROR    | app.crud:wrapper:76 - 操作Address失败, args：[], kwargs：{'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}, True方法报错: 'NoneType' object is not callable
2024-03-10 15:40:07.791 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52144 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 15:40:07.798 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 73, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002128C91BF70>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000002128C7AC670>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 164, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000212871F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000212870F85E0>
           └ <SpawnProcess name='SpawnProcess-43' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000021287103C10>
    └ <SpawnProcess name='SpawnProcess-43' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002128720E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-43' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-43' parent=3284 started>
    │    └ <function subprocess_started at 0x0000021289114EE0>
    └ <SpawnProcess name='SpawnProcess-43' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002128720E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000212891140D0>
           │       │   └ <uvicorn.server.Server object at 0x000002128720E460>
           │       └ <function run at 0x0000021288DAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002128A2A8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000021288DAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000021288DAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021288DB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021288D1E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002128C91BB80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002128C91BB80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002128C91BB80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002128C91BB80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002128A2DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002128C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000021289A42FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002128A2DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002128C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002128C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002128C88C760>
          └ <fastapi.applications.FastAPI object at 0x0000021289A42FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000212896C49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002128C88C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002128C88C760>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000212896C49D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000002128A0FBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002128C88C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002128C88C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002128C8889D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002128C88C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002128C88C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002128C8BDCD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002128A0DE400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002128C8889D0>
          └ <function wrap_app_handling_exceptions at 0x0000021289E9B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002128C87DE50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002128A0DE400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002128C87DE50>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002128A0DE400>>
          └ <fastapi.routing.APIRouter object at 0x000002128A0DE400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002128C87DE50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000021289E70D30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002128C87DE50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002128C87DCA0>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002128C87DE50>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002128C8BDF40>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002128C87D1F0>
          └ <function wrap_app_handling_exceptions at 0x0000021289E9B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002128C890040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002128C87D1F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002128C8BDF40>
                     └ <function get_request_handler.<locals>.app at 0x000002128C87D160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000021289E7B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000021289DCF670>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002128C888BE0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x0000021289DCEEB0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x000002128C7B2B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 79, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 15:40:07.861 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 73, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002128C91BF70>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000002128C7AC670>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 164, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000212871F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000212870F85E0>
           └ <SpawnProcess name='SpawnProcess-43' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000021287103C10>
    └ <SpawnProcess name='SpawnProcess-43' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002128720E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-43' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-43' parent=3284 started>
    │    └ <function subprocess_started at 0x0000021289114EE0>
    └ <SpawnProcess name='SpawnProcess-43' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002128720E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000212891140D0>
           │       │   └ <uvicorn.server.Server object at 0x000002128720E460>
           │       └ <function run at 0x0000021288DAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002128A2A8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000021288DAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000021288DAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021288DB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021288D1E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002128C91BB80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002128C91BB80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002128C91BB80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002128C91BB80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002128A2DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002128C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000021289A42FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002128A2DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002128C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002128C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002128C88C760>
          └ <fastapi.applications.FastAPI object at 0x0000021289A42FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000212896C49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002128C88C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002128C88C760>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000212896C49D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000002128A0FBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002128C88C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002128C88C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002128C8889D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002128C88C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002128C88C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002128C8BDCD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002128A0DE400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002128C8889D0>
          └ <function wrap_app_handling_exceptions at 0x0000021289E9B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002128C87DE50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002128A0DE400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002128C87DE50>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002128A0DE400>>
          └ <fastapi.routing.APIRouter object at 0x000002128A0DE400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002128C87DE50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000021289E70D30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002128C87DE50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002128C87DCA0>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002128C87DE50>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002128C8BDF40>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002128C87D1F0>
          └ <function wrap_app_handling_exceptions at 0x0000021289E9B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002128C890040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002128C87D1F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002128C8BDF40>
                     └ <function get_request_handler.<locals>.app at 0x000002128C87D160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000021289E7B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000021289DCF670>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002128C888BE0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x0000021289DCEEB0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x000002128C7B2B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 79, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 15:42:54.810 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:42:54.812 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:42:54.920 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:42:54.920 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:42:54.921 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:42:54.922 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:42:54.923 | INFO     | uvicorn.server:serve:87 - Finished server process [11180]
2024-03-10 15:42:54.924 | INFO     | uvicorn.server:serve:87 - Finished server process [11180]
2024-03-10 15:42:57.183 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:42:57.184 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:42:57.184 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:42:57.186 | INFO     | uvicorn.server:serve:77 - Started server process [12820]
2024-03-10 15:42:57.186 | INFO     | uvicorn.server:serve:77 - Started server process [12820]
2024-03-10 15:42:57.187 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:42:57.187 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:42:57.188 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:42:57.189 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:42:57.190 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:43:01.752 | ERROR    | app.crud:wrapper:74 - 操作Address失败, args：[], kwargs：{'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}, True方法报错: 'NoneType' object is not callable
2024-03-10 15:43:01.755 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52162 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 15:43:01.759 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026D478DE0D0>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x0000026D47FDF5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 162, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x0000026D42A294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x0000026D429085E0>
           └ <SpawnProcess name='SpawnProcess-44' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000026D42913C10>
    └ <SpawnProcess name='SpawnProcess-44' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000026D42A3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-44' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-44' parent=3284 started>
    │    └ <function subprocess_started at 0x0000026D44954EE0>
    └ <SpawnProcess name='SpawnProcess-44' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000026D42A3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000026D449540D0>
           │       │   └ <uvicorn.server.Server object at 0x0000026D42A3E460>
           │       └ <function run at 0x0000026D445EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000026D45AE9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000026D445ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000026D445ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000026D445F14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000026D4455E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026D48122520>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000026D48122520>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000026D48122520>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026D48122520>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026D45B1FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026D48...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000026D45282FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026D45B1FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026D48...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026D48...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026D480B9850>
          └ <fastapi.applications.FastAPI object at 0x0000026D45282FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026D44F039D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026D480B2C10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026D480B9850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026D44F039D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000026D4593BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026D480B2C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026D480B2C10...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026D480B0D00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026D480B2C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026D480B2C10...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000026D480D5AC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000026D4591F400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026D480B0D00>
          └ <function wrap_app_handling_exceptions at 0x0000026D456DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026D480ADD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000026D4591F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026D480ADD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000026D4591F400>>
          └ <fastapi.routing.APIRouter object at 0x0000026D4591F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026D480ADD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000026D456ABD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026D480ADD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000026D480AD0D0>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026D480ADD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000026D480D5D30>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026D480AD160>
          └ <function wrap_app_handling_exceptions at 0x0000026D456DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026D480ADF70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000026D480AD160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000026D480D5D30>
                     └ <function get_request_handler.<locals>.app at 0x0000026D480AD280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000026D456A28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000026D45618310>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000026D480BC250>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x0000026D45610940>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x0000026D47FE2B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 77, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 15:43:01.805 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026D478DE0D0>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x0000026D47FDF5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 162, in create
    model_object = cls.__model__(**object_dict)
                   │   │           └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1'}
                   │   └ None
                   └ <class 'app.crud.config.address.AddressCRUD'>

TypeError: 'NoneType' object is not callable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x0000026D42A294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x0000026D429085E0>
           └ <SpawnProcess name='SpawnProcess-44' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000026D42913C10>
    └ <SpawnProcess name='SpawnProcess-44' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000026D42A3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-44' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-44' parent=3284 started>
    │    └ <function subprocess_started at 0x0000026D44954EE0>
    └ <SpawnProcess name='SpawnProcess-44' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000026D42A3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000026D449540D0>
           │       │   └ <uvicorn.server.Server object at 0x0000026D42A3E460>
           │       └ <function run at 0x0000026D445EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000026D45AE9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000026D445ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000026D445ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000026D445F14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000026D4455E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026D48122520>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000026D48122520>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000026D48122520>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026D48122520>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026D45B1FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026D48...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000026D45282FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026D45B1FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026D48...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026D48...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026D480B9850>
          └ <fastapi.applications.FastAPI object at 0x0000026D45282FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026D44F039D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026D480B2C10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026D480B9850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026D44F039D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000026D4593BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026D480B2C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026D480B2C10...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026D480B0D00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026D480B2C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026D480B2C10...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000026D480D5AC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000026D4591F400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026D480B0D00>
          └ <function wrap_app_handling_exceptions at 0x0000026D456DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026D480ADD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000026D4591F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026D480ADD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000026D4591F400>>
          └ <fastapi.routing.APIRouter object at 0x0000026D4591F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026D480ADD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000026D456ABD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026D480ADD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000026D480AD0D0>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026D480ADD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000026D480D5D30>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026D480AD160>
          └ <function wrap_app_handling_exceptions at 0x0000026D456DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026D480ADF70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000026D480AD160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000026D480D5D30>
                     └ <function get_request_handler.<locals>.app at 0x0000026D480AD280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000026D456A28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000026D45618310>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000026D480BC250>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x0000026D45610940>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x0000026D47FE2B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 77, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 15:44:38.559 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:44:38.560 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:44:38.693 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:44:38.693 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:44:38.694 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:44:38.694 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:44:38.695 | INFO     | uvicorn.server:serve:87 - Finished server process [12820]
2024-03-10 15:44:38.695 | INFO     | uvicorn.server:serve:87 - Finished server process [12820]
2024-03-10 15:44:40.649 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:44:40.649 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:44:40.650 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:44:40.651 | INFO     | uvicorn.server:serve:77 - Started server process [8348]
2024-03-10 15:44:40.652 | INFO     | uvicorn.server:serve:77 - Started server process [8348]
2024-03-10 15:44:40.652 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:44:40.653 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:44:40.653 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:44:40.654 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:44:40.655 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:44:42.610 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52172 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 15:44:42.615 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000018CB7948EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000018CB79877C0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000018CB7FAF490>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', '5c1ba81e-388f-47f4-9d41-36416e0ffe28', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000018CB7DBAB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', '5c1ba81e-388f-47f4-9d41-36416e0ffe28', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000018CB7DBACA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000018CB7FE6C40>
           └ <_AsyncIoGreenlet object at 0x0000018CB7FEB580 (otid=0x0000018CB6243030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000018CB7FE6BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', '5c1ba81e-388f-47f4-9d41-36416e0ffe28', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x0000018CB7E57160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000018CB7...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x0000018CB7E620D0>
          └ <aiomysql.connection.Connection object at 0x0000018CB7F535B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000018CB7E62820>
          └ <aiomysql.connection.Connection object at 0x0000018CB7F535B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000018CB7E63430>
          └ <aiomysql.connection.MySQLResult object at 0x0000018CB7FD69A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000018CB7FD69A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000018CB7E34790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000018CB7FD6A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000018CB7FD6A60>
    │   └ <function raise_mysql_exception at 0x0000018CB7DE31F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'create_user' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018CB679E0D0>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x0000018CB7E6F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 164, in create
    await session.commit()
          │       └ <function AsyncSession.commit at 0x0000018CB7D32AF0>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018CB679E0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0x0000018CB7C564C0>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x0000018CB7FAFBE0>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018CB679E0D0>
          └ <function greenlet_spawn at 0x0000018CB63C2CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 199, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x0000018CB7FEB580 (otid=0x0000018CB6243030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x0000018CB7C54700>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018CB7FEB680>

  File "<string>", line 2, in commit

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018CB7FEB680>
                └ <function SessionTransaction.commit at 0x0000018CB7C54670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x0000018CB7C545E0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018CB7FEB680>

  File "<string>", line 2, in _prepare_impl

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018CB7FEB680>
                └ <function SessionTransaction._prepare_impl at 0x0000018CB7C544C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x0000018CB7C5E280>
    │    └ <sqlalchemy.orm.session.Session object at 0x0000018CB7FAFBE0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018CB7FEB680>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x0000018CB7C5E430>
    └ <sqlalchemy.orm.session.Session object at 0x0000018CB7FAFBE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x0000018CB7C54940>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018CB7FEB3C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x0000018CB8012640>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x0000018CB7C495E0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x0000018CB7FAF640>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x0000018CB7FAF640>
    │   └ <function SaveUpdateAll.execute at 0x0000018CB7C49EE0>
    └ SaveUpdateAll(Mapper[Address(brisk_address)])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x0000018CB7C1E5E0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\orm\\persist...
    │    └ <module 'sqlalchemy.util.preloaded' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\preload...
    └ <module 'sqlalchemy.util' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x0000018CB7C27CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x0000018CB7884940>
             └ <sqlalchemy.engine.base.Connection object at 0x0000018CB7FAF490>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x0000018CB7FD67F0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x0000018CB7884C10>
           └ <sqlalchemy.engine.base.Connection object at 0x0000018CB7FAF490>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x0000018CB7884DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x0000018CB7FAF490>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x0000018CB7884E50>
           └ <sqlalchemy.engine.base.Connection object at 0x0000018CB7FAF490>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x0000018CB78870D0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000018CB7FAF490>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'create_user' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'create_user' cannot be null"), <traceback object at 0x00...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000018CB7948EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000018CB79877C0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000018CB7FAF490>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', '5c1ba81e-388f-47f4-9d41-36416e0ffe28', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000018CB7DBAB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', '5c1ba81e-388f-47f4-9d41-36416e0ffe28', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000018CB7DBACA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000018CB7FE6C40>
           └ <_AsyncIoGreenlet object at 0x0000018CB7FEB580 (otid=0x0000018CB6243030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000018CB7FE6BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', '5c1ba81e-388f-47f4-9d41-36416e0ffe28', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x0000018CB7E57160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000018CB7...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x0000018CB7E620D0>
          └ <aiomysql.connection.Connection object at 0x0000018CB7F535B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000018CB7E62820>
          └ <aiomysql.connection.Connection object at 0x0000018CB7F535B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000018CB7E63430>
          └ <aiomysql.connection.MySQLResult object at 0x0000018CB7FD69A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000018CB7FD69A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000018CB7E34790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000018CB7FD6A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000018CB7FD6A60>
    │   └ <function raise_mysql_exception at 0x0000018CB7DE31F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'create_user' cannot be null")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', '5c1ba81e-388f-47f4-9d41-36416e0ffe28', None, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x0000018CB28C94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x0000018CB27C85E0>
           └ <SpawnProcess name='SpawnProcess-46' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000018CB27D3C10>
    └ <SpawnProcess name='SpawnProcess-46' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000018CB28DE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-46' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-46' parent=3284 started>
    │    └ <function subprocess_started at 0x0000018CB47E4EE0>
    └ <SpawnProcess name='SpawnProcess-46' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000018CB28DE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000018CB47E40D0>
           │       │   └ <uvicorn.server.Server object at 0x0000018CB28DE460>
           │       └ <function run at 0x0000018CB447C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000018CB5978340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000018CB447D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000018CB447D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000018CB44804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000018CB43EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018CB7FAF730>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000018CB7FAF730>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000018CB7FAF730>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018CB7FAF730>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000018CB59AAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018CB7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000018CB5112FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000018CB59AAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018CB7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018CB7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018CB7F4FDC0>
          └ <fastapi.applications.FastAPI object at 0x0000018CB5112FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018CB4D949D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018CB7F4FEE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018CB7F4FDC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018CB4D949D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000018CB57CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018CB7F4FEE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018CB7F4FEE0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018CB7F4FE20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018CB7F4FEE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018CB7F4FEE0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000018CB7F66E50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000018CB57AF280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018CB7F4FE20>
          └ <function wrap_app_handling_exceptions at 0x0000018CB556B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018CB7F52310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000018CB57AF280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018CB7F52310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000018CB57AF280>>
          └ <fastapi.routing.APIRouter object at 0x0000018CB57AF280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018CB7F52310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000018CB5545D30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018CB7F52310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000018CB7F3DE50>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018CB7F52310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000018CB7FAF040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000018CB7F52160>
          └ <function wrap_app_handling_exceptions at 0x0000018CB556B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018CB7F52430>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000018CB7F52160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000018CB7FAF040>
                     └ <function get_request_handler.<locals>.app at 0x0000018CB7F3DD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000018CB55468B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000018CB7F14EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000018CB7F537C0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x0000018CB549F940>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x0000018CB7E72B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 74, in wrapper
    logger.error(f"操作{cls.model.__name__}失败, args：{[*args]}, kwargs：{kwargs}, "
    │      └ <function Logger.error at 0x0000018CB57AEA60>
    └ <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='E:\ProgramCode\python\brisk\logs\info.log'),...

AttributeError: type object 'AddressCRUD' has no attribute 'model'
2024-03-10 15:44:43.002 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000018CB7948EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000018CB79877C0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000018CB7FAF490>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', '5c1ba81e-388f-47f4-9d41-36416e0ffe28', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000018CB7DBAB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', '5c1ba81e-388f-47f4-9d41-36416e0ffe28', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000018CB7DBACA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000018CB7FE6C40>
           └ <_AsyncIoGreenlet object at 0x0000018CB7FEB580 (otid=0x0000018CB6243030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000018CB7FE6BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', '5c1ba81e-388f-47f4-9d41-36416e0ffe28', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x0000018CB7E57160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000018CB7...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x0000018CB7E620D0>
          └ <aiomysql.connection.Connection object at 0x0000018CB7F535B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000018CB7E62820>
          └ <aiomysql.connection.Connection object at 0x0000018CB7F535B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000018CB7E63430>
          └ <aiomysql.connection.MySQLResult object at 0x0000018CB7FD69A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000018CB7FD69A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000018CB7E34790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000018CB7FD6A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000018CB7FD6A60>
    │   └ <function raise_mysql_exception at 0x0000018CB7DE31F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'create_user' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018CB679E0D0>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x0000018CB7E6F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 164, in create
    await session.commit()
          │       └ <function AsyncSession.commit at 0x0000018CB7D32AF0>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018CB679E0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0x0000018CB7C564C0>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x0000018CB7FAFBE0>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018CB679E0D0>
          └ <function greenlet_spawn at 0x0000018CB63C2CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 199, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x0000018CB7FEB580 (otid=0x0000018CB6243030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x0000018CB7C54700>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018CB7FEB680>

  File "<string>", line 2, in commit

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018CB7FEB680>
                └ <function SessionTransaction.commit at 0x0000018CB7C54670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x0000018CB7C545E0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018CB7FEB680>

  File "<string>", line 2, in _prepare_impl

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018CB7FEB680>
                └ <function SessionTransaction._prepare_impl at 0x0000018CB7C544C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x0000018CB7C5E280>
    │    └ <sqlalchemy.orm.session.Session object at 0x0000018CB7FAFBE0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018CB7FEB680>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x0000018CB7C5E430>
    └ <sqlalchemy.orm.session.Session object at 0x0000018CB7FAFBE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x0000018CB7C54940>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018CB7FEB3C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x0000018CB8012640>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x0000018CB7C495E0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x0000018CB7FAF640>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x0000018CB7FAF640>
    │   └ <function SaveUpdateAll.execute at 0x0000018CB7C49EE0>
    └ SaveUpdateAll(Mapper[Address(brisk_address)])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x0000018CB7C1E5E0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\orm\\persist...
    │    └ <module 'sqlalchemy.util.preloaded' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\preload...
    └ <module 'sqlalchemy.util' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x0000018CB7C27CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x0000018CB7884940>
             └ <sqlalchemy.engine.base.Connection object at 0x0000018CB7FAF490>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x0000018CB7FD67F0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x0000018CB7884C10>
           └ <sqlalchemy.engine.base.Connection object at 0x0000018CB7FAF490>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x0000018CB7884DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x0000018CB7FAF490>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x0000018CB7884E50>
           └ <sqlalchemy.engine.base.Connection object at 0x0000018CB7FAF490>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x0000018CB78870D0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000018CB7FAF490>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'create_user' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'create_user' cannot be null"), <traceback object at 0x00...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000018CB7948EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000018CB79877C0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000018CB7FAF490>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', '5c1ba81e-388f-47f4-9d41-36416e0ffe28', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000018CB7DBAB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', '5c1ba81e-388f-47f4-9d41-36416e0ffe28', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000018CB7DBACA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000018CB7FE6C40>
           └ <_AsyncIoGreenlet object at 0x0000018CB7FEB580 (otid=0x0000018CB6243030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000018CB7FE6BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', '5c1ba81e-388f-47f4-9d41-36416e0ffe28', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000018CB7FE9D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x0000018CB7E57160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000018CB7...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x0000018CB7E620D0>
          └ <aiomysql.connection.Connection object at 0x0000018CB7F535B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000018CB7E62820>
          └ <aiomysql.connection.Connection object at 0x0000018CB7F535B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000018CB7E63430>
          └ <aiomysql.connection.MySQLResult object at 0x0000018CB7FD69A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000018CB7FD69A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000018CB7E34790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000018CB7FD6A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000018CB7FD6A60>
    │   └ <function raise_mysql_exception at 0x0000018CB7DE31F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'create_user' cannot be null")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', '5c1ba81e-388f-47f4-9d41-36416e0ffe28', None, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x0000018CB28C94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x0000018CB27C85E0>
           └ <SpawnProcess name='SpawnProcess-46' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000018CB27D3C10>
    └ <SpawnProcess name='SpawnProcess-46' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000018CB28DE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-46' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-46' parent=3284 started>
    │    └ <function subprocess_started at 0x0000018CB47E4EE0>
    └ <SpawnProcess name='SpawnProcess-46' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000018CB28DE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000018CB47E40D0>
           │       │   └ <uvicorn.server.Server object at 0x0000018CB28DE460>
           │       └ <function run at 0x0000018CB447C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000018CB5978340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000018CB447D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000018CB447D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000018CB44804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000018CB43EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018CB7FAF730>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000018CB7FAF730>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000018CB7FAF730>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018CB7FAF730>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000018CB59AAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018CB7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000018CB5112FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000018CB59AAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018CB7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018CB7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018CB7F4FDC0>
          └ <fastapi.applications.FastAPI object at 0x0000018CB5112FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018CB4D949D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018CB7F4FEE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018CB7F4FDC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018CB4D949D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000018CB57CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018CB7F4FEE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018CB7F4FEE0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018CB7F4FE20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018CB7F4FEE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018CB7F4FEE0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000018CB7F66E50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000018CB57AF280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018CB7F4FE20>
          └ <function wrap_app_handling_exceptions at 0x0000018CB556B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018CB7F52310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000018CB57AF280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018CB7F52310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000018CB57AF280>>
          └ <fastapi.routing.APIRouter object at 0x0000018CB57AF280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018CB7F52310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000018CB5545D30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018CB7F52310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000018CB7F3DE50>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018CB7F52310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000018CB7FAF040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000018CB7F52160>
          └ <function wrap_app_handling_exceptions at 0x0000018CB556B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018CB7F52430>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000018CB7F52160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000018CB7FAF040>
                     └ <function get_request_handler.<locals>.app at 0x0000018CB7F3DD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000018CB55468B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000018CB7F14EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000018CB7F537C0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x0000018CB549F940>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x0000018CB7E72B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 74, in wrapper
    logger.error(f"操作{cls.model.__name__}失败, args：{[*args]}, kwargs：{kwargs}, "
    │      └ <function Logger.error at 0x0000018CB57AEA60>
    └ <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='E:\ProgramCode\python\brisk\logs\info.log'),...

AttributeError: type object 'AddressCRUD' has no attribute 'model'
2024-03-10 15:47:17.040 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:47:17.041 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:47:17.192 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:47:17.193 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:47:17.193 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:47:17.194 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:47:17.196 | INFO     | uvicorn.server:serve:87 - Finished server process [8348]
2024-03-10 15:47:17.196 | INFO     | uvicorn.server:serve:87 - Finished server process [8348]
2024-03-10 15:47:18.951 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:47:18.951 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:47:18.952 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:47:18.952 | INFO     | uvicorn.server:serve:77 - Started server process [3476]
2024-03-10 15:47:18.953 | INFO     | uvicorn.server:serve:77 - Started server process [3476]
2024-03-10 15:47:18.953 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:47:18.954 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:47:18.954 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:47:18.955 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:47:18.956 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:47:19.113 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52200 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 15:47:19.114 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x00000118E7C18EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x00000118E7C57790>
    └ <sqlalchemy.engine.base.Connection object at 0x00000118E829E1C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', '654679d9-276a-4d69-a695-4063cffb30b2', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x00000118E808CB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', '654679d9-276a-4d69-a695-4063cffb30b2', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x00000118E808CCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x00000118E82B4CC0>
           └ <_AsyncIoGreenlet object at 0x00000118E8271F00 (otid=0x00000118E6513030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x00000118E82B4C40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', '654679d9-276a-4d69-a695-4063cffb30b2', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x00000118E8127160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x00000118E8...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x00000118E81320D0>
          └ <aiomysql.connection.Connection object at 0x00000118E822FF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x00000118E8132820>
          └ <aiomysql.connection.Connection object at 0x00000118E822FF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x00000118E8133430>
          └ <aiomysql.connection.MySQLResult object at 0x00000118E8279A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x00000118E8279A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x00000118E8105790>
    └ <pymysql.protocol.MysqlPacket object at 0x00000118E82795B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x00000118E82795B0>
    │   └ <function raise_mysql_exception at 0x00000118E80B41F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'create_user' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000118E7A3E0D0>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x00000118E813F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 164, in create
    await session.commit()
          │       └ <function AsyncSession.commit at 0x00000118E8000AF0>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000118E7A3E0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0x00000118E7F264C0>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x00000118E82AA8E0>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000118E7A3E0D0>
          └ <function greenlet_spawn at 0x00000118E6692CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 199, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x00000118E8271F00 (otid=0x00000118E6513030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x00000118E7F23700>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x00000118E8271F40>

  File "<string>", line 2, in commit

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x00000118E8271F40>
                └ <function SessionTransaction.commit at 0x00000118E7F23670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x00000118E7F235E0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x00000118E8271F40>

  File "<string>", line 2, in _prepare_impl

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x00000118E8271F40>
                └ <function SessionTransaction._prepare_impl at 0x00000118E7F234C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x00000118E7F2E280>
    │    └ <sqlalchemy.orm.session.Session object at 0x00000118E82AA8E0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x00000118E8271F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x00000118E7F2E430>
    └ <sqlalchemy.orm.session.Session object at 0x00000118E82AA8E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x00000118E7F23940>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x00000118E8271EC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x00000118E82E7580>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x00000118E7F195E0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x00000118E82AAFA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x00000118E82AAFA0>
    │   └ <function SaveUpdateAll.execute at 0x00000118E7F19EE0>
    └ SaveUpdateAll(Mapper[Address(brisk_address)])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x00000118E7EEE5E0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\orm\\persist...
    │    └ <module 'sqlalchemy.util.preloaded' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\preload...
    └ <module 'sqlalchemy.util' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x00000118E7EF7CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x00000118E7B54940>
             └ <sqlalchemy.engine.base.Connection object at 0x00000118E829E1C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x00000118E8279A00>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x00000118E7B54C10>
           └ <sqlalchemy.engine.base.Connection object at 0x00000118E829E1C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x00000118E7B54DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x00000118E829E1C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x00000118E7B54E50>
           └ <sqlalchemy.engine.base.Connection object at 0x00000118E829E1C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x00000118E7B560D0>
    └ <sqlalchemy.engine.base.Connection object at 0x00000118E829E1C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'create_user' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'create_user' cannot be null"), <traceback object at 0x00...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x00000118E7C18EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x00000118E7C57790>
    └ <sqlalchemy.engine.base.Connection object at 0x00000118E829E1C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', '654679d9-276a-4d69-a695-4063cffb30b2', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x00000118E808CB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', '654679d9-276a-4d69-a695-4063cffb30b2', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x00000118E808CCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x00000118E82B4CC0>
           └ <_AsyncIoGreenlet object at 0x00000118E8271F00 (otid=0x00000118E6513030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x00000118E82B4C40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', '654679d9-276a-4d69-a695-4063cffb30b2', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x00000118E8127160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x00000118E8...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x00000118E81320D0>
          └ <aiomysql.connection.Connection object at 0x00000118E822FF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x00000118E8132820>
          └ <aiomysql.connection.Connection object at 0x00000118E822FF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x00000118E8133430>
          └ <aiomysql.connection.MySQLResult object at 0x00000118E8279A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x00000118E8279A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x00000118E8105790>
    └ <pymysql.protocol.MysqlPacket object at 0x00000118E82795B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x00000118E82795B0>
    │   └ <function raise_mysql_exception at 0x00000118E80B41F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'create_user' cannot be null")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', '654679d9-276a-4d69-a695-4063cffb30b2', None, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x00000118E2B894C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x00000118E2A685E0>
           └ <SpawnProcess name='SpawnProcess-47' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000118E2A73C10>
    └ <SpawnProcess name='SpawnProcess-47' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000118E2B9E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-47' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-47' parent=3284 started>
    │    └ <function subprocess_started at 0x00000118E4AB4EE0>
    └ <SpawnProcess name='SpawnProcess-47' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000118E2B9E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000118E4AB40D0>
           │       │   └ <uvicorn.server.Server object at 0x00000118E2B9E460>
           │       └ <function run at 0x00000118E474C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000118E5C48340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000118E474D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000118E474D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000118E47504C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000118E46BE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000118E82796A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000118E82796A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000118E82796A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000118E82796A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000118E5C7AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000118E8...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000118E53E2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000118E5C7AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000118E8...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000118E8...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000118E821D760>
          └ <fastapi.applications.FastAPI object at 0x00000118E53E2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000118E8205F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000118E821D790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000118E821D760>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000118E8205F70>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000118E5A9BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000118E821D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000118E821D790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000118E82189D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000118E821D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000118E821D790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000118E824DFA0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000118E5A7E400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000118E82189D0>
          └ <function wrap_app_handling_exceptions at 0x00000118E585D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000118E8220040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000118E5A7E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000118E8220040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000118E5A7E400>>
          └ <fastapi.routing.APIRouter object at 0x00000118E5A7E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000118E8220040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000118E5808D30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000118E8220040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000118E8205310>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000118E8220040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000118E8279250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000118E82200D0>
          └ <function wrap_app_handling_exceptions at 0x00000118E585D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000118E82201F0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000118E82200D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000118E8279250>
                     └ <function get_request_handler.<locals>.app at 0x00000118E8205160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000118E581A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x00000118E576F5E0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000118E8218BE0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x00000118E578CEB0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x00000118E8142B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 77, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 15:47:19.189 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x00000118E7C18EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x00000118E7C57790>
    └ <sqlalchemy.engine.base.Connection object at 0x00000118E829E1C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', '654679d9-276a-4d69-a695-4063cffb30b2', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x00000118E808CB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', '654679d9-276a-4d69-a695-4063cffb30b2', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x00000118E808CCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x00000118E82B4CC0>
           └ <_AsyncIoGreenlet object at 0x00000118E8271F00 (otid=0x00000118E6513030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x00000118E82B4C40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', '654679d9-276a-4d69-a695-4063cffb30b2', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x00000118E8127160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x00000118E8...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x00000118E81320D0>
          └ <aiomysql.connection.Connection object at 0x00000118E822FF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x00000118E8132820>
          └ <aiomysql.connection.Connection object at 0x00000118E822FF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x00000118E8133430>
          └ <aiomysql.connection.MySQLResult object at 0x00000118E8279A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x00000118E8279A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x00000118E8105790>
    └ <pymysql.protocol.MysqlPacket object at 0x00000118E82795B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x00000118E82795B0>
    │   └ <function raise_mysql_exception at 0x00000118E80B41F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'create_user' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000118E7A3E0D0>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x00000118E813F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 164, in create
    await session.commit()
          │       └ <function AsyncSession.commit at 0x00000118E8000AF0>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000118E7A3E0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0x00000118E7F264C0>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x00000118E82AA8E0>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000118E7A3E0D0>
          └ <function greenlet_spawn at 0x00000118E6692CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 199, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x00000118E8271F00 (otid=0x00000118E6513030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x00000118E7F23700>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x00000118E8271F40>

  File "<string>", line 2, in commit

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x00000118E8271F40>
                └ <function SessionTransaction.commit at 0x00000118E7F23670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x00000118E7F235E0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x00000118E8271F40>

  File "<string>", line 2, in _prepare_impl

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x00000118E8271F40>
                └ <function SessionTransaction._prepare_impl at 0x00000118E7F234C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x00000118E7F2E280>
    │    └ <sqlalchemy.orm.session.Session object at 0x00000118E82AA8E0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x00000118E8271F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x00000118E7F2E430>
    └ <sqlalchemy.orm.session.Session object at 0x00000118E82AA8E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x00000118E7F23940>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x00000118E8271EC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x00000118E82E7580>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x00000118E7F195E0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x00000118E82AAFA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x00000118E82AAFA0>
    │   └ <function SaveUpdateAll.execute at 0x00000118E7F19EE0>
    └ SaveUpdateAll(Mapper[Address(brisk_address)])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x00000118E7EEE5E0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\orm\\persist...
    │    └ <module 'sqlalchemy.util.preloaded' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\preload...
    └ <module 'sqlalchemy.util' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x00000118E7EF7CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x00000118E7B54940>
             └ <sqlalchemy.engine.base.Connection object at 0x00000118E829E1C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x00000118E8279A00>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x00000118E7B54C10>
           └ <sqlalchemy.engine.base.Connection object at 0x00000118E829E1C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x00000118E7B54DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x00000118E829E1C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x00000118E7B54E50>
           └ <sqlalchemy.engine.base.Connection object at 0x00000118E829E1C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x00000118E7B560D0>
    └ <sqlalchemy.engine.base.Connection object at 0x00000118E829E1C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'create_user' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'create_user' cannot be null"), <traceback object at 0x00...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x00000118E7C18EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x00000118E7C57790>
    └ <sqlalchemy.engine.base.Connection object at 0x00000118E829E1C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', '654679d9-276a-4d69-a695-4063cffb30b2', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x00000118E808CB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', '654679d9-276a-4d69-a695-4063cffb30b2', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x00000118E808CCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x00000118E82B4CC0>
           └ <_AsyncIoGreenlet object at 0x00000118E8271F00 (otid=0x00000118E6513030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x00000118E82B4C40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', '654679d9-276a-4d69-a695-4063cffb30b2', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x00000118E82E6400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x00000118E8127160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x00000118E8...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x00000118E81320D0>
          └ <aiomysql.connection.Connection object at 0x00000118E822FF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x00000118E8132820>
          └ <aiomysql.connection.Connection object at 0x00000118E822FF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x00000118E8133430>
          └ <aiomysql.connection.MySQLResult object at 0x00000118E8279A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x00000118E8279A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x00000118E8105790>
    └ <pymysql.protocol.MysqlPacket object at 0x00000118E82795B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x00000118E82795B0>
    │   └ <function raise_mysql_exception at 0x00000118E80B41F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'create_user' cannot be null")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', '654679d9-276a-4d69-a695-4063cffb30b2', None, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x00000118E2B894C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x00000118E2A685E0>
           └ <SpawnProcess name='SpawnProcess-47' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000118E2A73C10>
    └ <SpawnProcess name='SpawnProcess-47' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000118E2B9E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-47' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-47' parent=3284 started>
    │    └ <function subprocess_started at 0x00000118E4AB4EE0>
    └ <SpawnProcess name='SpawnProcess-47' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000118E2B9E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000118E4AB40D0>
           │       │   └ <uvicorn.server.Server object at 0x00000118E2B9E460>
           │       └ <function run at 0x00000118E474C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000118E5C48340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000118E474D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000118E474D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000118E47504C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000118E46BE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000118E82796A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000118E82796A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000118E82796A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000118E82796A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000118E5C7AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000118E8...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000118E53E2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000118E5C7AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000118E8...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000118E8...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000118E821D760>
          └ <fastapi.applications.FastAPI object at 0x00000118E53E2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000118E8205F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000118E821D790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000118E821D760>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000118E8205F70>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000118E5A9BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000118E821D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000118E821D790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000118E82189D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000118E821D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000118E821D790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000118E824DFA0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000118E5A7E400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000118E82189D0>
          └ <function wrap_app_handling_exceptions at 0x00000118E585D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000118E8220040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000118E5A7E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000118E8220040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000118E5A7E400>>
          └ <fastapi.routing.APIRouter object at 0x00000118E5A7E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000118E8220040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000118E5808D30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000118E8220040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000118E8205310>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000118E8220040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000118E8279250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000118E82200D0>
          └ <function wrap_app_handling_exceptions at 0x00000118E585D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000118E82201F0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000011...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000118E82200D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000118E8279250>
                     └ <function get_request_handler.<locals>.app at 0x00000118E8205160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000118E581A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x00000118E576F5E0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000118E8218BE0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x00000118E578CEB0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x00000118E8142B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 77, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 15:55:55.778 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:55:55.779 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 15:55:55.886 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:55:55.887 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 15:55:55.888 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:55:55.889 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 15:55:55.890 | INFO     | uvicorn.server:serve:87 - Finished server process [3476]
2024-03-10 15:55:55.890 | INFO     | uvicorn.server:serve:87 - Finished server process [3476]
2024-03-10 15:55:57.718 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 15:55:57.718 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 15:55:57.719 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 15:55:57.720 | INFO     | uvicorn.server:serve:77 - Started server process [4104]
2024-03-10 15:55:57.720 | INFO     | uvicorn.server:serve:77 - Started server process [4104]
2024-03-10 15:55:57.720 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:55:57.721 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 15:55:57.721 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 15:55:57.722 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:55:57.723 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 15:55:59.371 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52221 - "POST /api/v1/config/gateway HTTP/1.1" 403
2024-03-10 16:01:49.777 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 16:01:49.781 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 16:04:44.106 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:04:44.106 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:04:44.216 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:04:44.217 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:04:44.218 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:04:44.218 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:04:44.218 | INFO     | uvicorn.server:serve:87 - Finished server process [4104]
2024-03-10 16:04:44.219 | INFO     | uvicorn.server:serve:87 - Finished server process [4104]
2024-03-10 16:04:45.775 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:04:45.776 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:04:45.776 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:04:45.777 | INFO     | uvicorn.server:serve:77 - Started server process [10008]
2024-03-10 16:04:45.777 | INFO     | uvicorn.server:serve:77 - Started server process [10008]
2024-03-10 16:04:45.777 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:04:45.778 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:04:45.778 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:04:45.779 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:04:45.779 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:04:57.350 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52297 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-10 16:05:15.022 | ERROR    | app.crud:wrapper:74 - 操作AddressCRUD失败, args：[], kwargs：{'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}, True方法报错: (pymysql.err.IntegrityError) (1048, "Column 'create_user' cannot be null")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 16:05:15.023 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52299 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 16:05:15.023 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000028D41D08EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000028D41D47790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000028D423B4040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000028D4213DB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000028D4213DCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000028D423B35C0>
           └ <_AsyncIoGreenlet object at 0x0000028D42362480 (otid=0x0000028D40603030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000028D423B3340>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x0000028D42217160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000028D42...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x0000028D422220D0>
          └ <aiomysql.connection.Connection object at 0x0000028D4231FF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000028D42222820>
          └ <aiomysql.connection.Connection object at 0x0000028D4231FF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000028D42223430>
          └ <aiomysql.connection.MySQLResult object at 0x0000028D423B4280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000028D423B4280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000028D421F5790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000028D423DB190>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000028D423DB190>
    │   └ <function raise_mysql_exception at 0x0000028D421A41F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'create_user' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000028D423B4520>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x0000028D4222F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 165, in create
    await session.commit()
          │       └ <function AsyncSession.commit at 0x0000028D420F0AF0>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000028D423B4520>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0x0000028D420164C0>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x0000028D423B49A0>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000028D423B4520>
          └ <function greenlet_spawn at 0x0000028D40782CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 199, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x0000028D42362480 (otid=0x0000028D40603030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x0000028D42013700>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000028D42362200>

  File "<string>", line 2, in commit

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000028D42362200>
                └ <function SessionTransaction.commit at 0x0000028D42013670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x0000028D420135E0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000028D42362200>

  File "<string>", line 2, in _prepare_impl

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000028D42362200>
                └ <function SessionTransaction._prepare_impl at 0x0000028D420134C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x0000028D4201E280>
    │    └ <sqlalchemy.orm.session.Session object at 0x0000028D423B49A0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000028D42362200>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x0000028D4201E430>
    └ <sqlalchemy.orm.session.Session object at 0x0000028D423B49A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x0000028D42013940>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000028D42362BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x0000028D423EB740>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x0000028D420095E0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x0000028D423B4640>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x0000028D423B4640>
    │   └ <function SaveUpdateAll.execute at 0x0000028D42009EE0>
    └ SaveUpdateAll(Mapper[Address(brisk_address)])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x0000028D41FDE5E0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\orm\\persist...
    │    └ <module 'sqlalchemy.util.preloaded' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\preload...
    └ <module 'sqlalchemy.util' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x0000028D41FE7CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x0000028D41C44940>
             └ <sqlalchemy.engine.base.Connection object at 0x0000028D423B4040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x0000028D42395F70>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x0000028D41C44C10>
           └ <sqlalchemy.engine.base.Connection object at 0x0000028D423B4040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x0000028D41C44DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x0000028D423B4040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x0000028D41C44E50>
           └ <sqlalchemy.engine.base.Connection object at 0x0000028D423B4040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x0000028D41C460D0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000028D423B4040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'create_user' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'create_user' cannot be null"), <traceback object at 0x00...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000028D41D08EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000028D41D47790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000028D423B4040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000028D4213DB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000028D4213DCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000028D423B35C0>
           └ <_AsyncIoGreenlet object at 0x0000028D42362480 (otid=0x0000028D40603030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000028D423B3340>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x0000028D42217160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000028D42...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x0000028D422220D0>
          └ <aiomysql.connection.Connection object at 0x0000028D4231FF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000028D42222820>
          └ <aiomysql.connection.Connection object at 0x0000028D4231FF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000028D42223430>
          └ <aiomysql.connection.MySQLResult object at 0x0000028D423B4280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000028D423B4280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000028D421F5790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000028D423DB190>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000028D423DB190>
    │   └ <function raise_mysql_exception at 0x0000028D421A41F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'create_user' cannot be null")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000028D3CC894C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000028D3CB885E0>
           └ <SpawnProcess name='SpawnProcess-49' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000028D3CB93C10>
    └ <SpawnProcess name='SpawnProcess-49' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000028D3CC9E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-49' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-49' parent=3284 started>
    │    └ <function subprocess_started at 0x0000028D3EBA4EE0>
    └ <SpawnProcess name='SpawnProcess-49' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=580, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000028D3CC9E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=580, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000028D3EBA40D0>
           │       │   └ <uvicorn.server.Server object at 0x0000028D3CC9E460>
           │       └ <function run at 0x0000028D3E83C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000028D3FD38340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000028D3E83D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000028D3E83D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000028D3E8404C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000028D3E7AE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028D423B48B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000028D423B48B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000028D423B48B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028D423B48B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000028D3FD6FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028D42...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000028D3F4D2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000028D3FD6FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028D42...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028D42...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028D4230E9A0>
          └ <fastapi.applications.FastAPI object at 0x0000028D3F4D2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000028D3F1539D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028D4230E310>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028D4230E9A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000028D3F1539D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000028D3FB8BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028D4230E310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000028D4230E310...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028D42309AC0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028D4230E310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000028D4230E310...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000028D4233DD30>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000028D3FB6E400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028D42309AC0>
          └ <function wrap_app_handling_exceptions at 0x0000028D3F92B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028D422F5EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000028D3FB6E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028D422F5EE0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000028D3FB6E400>>
          └ <fastapi.routing.APIRouter object at 0x0000028D3FB6E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028D422F5EE0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000028D3F8F6D30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028D422F5EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000028D422F5310>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028D422F5EE0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000028D4233DEE0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000028D422F50D0>
          └ <function wrap_app_handling_exceptions at 0x0000028D3F92B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028D42310160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000028D422F50D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000028D4233DEE0>
                     └ <function get_request_handler.<locals>.app at 0x0000028D422F5160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000028D3F90D8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000028D3F85F5E0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000028D42309B20>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x0000028D3F87CF70>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x0000028D42232B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 77, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 16:05:15.102 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000028D41D08EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000028D41D47790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000028D423B4040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000028D4213DB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000028D4213DCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000028D423B35C0>
           └ <_AsyncIoGreenlet object at 0x0000028D42362480 (otid=0x0000028D40603030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000028D423B3340>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x0000028D42217160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000028D42...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x0000028D422220D0>
          └ <aiomysql.connection.Connection object at 0x0000028D4231FF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000028D42222820>
          └ <aiomysql.connection.Connection object at 0x0000028D4231FF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000028D42223430>
          └ <aiomysql.connection.MySQLResult object at 0x0000028D423B4280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000028D423B4280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000028D421F5790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000028D423DB190>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000028D423DB190>
    │   └ <function raise_mysql_exception at 0x0000028D421A41F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'create_user' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000028D423B4520>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x0000028D4222F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 165, in create
    await session.commit()
          │       └ <function AsyncSession.commit at 0x0000028D420F0AF0>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000028D423B4520>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0x0000028D420164C0>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x0000028D423B49A0>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000028D423B4520>
          └ <function greenlet_spawn at 0x0000028D40782CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 199, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x0000028D42362480 (otid=0x0000028D40603030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x0000028D42013700>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000028D42362200>

  File "<string>", line 2, in commit

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000028D42362200>
                └ <function SessionTransaction.commit at 0x0000028D42013670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x0000028D420135E0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000028D42362200>

  File "<string>", line 2, in _prepare_impl

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000028D42362200>
                └ <function SessionTransaction._prepare_impl at 0x0000028D420134C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x0000028D4201E280>
    │    └ <sqlalchemy.orm.session.Session object at 0x0000028D423B49A0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000028D42362200>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x0000028D4201E430>
    └ <sqlalchemy.orm.session.Session object at 0x0000028D423B49A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x0000028D42013940>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000028D42362BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x0000028D423EB740>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x0000028D420095E0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x0000028D423B4640>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x0000028D423B4640>
    │   └ <function SaveUpdateAll.execute at 0x0000028D42009EE0>
    └ SaveUpdateAll(Mapper[Address(brisk_address)])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x0000028D41FDE5E0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\orm\\persist...
    │    └ <module 'sqlalchemy.util.preloaded' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\preload...
    └ <module 'sqlalchemy.util' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x0000028D41FE7CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x0000028D41C44940>
             └ <sqlalchemy.engine.base.Connection object at 0x0000028D423B4040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x0000028D42395F70>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x0000028D41C44C10>
           └ <sqlalchemy.engine.base.Connection object at 0x0000028D423B4040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x0000028D41C44DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x0000028D423B4040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x0000028D41C44E50>
           └ <sqlalchemy.engine.base.Connection object at 0x0000028D423B4040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x0000028D41C460D0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000028D423B4040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'create_user' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'create_user' cannot be null"), <traceback object at 0x00...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000028D41D08EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000028D41D47790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000028D423B4040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000028D4213DB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000028D4213DCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000028D423B35C0>
           └ <_AsyncIoGreenlet object at 0x0000028D42362480 (otid=0x0000028D40603030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000028D423B3340>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000028D423DA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x0000028D42217160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000028D42...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x0000028D422220D0>
          └ <aiomysql.connection.Connection object at 0x0000028D4231FF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000028D42222820>
          └ <aiomysql.connection.Connection object at 0x0000028D4231FF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000028D42223430>
          └ <aiomysql.connection.MySQLResult object at 0x0000028D423B4280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000028D423B4280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000028D421F5790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000028D423DB190>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000028D423DB190>
    │   └ <function raise_mysql_exception at 0x0000028D421A41F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'create_user' cannot be null")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', 'e65bdec0-1ae8-49ee-bd07-4d47c8d4597f', None, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000028D3CC894C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000028D3CB885E0>
           └ <SpawnProcess name='SpawnProcess-49' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000028D3CB93C10>
    └ <SpawnProcess name='SpawnProcess-49' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000028D3CC9E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-49' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-49' parent=3284 started>
    │    └ <function subprocess_started at 0x0000028D3EBA4EE0>
    └ <SpawnProcess name='SpawnProcess-49' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=580, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000028D3CC9E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=580, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000028D3EBA40D0>
           │       │   └ <uvicorn.server.Server object at 0x0000028D3CC9E460>
           │       └ <function run at 0x0000028D3E83C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000028D3FD38340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000028D3E83D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000028D3E83D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000028D3E8404C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000028D3E7AE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028D423B48B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000028D423B48B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000028D423B48B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028D423B48B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000028D3FD6FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028D42...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000028D3F4D2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000028D3FD6FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028D42...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028D42...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028D4230E9A0>
          └ <fastapi.applications.FastAPI object at 0x0000028D3F4D2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000028D3F1539D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028D4230E310>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028D4230E9A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000028D3F1539D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000028D3FB8BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028D4230E310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000028D4230E310...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028D42309AC0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028D4230E310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000028D4230E310...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000028D4233DD30>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000028D3FB6E400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028D42309AC0>
          └ <function wrap_app_handling_exceptions at 0x0000028D3F92B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028D422F5EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000028D3FB6E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028D422F5EE0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000028D3FB6E400>>
          └ <fastapi.routing.APIRouter object at 0x0000028D3FB6E400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028D422F5EE0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000028D3F8F6D30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028D422F5EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000028D422F5310>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028D422F5EE0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000028D4233DEE0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000028D422F50D0>
          └ <function wrap_app_handling_exceptions at 0x0000028D3F92B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028D42310160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000028D422F50D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000028D4233DEE0>
                     └ <function get_request_handler.<locals>.app at 0x0000028D422F5160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000028D3F90D8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000028D3F85F5E0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000028D42309B20>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x0000028D3F87CF70>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x0000028D42232B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 77, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 16:05:29.004 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:05:29.008 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:05:29.113 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:05:29.115 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:05:29.120 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:05:29.123 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:05:29.125 | INFO     | uvicorn.server:serve:87 - Finished server process [10008]
2024-03-10 16:05:29.127 | INFO     | uvicorn.server:serve:87 - Finished server process [10008]
2024-03-10 16:05:30.563 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:05:30.564 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:05:30.565 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:05:30.566 | INFO     | uvicorn.server:serve:77 - Started server process [11684]
2024-03-10 16:05:30.566 | INFO     | uvicorn.server:serve:77 - Started server process [11684]
2024-03-10 16:05:30.566 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:05:30.567 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:05:30.567 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:05:30.568 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:05:30.568 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:05:31.889 | ERROR    | app.crud:wrapper:74 - 操作AddressCRUD失败, args：[], kwargs：{'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}, True方法报错: (pymysql.err.IntegrityError) (1048, "Column 'create_user' cannot be null")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 16:05:31.891 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52305 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 16:05:31.892 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001835F9D8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001835FA17790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000018360042130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001835FE4DB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001835FE4DCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000018360076C40>
           └ <_AsyncIoGreenlet object at 0x0000018360031480 (otid=0x000001835E2D3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000018360076BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x000001835FEE7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000018360...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x000001835FEF20D0>
          └ <aiomysql.connection.Connection object at 0x000001835FFD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001835FEF2820>
          └ <aiomysql.connection.Connection object at 0x000001835FFD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001835FEF3430>
          └ <aiomysql.connection.MySQLResult object at 0x000001836006C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001836006C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001835FEC5790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001836006CA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001836006CA90>
    │   └ <function raise_mysql_exception at 0x000001835FE741F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'create_user' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001835F7FE0D0>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000001835FEFF5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 165, in create
    await session.commit()
          │       └ <function AsyncSession.commit at 0x000001835FDC2AF0>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001835F7FE0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0x000001835FCE84C0>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x0000018360042880>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001835F7FE0D0>
          └ <function greenlet_spawn at 0x000001835E452CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 199, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x0000018360031480 (otid=0x000001835E2D3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x000001835FCE4700>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018360031340>

  File "<string>", line 2, in commit

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018360031340>
                └ <function SessionTransaction.commit at 0x000001835FCE4670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x000001835FCE45E0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018360031340>

  File "<string>", line 2, in _prepare_impl

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018360031340>
                └ <function SessionTransaction._prepare_impl at 0x000001835FCE44C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x000001835FCEE280>
    │    └ <sqlalchemy.orm.session.Session object at 0x0000018360042880>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018360031340>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x000001835FCEE430>
    └ <sqlalchemy.orm.session.Session object at 0x0000018360042880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x000001835FCE4940>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018360031400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x00000183600A28C0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x000001835FCD95E0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x00000183600422E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x00000183600422E0>
    │   └ <function SaveUpdateAll.execute at 0x000001835FCD9EE0>
    └ SaveUpdateAll(Mapper[Address(brisk_address)])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x000001835FCAE5E0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\orm\\persist...
    │    └ <module 'sqlalchemy.util.preloaded' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\preload...
    └ <module 'sqlalchemy.util' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x000001835FCB7CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x000001835F914940>
             └ <sqlalchemy.engine.base.Connection object at 0x0000018360042130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x000001836006C820>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000001835F914C10>
           └ <sqlalchemy.engine.base.Connection object at 0x0000018360042130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000001835F914DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x0000018360042130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000001835F914E50>
           └ <sqlalchemy.engine.base.Connection object at 0x0000018360042130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000001835F9170D0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000018360042130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'create_user' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'create_user' cannot be null"), <traceback object at 0x00...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001835F9D8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001835FA17790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000018360042130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001835FE4DB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001835FE4DCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000018360076C40>
           └ <_AsyncIoGreenlet object at 0x0000018360031480 (otid=0x000001835E2D3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000018360076BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x000001835FEE7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000018360...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x000001835FEF20D0>
          └ <aiomysql.connection.Connection object at 0x000001835FFD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001835FEF2820>
          └ <aiomysql.connection.Connection object at 0x000001835FFD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001835FEF3430>
          └ <aiomysql.connection.MySQLResult object at 0x000001836006C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001836006C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001835FEC5790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001836006CA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001836006CA90>
    │   └ <function raise_mysql_exception at 0x000001835FE741F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'create_user' cannot be null")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000001835A9494C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000001835A8185E0>
           └ <SpawnProcess name='SpawnProcess-50' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001835A823C10>
    └ <SpawnProcess name='SpawnProcess-50' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001835A95E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-50' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-50' parent=3284 started>
    │    └ <function subprocess_started at 0x000001835C874EE0>
    └ <SpawnProcess name='SpawnProcess-50' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001835A95E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001835C8740D0>
           │       │   └ <uvicorn.server.Server object at 0x000001835A95E460>
           │       └ <function run at 0x000001835C50C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001835DA06340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001835C50D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001835C50D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001835C5104C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001835C47E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000183600423D0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000183600423D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000183600423D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000183600423D0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001835DA3DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001835F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001835D1A2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001835DA3DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001835F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001835F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001835FFD37F0>
          └ <fastapi.applications.FastAPI object at 0x000001835D1A2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001835CE239D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001835D491250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001835FFD37F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001835CE239D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001835D85BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001835D491250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001835D491250...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001835D491670>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001835D491250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001835D491250...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001835FFF4AF0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001835D83F400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001835D491670>
          └ <function wrap_app_handling_exceptions at 0x000001835D61E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001835FFCDD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001835D83F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001835FFCDD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001835D83F400>>
          └ <fastapi.routing.APIRouter object at 0x000001835D83F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001835FFCDD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001835D5CBD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001835FFCDD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001835FFCD0D0>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001835FFCDD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001835FFF4D60>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001835FFCD160>
          └ <function wrap_app_handling_exceptions at 0x000001835D61E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001835FFCDF70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001835FFCD160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001835FFF4D60>
                     └ <function get_request_handler.<locals>.app at 0x000001835FFCD280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001835D5C28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001835D52F310>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001835FFDD160>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001835D535970>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x000001835FF02B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 77, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 16:05:31.985 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001835F9D8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001835FA17790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000018360042130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001835FE4DB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001835FE4DCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000018360076C40>
           └ <_AsyncIoGreenlet object at 0x0000018360031480 (otid=0x000001835E2D3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000018360076BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x000001835FEE7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000018360...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x000001835FEF20D0>
          └ <aiomysql.connection.Connection object at 0x000001835FFD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001835FEF2820>
          └ <aiomysql.connection.Connection object at 0x000001835FFD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001835FEF3430>
          └ <aiomysql.connection.MySQLResult object at 0x000001836006C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001836006C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001835FEC5790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001836006CA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001836006CA90>
    │   └ <function raise_mysql_exception at 0x000001835FE741F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'create_user' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001835F7FE0D0>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000001835FEFF5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 165, in create
    await session.commit()
          │       └ <function AsyncSession.commit at 0x000001835FDC2AF0>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001835F7FE0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0x000001835FCE84C0>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x0000018360042880>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001835F7FE0D0>
          └ <function greenlet_spawn at 0x000001835E452CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 199, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x0000018360031480 (otid=0x000001835E2D3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x000001835FCE4700>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018360031340>

  File "<string>", line 2, in commit

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018360031340>
                └ <function SessionTransaction.commit at 0x000001835FCE4670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x000001835FCE45E0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018360031340>

  File "<string>", line 2, in _prepare_impl

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018360031340>
                └ <function SessionTransaction._prepare_impl at 0x000001835FCE44C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x000001835FCEE280>
    │    └ <sqlalchemy.orm.session.Session object at 0x0000018360042880>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018360031340>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x000001835FCEE430>
    └ <sqlalchemy.orm.session.Session object at 0x0000018360042880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x000001835FCE4940>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x0000018360031400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x00000183600A28C0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x000001835FCD95E0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x00000183600422E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x00000183600422E0>
    │   └ <function SaveUpdateAll.execute at 0x000001835FCD9EE0>
    └ SaveUpdateAll(Mapper[Address(brisk_address)])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x000001835FCAE5E0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\orm\\persist...
    │    └ <module 'sqlalchemy.util.preloaded' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\preload...
    └ <module 'sqlalchemy.util' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x000001835FCB7CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x000001835F914940>
             └ <sqlalchemy.engine.base.Connection object at 0x0000018360042130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x000001836006C820>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000001835F914C10>
           └ <sqlalchemy.engine.base.Connection object at 0x0000018360042130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000001835F914DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x0000018360042130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000001835F914E50>
           └ <sqlalchemy.engine.base.Connection object at 0x0000018360042130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000001835F9170D0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000018360042130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'create_user' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'create_user' cannot be null"), <traceback object at 0x00...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001835F9D8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001835FA17790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000018360042130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001835FE4DB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001835FE4DCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000018360076C40>
           └ <_AsyncIoGreenlet object at 0x0000018360031480 (otid=0x000001835E2D3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000018360076BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001836007AEA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x000001835FEE7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000018360...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x000001835FEF20D0>
          └ <aiomysql.connection.Connection object at 0x000001835FFD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001835FEF2820>
          └ <aiomysql.connection.Connection object at 0x000001835FFD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001835FEF3430>
          └ <aiomysql.connection.MySQLResult object at 0x000001836006C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001836006C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001835FEC5790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001836006CA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001836006CA90>
    │   └ <function raise_mysql_exception at 0x000001835FE741F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'create_user' cannot be null")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', '1196a50f-f7b1-425f-b4f6-f25035748d5c', None, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000001835A9494C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000001835A8185E0>
           └ <SpawnProcess name='SpawnProcess-50' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001835A823C10>
    └ <SpawnProcess name='SpawnProcess-50' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001835A95E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-50' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-50' parent=3284 started>
    │    └ <function subprocess_started at 0x000001835C874EE0>
    └ <SpawnProcess name='SpawnProcess-50' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001835A95E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001835C8740D0>
           │       │   └ <uvicorn.server.Server object at 0x000001835A95E460>
           │       └ <function run at 0x000001835C50C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001835DA06340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001835C50D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001835C50D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001835C5104C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001835C47E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000183600423D0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000183600423D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000183600423D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000183600423D0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001835DA3DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001835F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001835D1A2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001835DA3DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001835F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001835F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001835FFD37F0>
          └ <fastapi.applications.FastAPI object at 0x000001835D1A2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001835CE239D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001835D491250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001835FFD37F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001835CE239D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001835D85BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001835D491250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001835D491250...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001835D491670>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001835D491250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001835D491250...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001835FFF4AF0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001835D83F400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001835D491670>
          └ <function wrap_app_handling_exceptions at 0x000001835D61E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001835FFCDD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001835D83F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001835FFCDD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001835D83F400>>
          └ <fastapi.routing.APIRouter object at 0x000001835D83F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001835FFCDD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001835D5CBD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001835FFCDD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001835FFCD0D0>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001835FFCDD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001835FFF4D60>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001835FFCD160>
          └ <function wrap_app_handling_exceptions at 0x000001835D61E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001835FFCDF70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001835FFCD160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001835FFF4D60>
                     └ <function get_request_handler.<locals>.app at 0x000001835FFCD280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001835D5C28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001835D52F310>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001835FFDD160>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001835D535970>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x000001835FF02B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 77, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 16:06:54.318 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:06:54.319 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:06:54.427 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:06:54.428 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:06:54.430 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:06:54.432 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:06:54.433 | INFO     | uvicorn.server:serve:87 - Finished server process [11684]
2024-03-10 16:06:54.434 | INFO     | uvicorn.server:serve:87 - Finished server process [11684]
2024-03-10 16:06:55.820 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:06:55.820 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:06:55.821 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:06:55.822 | INFO     | uvicorn.server:serve:77 - Started server process [14496]
2024-03-10 16:06:55.822 | INFO     | uvicorn.server:serve:77 - Started server process [14496]
2024-03-10 16:06:55.823 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:06:55.823 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:06:55.824 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:06:55.825 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:06:55.825 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:07:27.558 | DEBUG    | app.crud:create:164 - model_object
2024-03-10 16:07:27.558 | DEBUG    | app.crud:create:165 - <app.models.address.Address object at 0x000001B361312910>
2024-03-10 16:07:27.576 | ERROR    | app.crud:wrapper:74 - 操作AddressCRUD失败, args：[], kwargs：{'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}, True方法报错: (pymysql.err.IntegrityError) (1048, "Column 'create_user' cannot be null")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 16:07:27.576 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52312 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 16:07:27.577 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001B360CA8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001B360CE7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001B361312400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001B3610DDB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001B3610DDCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001B361346C40>
           └ <_AsyncIoGreenlet object at 0x000001B3612E7640 (otid=0x000001B35F5A4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x000001B361346BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x000001B3611B7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001B361...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x000001B3611C20D0>
          └ <aiomysql.connection.Connection object at 0x000001B3612AE880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001B3611C2820>
          └ <aiomysql.connection.Connection object at 0x000001B3612AE880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001B3611C3430>
          └ <aiomysql.connection.MySQLResult object at 0x000001B36133F9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001B36133F9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001B361195790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001B3613125B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001B3613125B0>
    │   └ <function raise_mysql_exception at 0x000001B3611441F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'create_user' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B360ACE0D0>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000001B3611CF5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 167, in create
    await session.commit()
          │       └ <function AsyncSession.commit at 0x000001B361093AF0>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B360ACE0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0x000001B360FB84C0>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x000001B361312880>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B360ACE0D0>
          └ <function greenlet_spawn at 0x000001B35F722CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 199, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000001B3612E7640 (otid=0x000001B35F5A4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x000001B360FB4700>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x000001B35E7F9BC0>

  File "<string>", line 2, in commit

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x000001B35E7F9BC0>
                └ <function SessionTransaction.commit at 0x000001B360FB4670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x000001B360FB45E0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x000001B35E7F9BC0>

  File "<string>", line 2, in _prepare_impl

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x000001B35E7F9BC0>
                └ <function SessionTransaction._prepare_impl at 0x000001B360FB44C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x000001B360FBE280>
    │    └ <sqlalchemy.orm.session.Session object at 0x000001B361312880>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x000001B35E7F9BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x000001B360FBE430>
    └ <sqlalchemy.orm.session.Session object at 0x000001B361312880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x000001B360FB4940>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x000001B35E7F9C00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3613724C0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x000001B360FA95E0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x000001B3612AEF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x000001B3612AEF70>
    │   └ <function SaveUpdateAll.execute at 0x000001B360FA9EE0>
    └ SaveUpdateAll(Mapper[Address(brisk_address)])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x000001B360F7E5E0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\orm\\persist...
    │    └ <module 'sqlalchemy.util.preloaded' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\preload...
    └ <module 'sqlalchemy.util' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x000001B360F87CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x000001B360BE4940>
             └ <sqlalchemy.engine.base.Connection object at 0x000001B361312400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x000001B36133F820>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000001B360BE4C10>
           └ <sqlalchemy.engine.base.Connection object at 0x000001B361312400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000001B360BE4DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x000001B361312400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000001B360BE4E50>
           └ <sqlalchemy.engine.base.Connection object at 0x000001B361312400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000001B360BE70D0>
    └ <sqlalchemy.engine.base.Connection object at 0x000001B361312400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'create_user' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'create_user' cannot be null"), <traceback object at 0x00...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001B360CA8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001B360CE7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001B361312400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001B3610DDB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001B3610DDCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001B361346C40>
           └ <_AsyncIoGreenlet object at 0x000001B3612E7640 (otid=0x000001B35F5A4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x000001B361346BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x000001B3611B7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001B361...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x000001B3611C20D0>
          └ <aiomysql.connection.Connection object at 0x000001B3612AE880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001B3611C2820>
          └ <aiomysql.connection.Connection object at 0x000001B3612AE880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001B3611C3430>
          └ <aiomysql.connection.MySQLResult object at 0x000001B36133F9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001B36133F9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001B361195790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001B3613125B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001B3613125B0>
    │   └ <function raise_mysql_exception at 0x000001B3611441F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'create_user' cannot be null")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000001B35BC194C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000001B35BB185E0>
           └ <SpawnProcess name='SpawnProcess-51' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B35BB23C10>
    └ <SpawnProcess name='SpawnProcess-51' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B35BC2E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-51' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-51' parent=3284 started>
    │    └ <function subprocess_started at 0x000001B35DB44EE0>
    └ <SpawnProcess name='SpawnProcess-51' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=516, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B35BC2E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=516, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B35DB440D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B35BC2E460>
           │       └ <function run at 0x000001B35D7DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B35ECD8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B35D7DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B35D7DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B35D7E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B35D74E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B361312130>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001B361312130>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001B361312130>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B361312130>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B35ED0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B361...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B35E472FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B35ED0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B361...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B361...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B3612A4820>
          └ <fastapi.applications.FastAPI object at 0x000001B35E472FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B35E0F39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B3612A3250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B3612A4820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B35E0F39D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001B35EB2BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B3612A3250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B3612A3250...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B3612A3BB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B3612A3250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B3612A3250...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B3612C5AF0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B35EB0F400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B3612A3BB0>
          └ <function wrap_app_handling_exceptions at 0x000001B35E8CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B36129DD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B35EB0F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B36129DD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B35EB0F400>>
          └ <fastapi.routing.APIRouter object at 0x000001B35EB0F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B36129DD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B35E89FD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B36129DD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B36129D0D0>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B36129DD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B3612C5D60>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B36129D160>
          └ <function wrap_app_handling_exceptions at 0x000001B35E8CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B36129DF70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B36129D160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B3612C5D60>
                     └ <function get_request_handler.<locals>.app at 0x000001B36129D280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001B35E8AD8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001B35E801310>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001B3612AE160>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001B35E7FF970>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x000001B3611D2B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 77, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 16:07:27.650 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001B360CA8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001B360CE7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001B361312400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001B3610DDB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001B3610DDCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001B361346C40>
           └ <_AsyncIoGreenlet object at 0x000001B3612E7640 (otid=0x000001B35F5A4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x000001B361346BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x000001B3611B7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001B361...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x000001B3611C20D0>
          └ <aiomysql.connection.Connection object at 0x000001B3612AE880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001B3611C2820>
          └ <aiomysql.connection.Connection object at 0x000001B3612AE880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001B3611C3430>
          └ <aiomysql.connection.MySQLResult object at 0x000001B36133F9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001B36133F9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001B361195790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001B3613125B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001B3613125B0>
    │   └ <function raise_mysql_exception at 0x000001B3611441F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'create_user' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'obj': AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B360ACE0D0>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000001B3611CF5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 167, in create
    await session.commit()
          │       └ <function AsyncSession.commit at 0x000001B361093AF0>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B360ACE0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0x000001B360FB84C0>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x000001B361312880>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B360ACE0D0>
          └ <function greenlet_spawn at 0x000001B35F722CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 199, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000001B3612E7640 (otid=0x000001B35F5A4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x000001B360FB4700>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x000001B35E7F9BC0>

  File "<string>", line 2, in commit

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x000001B35E7F9BC0>
                └ <function SessionTransaction.commit at 0x000001B360FB4670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x000001B360FB45E0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x000001B35E7F9BC0>

  File "<string>", line 2, in _prepare_impl

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x000001B35E7F9BC0>
                └ <function SessionTransaction._prepare_impl at 0x000001B360FB44C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x000001B360FBE280>
    │    └ <sqlalchemy.orm.session.Session object at 0x000001B361312880>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x000001B35E7F9BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x000001B360FBE430>
    └ <sqlalchemy.orm.session.Session object at 0x000001B361312880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x000001B360FB4940>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x000001B35E7F9C00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3613724C0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x000001B360FA95E0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x000001B3612AEF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x000001B3612AEF70>
    │   └ <function SaveUpdateAll.execute at 0x000001B360FA9EE0>
    └ SaveUpdateAll(Mapper[Address(brisk_address)])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x000001B360F7E5E0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\orm\\persist...
    │    └ <module 'sqlalchemy.util.preloaded' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\preload...
    └ <module 'sqlalchemy.util' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x000001B360F87CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x000001B360BE4940>
             └ <sqlalchemy.engine.base.Connection object at 0x000001B361312400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x000001B36133F820>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000001B360BE4C10>
           └ <sqlalchemy.engine.base.Connection object at 0x000001B361312400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000001B360BE4DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x000001B361312400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000001B360BE4E50>
           └ <sqlalchemy.engine.base.Connection object at 0x000001B361312400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000001B360BE70D0>
    └ <sqlalchemy.engine.base.Connection object at 0x000001B361312400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'create_user' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'create_user' cannot be null"), <traceback object at 0x00...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'create_user\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001B360CA8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001B360CE7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001B361312400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001B3610DDB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001B3610DDCA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001B361346C40>
           └ <_AsyncIoGreenlet object at 0x000001B3612E7640 (otid=0x000001B35F5A4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x000001B361346BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001B361373040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x000001B3611B7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001B361...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x000001B3611C20D0>
          └ <aiomysql.connection.Connection object at 0x000001B3612AE880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001B3611C2820>
          └ <aiomysql.connection.Connection object at 0x000001B3612AE880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001B3611C3430>
          └ <aiomysql.connection.MySQLResult object at 0x000001B36133F9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001B36133F9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001B361195790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001B3613125B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001B3613125B0>
    │   └ <function raise_mysql_exception at 0x000001B3611441F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'create_user' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'create_user' cannot be null")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', 'dd78792e-8155-4454-81ed-5a2f6f527cb7', None, None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000001B35BC194C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000001B35BB185E0>
           └ <SpawnProcess name='SpawnProcess-51' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B35BB23C10>
    └ <SpawnProcess name='SpawnProcess-51' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B35BC2E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-51' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-51' parent=3284 started>
    │    └ <function subprocess_started at 0x000001B35DB44EE0>
    └ <SpawnProcess name='SpawnProcess-51' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=516, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B35BC2E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=516, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B35DB440D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B35BC2E460>
           │       └ <function run at 0x000001B35D7DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B35ECD8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B35D7DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B35D7DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B35D7E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B35D74E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B361312130>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001B361312130>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001B361312130>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B361312130>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B35ED0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B361...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B35E472FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B35ED0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B361...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B361...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B3612A4820>
          └ <fastapi.applications.FastAPI object at 0x000001B35E472FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B35E0F39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B3612A3250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B3612A4820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B35E0F39D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001B35EB2BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B3612A3250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B3612A3250...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B3612A3BB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B3612A3250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B3612A3250...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B3612C5AF0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B35EB0F400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B3612A3BB0>
          └ <function wrap_app_handling_exceptions at 0x000001B35E8CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B36129DD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B35EB0F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B36129DD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B35EB0F400>>
          └ <fastapi.routing.APIRouter object at 0x000001B35EB0F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B36129DD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B35E89FD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B36129DD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B36129D0D0>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B36129DD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B3612C5D60>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B36129D160>
          └ <function wrap_app_handling_exceptions at 0x000001B35E8CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B36129DF70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B36129D160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B3612C5D60>
                     └ <function get_request_handler.<locals>.app at 0x000001B36129D280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001B35E8AD8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001B35E801310>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001B3612AE160>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload,user_info.get("id"))
          │           │                │       │         └ <method 'get' of 'dict' objects>
          │           │                │       └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001B35E7FF970>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    await cls.create(obj=payload)
          │   │          └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │   └ <classmethod object at 0x000001B3611D2B80>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 77, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 16:11:17.714 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:11:17.716 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:11:17.824 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:11:17.826 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:11:17.828 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:11:17.830 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:11:17.832 | INFO     | uvicorn.server:serve:87 - Finished server process [14496]
2024-03-10 16:11:17.834 | INFO     | uvicorn.server:serve:87 - Finished server process [14496]
2024-03-10 16:11:19.837 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:11:19.837 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:11:19.838 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:11:19.838 | INFO     | uvicorn.server:serve:77 - Started server process [4536]
2024-03-10 16:11:19.838 | INFO     | uvicorn.server:serve:77 - Started server process [4536]
2024-03-10 16:11:19.840 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:11:19.840 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:11:19.841 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:11:19.842 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:11:19.842 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:11:23.109 | DEBUG    | app.crud:create:164 - model_object
2024-03-10 16:11:23.110 | DEBUG    | app.crud:create:165 - <app.models.address.Address object at 0x000001D1BAB4BBB0>
2024-03-10 16:11:23.147 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52345 - "POST /api/v1/config/gateway HTTP/1.1" 200
2024-03-10 16:14:06.424 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:14:06.424 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:14:06.534 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:14:06.535 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:14:06.537 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:14:06.538 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:14:06.539 | INFO     | uvicorn.server:serve:87 - Finished server process [4536]
2024-03-10 16:14:06.540 | INFO     | uvicorn.server:serve:87 - Finished server process [4536]
2024-03-10 16:14:07.989 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:14:07.989 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:14:07.990 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:14:07.990 | INFO     | uvicorn.server:serve:77 - Started server process [1956]
2024-03-10 16:14:07.991 | INFO     | uvicorn.server:serve:77 - Started server process [1956]
2024-03-10 16:14:07.991 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:14:07.992 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:14:07.992 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:14:07.993 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:14:07.994 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:24:31.478 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:24:31.479 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:24:31.587 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:24:31.588 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:24:31.589 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:24:31.590 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:24:31.591 | INFO     | uvicorn.server:serve:87 - Finished server process [1956]
2024-03-10 16:24:31.592 | INFO     | uvicorn.server:serve:87 - Finished server process [1956]
2024-03-10 16:24:34.299 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:24:34.300 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:24:34.302 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:24:34.302 | INFO     | uvicorn.server:serve:77 - Started server process [9980]
2024-03-10 16:24:34.302 | INFO     | uvicorn.server:serve:77 - Started server process [9980]
2024-03-10 16:24:34.302 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:24:34.302 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:24:34.304 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:24:34.305 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:24:34.305 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:24:41.284 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52436 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 16:24:41.285 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x00000215210B94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000021520FB85E0>
           └ <SpawnProcess name='SpawnProcess-56' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000021520FC3C10>
    └ <SpawnProcess name='SpawnProcess-56' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000215210CE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-56' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-56' parent=3284 started>
    │    └ <function subprocess_started at 0x0000021522FE4EE0>
    └ <SpawnProcess name='SpawnProcess-56' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=516, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000215210CE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=516, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000021522FE40D0>
           │       │   └ <uvicorn.server.Server object at 0x00000215210CE460>
           │       └ <function run at 0x0000021522C7C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002152417A340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000021522C7D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000021522C7D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021522C814C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021522BEE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000215267D6E80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000215267D6E80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000215267D6E80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000215267D6E80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000215241AFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021526...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000021523912FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000215241AFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021526...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021526...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021526750DC0>
          └ <fastapi.applications.FastAPI object at 0x0000021523912FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000215235939D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021526750EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021526750DC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000215235939D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000021523FCBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021526750EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000021526750EE0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021526750E20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021526750EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000021526750EE0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000021526767E50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021523FAF280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021526750E20>
          └ <function wrap_app_handling_exceptions at 0x0000021523D6B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021526752310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000021523FAF280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021526752310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021523FAF280>>
          └ <fastapi.routing.APIRouter object at 0x0000021523FAF280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021526752310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000021523D40D30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021526752310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002152673FE50>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021526752310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000215267B0040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021526752160>
          └ <function wrap_app_handling_exceptions at 0x0000021523D6B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021526752430>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000021526752160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000215267B0040>
                     └ <function get_request_handler.<locals>.app at 0x000002152673FD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000021523D4B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000021526717EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000215267547C0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload, user_info.get("id"))
          │           │                │        │         └ <method 'get' of 'dict' objects>
          │           │                │        └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x0000021523CA6AC0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 22, in register_address
    payload.create_user = user_id
    │                     └ '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1'
    └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pydantic\main.py", line 795, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')

ValueError: "AddressPayload" object has no field "create_user"
2024-03-10 16:24:41.322 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x00000215210B94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000021520FB85E0>
           └ <SpawnProcess name='SpawnProcess-56' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000021520FC3C10>
    └ <SpawnProcess name='SpawnProcess-56' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000215210CE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-56' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-56' parent=3284 started>
    │    └ <function subprocess_started at 0x0000021522FE4EE0>
    └ <SpawnProcess name='SpawnProcess-56' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=516, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000215210CE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=516, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000021522FE40D0>
           │       │   └ <uvicorn.server.Server object at 0x00000215210CE460>
           │       └ <function run at 0x0000021522C7C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002152417A340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000021522C7D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000021522C7D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021522C814C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021522BEE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000215267D6E80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000215267D6E80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000215267D6E80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000215267D6E80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000215241AFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021526...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000021523912FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000215241AFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021526...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021526...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021526750DC0>
          └ <fastapi.applications.FastAPI object at 0x0000021523912FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000215235939D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021526750EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021526750DC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000215235939D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000021523FCBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021526750EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000021526750EE0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021526750E20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021526750EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000021526750EE0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000021526767E50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021523FAF280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021526750E20>
          └ <function wrap_app_handling_exceptions at 0x0000021523D6B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021526752310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000021523FAF280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021526752310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021523FAF280>>
          └ <fastapi.routing.APIRouter object at 0x0000021523FAF280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021526752310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000021523D40D30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021526752310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002152673FE50>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021526752310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000215267B0040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021526752160>
          └ <function wrap_app_handling_exceptions at 0x0000021523D6B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021526752430>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000021526752160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000215267B0040>
                     └ <function get_request_handler.<locals>.app at 0x000002152673FD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000021523D4B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x0000021526717EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000215267547C0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload, user_info.get("id"))
          │           │                │        │         └ <method 'get' of 'dict' objects>
          │           │                │        └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x0000021523CA6AC0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 22, in register_address
    payload.create_user = user_id
    │                     └ '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1'
    └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pydantic\main.py", line 795, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')

ValueError: "AddressPayload" object has no field "create_user"
2024-03-10 16:25:53.057 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:25:53.057 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:25:53.165 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:25:53.165 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:25:53.166 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:25:53.167 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:25:53.167 | INFO     | uvicorn.server:serve:87 - Finished server process [9980]
2024-03-10 16:25:53.168 | INFO     | uvicorn.server:serve:87 - Finished server process [9980]
2024-03-10 16:25:55.618 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:25:55.618 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:25:55.618 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:25:55.620 | INFO     | uvicorn.server:serve:77 - Started server process [6188]
2024-03-10 16:25:55.621 | INFO     | uvicorn.server:serve:77 - Started server process [6188]
2024-03-10 16:25:55.621 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:25:55.621 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:25:55.622 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:25:55.623 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:25:55.623 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:25:57.643 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52448 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 16:25:57.644 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 416
               │     └ 3
               └ <function _main at 0x000001ED3DE894C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 416
           │    └ <function BaseProcess._bootstrap at 0x000001ED3DD885E0>
           └ <SpawnProcess name='SpawnProcess-58' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001ED3DD93C10>
    └ <SpawnProcess name='SpawnProcess-58' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001ED3DE9E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-58' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-58' parent=3284 started>
    │    └ <function subprocess_started at 0x000001ED3FDA3EE0>
    └ <SpawnProcess name='SpawnProcess-58' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=804, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001ED3DE9E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=804, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001ED3FDA30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001ED3DE9E460>
           │       └ <function run at 0x000001ED3FA3C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001ED40F38340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001ED3FA3D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001ED3FA3D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001ED3FA404C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001ED3F9AE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001ED4359EE80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001ED4359EE80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001ED4359EE80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001ED4359EE80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001ED40F69AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001ED43...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001ED406D2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001ED40F69AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001ED43...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001ED43...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001ED434FFCD0>
          └ <fastapi.applications.FastAPI object at 0x000001ED406D2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001ED403549D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001ED434FFC70>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001ED434FFCD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001ED403549D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001ED40D8BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001ED434FFC70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001ED434FFC70...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001ED434FFD00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001ED434FFC70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001ED434FFC70...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001ED43526AC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001ED40D6F400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001ED434FFD00>
          └ <function wrap_app_handling_exceptions at 0x000001ED40B24790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001ED434FCD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001ED40D6F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001ED434FCD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001ED40D6F400>>
          └ <fastapi.routing.APIRouter object at 0x000001ED40D6F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001ED434FCD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001ED40AFDD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001ED434FCD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001ED434FC0D0>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001ED434FCD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001ED43526D30>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001ED434FC160>
          └ <function wrap_app_handling_exceptions at 0x000001ED40B24790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001ED434FCF70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001ED434FC160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001ED43526D30>
                     └ <function get_request_handler.<locals>.app at 0x000001ED434FC280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001ED40B0B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001ED40A65310>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001ED4350E250>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload, user_info.get("id"))
          │           │                │        │         └ <method 'get' of 'dict' objects>
          │           │                │        └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001ED40A61970>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 22, in register_address
    setattr(payload, 'create_user', user_id)
            │                       └ '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1'
            └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pydantic\main.py", line 795, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')

ValueError: "AddressPayload" object has no field "create_user"
2024-03-10 16:25:57.674 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 416
               │     └ 3
               └ <function _main at 0x000001ED3DE894C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 416
           │    └ <function BaseProcess._bootstrap at 0x000001ED3DD885E0>
           └ <SpawnProcess name='SpawnProcess-58' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001ED3DD93C10>
    └ <SpawnProcess name='SpawnProcess-58' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001ED3DE9E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-58' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-58' parent=3284 started>
    │    └ <function subprocess_started at 0x000001ED3FDA3EE0>
    └ <SpawnProcess name='SpawnProcess-58' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=804, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001ED3DE9E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=804, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001ED3FDA30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001ED3DE9E460>
           │       └ <function run at 0x000001ED3FA3C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001ED40F38340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001ED3FA3D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001ED3FA3D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001ED3FA404C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001ED3F9AE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001ED4359EE80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001ED4359EE80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001ED4359EE80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001ED4359EE80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001ED40F69AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001ED43...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001ED406D2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001ED40F69AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001ED43...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001ED43...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001ED434FFCD0>
          └ <fastapi.applications.FastAPI object at 0x000001ED406D2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001ED403549D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001ED434FFC70>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001ED434FFCD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001ED403549D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001ED40D8BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001ED434FFC70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001ED434FFC70...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001ED434FFD00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001ED434FFC70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001ED434FFC70...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001ED43526AC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001ED40D6F400>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001ED434FFD00>
          └ <function wrap_app_handling_exceptions at 0x000001ED40B24790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001ED434FCD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001ED40D6F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001ED434FCD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001ED40D6F400>>
          └ <fastapi.routing.APIRouter object at 0x000001ED40D6F400>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001ED434FCD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001ED40AFDD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001ED434FCD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001ED434FC0D0>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001ED434FCD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001ED43526D30>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001ED434FC160>
          └ <function wrap_app_handling_exceptions at 0x000001ED40B24790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001ED434FCF70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001ED434FC160>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001ED43526D30>
                     └ <function get_request_handler.<locals>.app at 0x000001ED434FC280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001ED40B0B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001ED40A65310>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001ED4350E250>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload, user_info.get("id"))
          │           │                │        │         └ <method 'get' of 'dict' objects>
          │           │                │        └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001ED40A61970>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 22, in register_address
    setattr(payload, 'create_user', user_id)
            │                       └ '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1'
            └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pydantic\main.py", line 795, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')

ValueError: "AddressPayload" object has no field "create_user"
2024-03-10 16:30:00.217 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:30:00.218 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:30:00.324 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:30:00.326 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:30:00.328 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:30:00.329 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:30:00.330 | INFO     | uvicorn.server:serve:87 - Finished server process [6188]
2024-03-10 16:30:00.332 | INFO     | uvicorn.server:serve:87 - Finished server process [6188]
2024-03-10 16:30:02.697 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:30:02.697 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:30:02.698 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:30:02.699 | INFO     | uvicorn.server:serve:77 - Started server process [8388]
2024-03-10 16:30:02.699 | INFO     | uvicorn.server:serve:77 - Started server process [8388]
2024-03-10 16:30:02.699 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:30:02.700 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:30:02.700 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:30:02.701 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:30:02.701 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:30:28.737 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:30:28.739 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:30:28.846 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:30:28.863 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:30:28.865 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:30:28.866 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:30:28.867 | INFO     | uvicorn.server:serve:87 - Finished server process [8388]
2024-03-10 16:30:28.867 | INFO     | uvicorn.server:serve:87 - Finished server process [8388]
2024-03-10 16:31:18.674 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:31:18.675 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:31:18.675 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:31:18.676 | INFO     | uvicorn.server:serve:77 - Started server process [14764]
2024-03-10 16:31:18.676 | INFO     | uvicorn.server:serve:77 - Started server process [14764]
2024-03-10 16:31:18.677 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:31:18.677 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:31:18.678 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:31:18.679 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:31:18.679 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:31:48.796 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 16:31:48.797 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 16:31:48.882 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:31:48.883 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:31:48.992 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:31:48.993 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:31:48.995 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:31:48.997 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:31:48.999 | INFO     | uvicorn.server:serve:87 - Finished server process [14764]
2024-03-10 16:31:48.999 | INFO     | uvicorn.server:serve:87 - Finished server process [14764]
2024-03-10 16:31:50.365 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:31:50.367 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:31:50.367 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:31:50.368 | INFO     | uvicorn.server:serve:77 - Started server process [9092]
2024-03-10 16:31:50.369 | INFO     | uvicorn.server:serve:77 - Started server process [9092]
2024-03-10 16:31:50.369 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:31:50.370 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:31:50.370 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:31:50.371 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:31:50.371 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:32:38.932 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:32:38.935 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:32:39.041 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:32:39.042 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:32:39.044 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:32:39.046 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:32:39.047 | INFO     | uvicorn.server:serve:87 - Finished server process [9092]
2024-03-10 16:32:39.048 | INFO     | uvicorn.server:serve:87 - Finished server process [9092]
2024-03-10 16:32:40.971 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:32:40.971 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:32:40.972 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:32:40.973 | INFO     | uvicorn.server:serve:77 - Started server process [8568]
2024-03-10 16:32:40.973 | INFO     | uvicorn.server:serve:77 - Started server process [8568]
2024-03-10 16:32:40.974 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:32:40.974 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:32:40.975 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:32:40.976 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:32:40.976 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:32:44.104 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52529 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 16:32:44.105 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 420
               │     └ 3
               └ <function _main at 0x000001BD38D094C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 420
           │    └ <function BaseProcess._bootstrap at 0x000001BD38C085E0>
           └ <SpawnProcess name='SpawnProcess-65' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001BD38C13C10>
    └ <SpawnProcess name='SpawnProcess-65' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001BD38D1E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-65' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-65' parent=3284 started>
    │    └ <function subprocess_started at 0x000001BD3AC34EE0>
    └ <SpawnProcess name='SpawnProcess-65' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001BD38D1E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001BD3AC340D0>
           │       │   └ <uvicorn.server.Server object at 0x000001BD38D1E460>
           │       └ <function run at 0x000001BD3A8CC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001BD3BDC8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001BD3A8CD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001BD3A8CD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001BD3A8D04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001BD3A83E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BD3E437EB0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001BD3E437EB0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001BD3E437EB0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BD3E437EB0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BD3BDFFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BD3E...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001BD3BE92FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BD3BDFFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BD3E...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BD3E...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BD3E3AED00>
          └ <fastapi.applications.FastAPI object at 0x000001BD3BE92FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BD3B1E29D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BD3E3AEE20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BD3E3AED00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BD3B1E29D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001BD3C52BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BD3E3AEE20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001BD3E3AEE20...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BD3E3AEC70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BD3E3AEE20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001BD3E3AEE20...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001BD3E3C6E80>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001BD3C50E280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BD3E3AEC70>
          └ <function wrap_app_handling_exceptions at 0x000001BD3C2C9790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BD3E3B11F0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001BD3C50E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BD3E3B11F0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001BD3C50E280>>
          └ <fastapi.routing.APIRouter object at 0x000001BD3C50E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BD3E3B11F0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001BD3C2AFD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BD3E3B11F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001BD3E39ED30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BD3E3B11F0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001BD3E40E130>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001BD3E3B1310>
          └ <function wrap_app_handling_exceptions at 0x000001BD3C2C9790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BD3E3B15E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001BD3E3B1310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001BD3E40E130>
                     └ <function get_request_handler.<locals>.app at 0x000001BD3E39EEE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001BD3C2AB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001BD3C2193A0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001BD3E3B27F0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload, user_info.get("id"))
          │           │                │        │         └ <method 'get' of 'dict' objects>
          │           │                │        └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001BD3C2159A0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    model = Address(**payload.model_dump(),
            │         │       └ <function BaseModel.model_dump at 0x000001BD3B3CACA0>
            │         └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
            └ <class 'app.models.address.Address'>

  File "<string>", line 4, in __init__

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state.py", line 565, in _initialize_instance
    manager.dispatch.init_failure(self, args, kwargs)
    │       │        │            │     │     └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1', 'user_id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1'}
    │       │        │            │     └ ()
    │       │        │            └ <sqlalchemy.orm.state.InstanceState object at 0x000001BD3E430C40>
    │       │        └ <member 'init_failure' of 'InstanceEventsDispatch' objects>
    │       └ <sqlalchemy.event.base.InstanceEventsDispatch object at 0x000001BD3C2195E0>
    └ <ClassManager of <class 'app.models.address.Address'> at 1bd3c20fbd0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001BD3E4037C0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("'user_id' is an invalid keyword argument for Address")

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state.py", line 562, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    │       │              │            └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1', 'user_id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1'}
    │       │              └ (<sqlalchemy.orm.state.InstanceState object at 0x000001BD3E430C40>, <app.models.address.Address object at 0x000001BD3E3AEE80>)
    │       └ <function _declarative_constructor at 0x000001BD3E0FE040>
    └ <ClassManager of <class 'app.models.address.Address'> at 1bd3c20fbd0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\decl_base.py", line 2139, in _declarative_constructor
    raise TypeError(

TypeError: 'user_id' is an invalid keyword argument for Address
2024-03-10 16:32:44.178 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 420
               │     └ 3
               └ <function _main at 0x000001BD38D094C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 420
           │    └ <function BaseProcess._bootstrap at 0x000001BD38C085E0>
           └ <SpawnProcess name='SpawnProcess-65' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001BD38C13C10>
    └ <SpawnProcess name='SpawnProcess-65' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001BD38D1E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-65' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-65' parent=3284 started>
    │    └ <function subprocess_started at 0x000001BD3AC34EE0>
    └ <SpawnProcess name='SpawnProcess-65' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001BD38D1E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001BD3AC340D0>
           │       │   └ <uvicorn.server.Server object at 0x000001BD38D1E460>
           │       └ <function run at 0x000001BD3A8CC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001BD3BDC8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001BD3A8CD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001BD3A8CD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001BD3A8D04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001BD3A83E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BD3E437EB0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001BD3E437EB0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001BD3E437EB0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BD3E437EB0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BD3BDFFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BD3E...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001BD3BE92FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BD3BDFFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BD3E...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BD3E...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BD3E3AED00>
          └ <fastapi.applications.FastAPI object at 0x000001BD3BE92FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BD3B1E29D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BD3E3AEE20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BD3E3AED00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BD3B1E29D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001BD3C52BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BD3E3AEE20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001BD3E3AEE20...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BD3E3AEC70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BD3E3AEE20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001BD3E3AEE20...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001BD3E3C6E80>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001BD3C50E280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BD3E3AEC70>
          └ <function wrap_app_handling_exceptions at 0x000001BD3C2C9790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BD3E3B11F0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001BD3C50E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BD3E3B11F0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001BD3C50E280>>
          └ <fastapi.routing.APIRouter object at 0x000001BD3C50E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BD3E3B11F0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001BD3C2AFD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BD3E3B11F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001BD3E39ED30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BD3E3B11F0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001BD3E40E130>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001BD3E3B1310>
          └ <function wrap_app_handling_exceptions at 0x000001BD3C2C9790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BD3E3B15E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001BD3E3B1310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001BD3E40E130>
                     └ <function get_request_handler.<locals>.app at 0x000001BD3E39EEE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001BD3C2AB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001BD3C2193A0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001BD3E3B27F0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload, user_info.get("id"))
          │           │                │        │         └ <method 'get' of 'dict' objects>
          │           │                │        └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001BD3C2159A0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 21, in register_address
    model = Address(**payload.model_dump(),
            │         │       └ <function BaseModel.model_dump at 0x000001BD3B3CACA0>
            │         └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
            └ <class 'app.models.address.Address'>

  File "<string>", line 4, in __init__

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state.py", line 565, in _initialize_instance
    manager.dispatch.init_failure(self, args, kwargs)
    │       │        │            │     │     └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1', 'user_id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1'}
    │       │        │            │     └ ()
    │       │        │            └ <sqlalchemy.orm.state.InstanceState object at 0x000001BD3E430C40>
    │       │        └ <member 'init_failure' of 'InstanceEventsDispatch' objects>
    │       └ <sqlalchemy.event.base.InstanceEventsDispatch object at 0x000001BD3C2195E0>
    └ <ClassManager of <class 'app.models.address.Address'> at 1bd3c20fbd0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001BD3E4037C0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("'user_id' is an invalid keyword argument for Address")

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\state.py", line 562, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    │       │              │            └ {'env': 1, 'name': '开发', 'gateway': 'https://127.0.0.1', 'user_id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1'}
    │       │              └ (<sqlalchemy.orm.state.InstanceState object at 0x000001BD3E430C40>, <app.models.address.Address object at 0x000001BD3E3AEE80>)
    │       └ <function _declarative_constructor at 0x000001BD3E0FE040>
    └ <ClassManager of <class 'app.models.address.Address'> at 1bd3c20fbd0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\decl_base.py", line 2139, in _declarative_constructor
    raise TypeError(

TypeError: 'user_id' is an invalid keyword argument for Address
2024-03-10 16:33:25.768 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:33:25.768 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:33:25.877 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:33:25.878 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:33:25.879 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:33:25.879 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:33:25.880 | INFO     | uvicorn.server:serve:87 - Finished server process [8568]
2024-03-10 16:33:25.881 | INFO     | uvicorn.server:serve:87 - Finished server process [8568]
2024-03-10 16:33:27.314 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:33:27.315 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:33:27.316 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:33:27.316 | INFO     | uvicorn.server:serve:77 - Started server process [9820]
2024-03-10 16:33:27.317 | INFO     | uvicorn.server:serve:77 - Started server process [9820]
2024-03-10 16:33:27.318 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:33:27.318 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:33:27.319 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:33:27.319 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:33:27.320 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:33:28.246 | ERROR    | app.crud:wrapper:74 - 操作AddressCRUD失败, args：[], kwargs：{'model': <app.models.address.Address object at 0x0000015952887D30>}, True方法报错: (pymysql.err.IntegrityError) (1062, "Duplicate entry '1-开发' for key 'brisk_address.env'")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 16:33:28.248 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52538 - "POST /api/v1/config/gateway HTTP/1.1" 500
2024-03-10 16:33:28.249 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000015952268EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x00000159522A77C0>
    └ <sqlalchemy.engine.base.Connection object at 0x00000159528D0850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x00000159526DAB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x00000159526DACA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000015952906C40>
           └ <_AsyncIoGreenlet object at 0x00000159528C28C0 (otid=0x0000015950B63030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000015952906BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x0000015952777160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000015952...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x00000159527820D0>
          └ <aiomysql.connection.Connection object at 0x00000159528735E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000015952782820>
          └ <aiomysql.connection.Connection object at 0x00000159528735E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000015952783430>
          └ <aiomysql.connection.MySQLResult object at 0x00000159528F6A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x00000159528F6A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000015952754790>
    └ <pymysql.protocol.MysqlPacket object at 0x00000159528F6AC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x00000159528F6AC0>
    │   └ <function raise_mysql_exception at 0x00000159527031F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Duplicate entry '1-开发' for key 'brisk_address.env'"
          │          └ 1062
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1062, "Duplicate entry '1-开发' for key 'brisk_address.env'")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'model': <app.models.address.Address object at 0x0000015952887D30>}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000159528D0C10>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000001595278F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 165, in create
    await session.flush()
          │       └ <function AsyncSession.flush at 0x0000015952652670>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000159528D0C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 791, in flush
    await greenlet_spawn(self.sync_session.flush, objects=objects)
          │              │    │            │              └ None
          │              │    │            └ <function Session.flush at 0x000001595257E280>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x00000159528D0DF0>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000159528D0C10>
          └ <function greenlet_spawn at 0x0000015950CE2CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 199, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x00000159528C28C0 (otid=0x0000015950B63030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x000001595257E430>
    └ <sqlalchemy.orm.session.Session object at 0x00000159528D0DF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x0000015952574940>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x00000159528C2740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x0000015952931680>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1062, "Duplicate entry \'1-开发\' for key \'brisk_address.env\'")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x00000159525695E0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x00000159528D0E80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x00000159528D0E80>
    │   └ <function SaveUpdateAll.execute at 0x0000015952569EE0>
    └ SaveUpdateAll(Mapper[Address(brisk_address)])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x000001595253E5E0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\orm\\persist...
    │    └ <module 'sqlalchemy.util.preloaded' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\preload...
    └ <module 'sqlalchemy.util' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x0000015952547CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x00000159521A4940>
             └ <sqlalchemy.engine.base.Connection object at 0x00000159528D0850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x00000159528D0940>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x00000159521A4C10>
           └ <sqlalchemy.engine.base.Connection object at 0x00000159528D0850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x00000159521A4DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x00000159528D0850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x00000159521A4E50>
           └ <sqlalchemy.engine.base.Connection object at 0x00000159528D0850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x00000159521A60D0>
    └ <sqlalchemy.engine.base.Connection object at 0x00000159528D0850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1062, "Duplicate entry '1-开发' for key 'brisk_address.env'")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1062, "Duplicate entry '1-开发' for key 'brisk_address.env'"), <traceback...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1062, "Duplicate entry \'1-开发\' for key \'brisk_address.env\'")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000015952268EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x00000159522A77C0>
    └ <sqlalchemy.engine.base.Connection object at 0x00000159528D0850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x00000159526DAB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x00000159526DACA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000015952906C40>
           └ <_AsyncIoGreenlet object at 0x00000159528C28C0 (otid=0x0000015950B63030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000015952906BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x0000015952777160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000015952...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x00000159527820D0>
          └ <aiomysql.connection.Connection object at 0x00000159528735E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000015952782820>
          └ <aiomysql.connection.Connection object at 0x00000159528735E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000015952783430>
          └ <aiomysql.connection.MySQLResult object at 0x00000159528F6A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x00000159528F6A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000015952754790>
    └ <pymysql.protocol.MysqlPacket object at 0x00000159528F6AC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x00000159528F6AC0>
    │   └ <function raise_mysql_exception at 0x00000159527031F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Duplicate entry '1-开发' for key 'brisk_address.env'"
          │          └ 1062
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1062, "Duplicate entry '1-开发' for key 'brisk_address.env'")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 100
               │     └ 3
               └ <function _main at 0x000001594D1D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 100
           │    └ <function BaseProcess._bootstrap at 0x000001594D0B45E0>
           └ <SpawnProcess name='SpawnProcess-66' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001594D0B3C10>
    └ <SpawnProcess name='SpawnProcess-66' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001594D1EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-66' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-66' parent=3284 started>
    │    └ <function subprocess_started at 0x000001594F103EE0>
    └ <SpawnProcess name='SpawnProcess-66' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=448, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001594D1EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=448, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001594F1030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001594D1EE460>
           │       └ <function run at 0x000001594ED9C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000015950298340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001594ED9D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001594ED9D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001594EDA04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001594ED0E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000159528F6B50>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000159528F6B50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000159528F6B50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000159528F6B50>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000159502CAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015952...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001594FA32FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000159502CAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015952...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015952...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001595286FDF0>
          └ <fastapi.applications.FastAPI object at 0x000001594FA32FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001594F6B39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001595286FF10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001595286FDF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001594F6B39D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000159500EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001595286FF10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001595286FF10...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001595286FE50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001595286FF10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001595286FF10...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000015952887E80>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000159500CE280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001595286FE50>
          └ <function wrap_app_handling_exceptions at 0x000001594FEAD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000159528721F0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000159500CE280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000159528721F0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000159500CE280>>
          └ <fastapi.routing.APIRouter object at 0x00000159500CE280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000159528721F0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001594FE5BD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000159528721F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001595285ED30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000159528721F0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000159528D0070>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000015952872310>
          └ <function wrap_app_handling_exceptions at 0x000001594FEAD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000159528725E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000015952872310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000159528D0070>
                     └ <function get_request_handler.<locals>.app at 0x000001595285EEE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001594FE5F8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001594FDC73A0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000159528737F0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload, user_info.get("id"))
          │           │                │        │         └ <method 'get' of 'dict' objects>
          │           │                │        └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001594FDC09A0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 23, in register_address
    await cls.create(model=model)
          │   │            └ <app.models.address.Address object at 0x0000015952887D30>
          │   └ <classmethod object at 0x0000015952792B50>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 77, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 16:33:28.326 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000015952268EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x00000159522A77C0>
    └ <sqlalchemy.engine.base.Connection object at 0x00000159528D0850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x00000159526DAB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x00000159526DACA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000015952906C40>
           └ <_AsyncIoGreenlet object at 0x00000159528C28C0 (otid=0x0000015950B63030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000015952906BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x0000015952777160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000015952...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x00000159527820D0>
          └ <aiomysql.connection.Connection object at 0x00000159528735E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000015952782820>
          └ <aiomysql.connection.Connection object at 0x00000159528735E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000015952783430>
          └ <aiomysql.connection.MySQLResult object at 0x00000159528F6A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x00000159528F6A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000015952754790>
    └ <pymysql.protocol.MysqlPacket object at 0x00000159528F6AC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x00000159528F6AC0>
    │   └ <function raise_mysql_exception at 0x00000159527031F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Duplicate entry '1-开发' for key 'brisk_address.env'"
          │          └ 1062
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1062, "Duplicate entry '1-开发' for key 'brisk_address.env'")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 71, in wrapper
    return await func(cls, *args, session=ss, **kwargs)
                 │    │     │             │     └ {'model': <app.models.address.Address object at 0x0000015952887D30>}
                 │    │     │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000159528D0C10>
                 │    │     └ ()
                 │    └ <class 'app.crud.config.address.AddressCRUD'>
                 └ <function BaseCrud.create at 0x000001595278F5E0>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 165, in create
    await session.flush()
          │       └ <function AsyncSession.flush at 0x0000015952652670>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000159528D0C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 791, in flush
    await greenlet_spawn(self.sync_session.flush, objects=objects)
          │              │    │            │              └ None
          │              │    │            └ <function Session.flush at 0x000001595257E280>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x00000159528D0DF0>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000159528D0C10>
          └ <function greenlet_spawn at 0x0000015950CE2CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 199, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x00000159528C28C0 (otid=0x0000015950B63030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x000001595257E430>
    └ <sqlalchemy.orm.session.Session object at 0x00000159528D0DF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4432, in _flush
    transaction.rollback(_capture_exception=True)
    │           └ <function SessionTransaction.rollback at 0x0000015952574940>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x00000159528C2740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x0000015952931680>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1062, "Duplicate entry \'1-开发\' for key \'brisk_address.env\'")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x00000159525695E0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x00000159528D0E80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x00000159528D0E80>
    │   └ <function SaveUpdateAll.execute at 0x0000015952569EE0>
    └ SaveUpdateAll(Mapper[Address(brisk_address)])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x000001595253E5E0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\orm\\persist...
    │    └ <module 'sqlalchemy.util.preloaded' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\preload...
    └ <module 'sqlalchemy.util' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\sqlalchemy\\util\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x0000015952547CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x00000159521A4940>
             └ <sqlalchemy.engine.base.Connection object at 0x00000159528D0850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x00000159528D0940>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x00000159521A4C10>
           └ <sqlalchemy.engine.base.Connection object at 0x00000159528D0850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x00000159521A4DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x00000159528D0850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x00000159521A4E50>
           └ <sqlalchemy.engine.base.Connection object at 0x00000159528D0850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x00000159521A60D0>
    └ <sqlalchemy.engine.base.Connection object at 0x00000159528D0850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1062, "Duplicate entry '1-开发' for key 'brisk_address.env'")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1062, "Duplicate entry '1-开发' for key 'brisk_address.env'"), <traceback...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1062, "Duplicate entry \'1-开发\' for key \'brisk_address.env\'")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000015952268EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x00000159522A77C0>
    └ <sqlalchemy.engine.base.Connection object at 0x00000159528D0850>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)
    │      │       └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x00000159526DAB80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)
           │    │      │    │              └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x00000159526DACA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000015952906C40>
           └ <_AsyncIoGreenlet object at 0x00000159528C28C0 (otid=0x0000015950B63030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object Connection.rollback at 0x0000015952906BC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)
                   │    │               └ 'INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s,...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000015952932090>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Cursor._query at 0x0000015952777160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000015952...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (1, ...
          │    └ <function Connection.query at 0x00000159527820D0>
          └ <aiomysql.connection.Connection object at 0x00000159528735E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000015952782820>
          └ <aiomysql.connection.Connection object at 0x00000159528735E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000015952783430>
          └ <aiomysql.connection.MySQLResult object at 0x00000159528F6A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x00000159528F6A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000015952754790>
    └ <pymysql.protocol.MysqlPacket object at 0x00000159528F6AC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x00000159528F6AC0>
    │   └ <function raise_mysql_exception at 0x00000159527031F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Duplicate entry '1-开发' for key 'brisk_address.env'"
          │          └ 1062
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1062, "Duplicate entry '1-开发' for key 'brisk_address.env'")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '开发', 'https://127.0.0.1', 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 100
               │     └ 3
               └ <function _main at 0x000001594D1D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 100
           │    └ <function BaseProcess._bootstrap at 0x000001594D0B45E0>
           └ <SpawnProcess name='SpawnProcess-66' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001594D0B3C10>
    └ <SpawnProcess name='SpawnProcess-66' parent=3284 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001594D1EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-66' parent=3284 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-66' parent=3284 started>
    │    └ <function subprocess_started at 0x000001594F103EE0>
    └ <SpawnProcess name='SpawnProcess-66' parent=3284 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=448, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001594D1EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=448, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001594F1030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001594D1EE460>
           │       └ <function run at 0x000001594ED9C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000015950298340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001594ED9D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001594ED9D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001594EDA04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001594ED0E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000159528F6B50>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000159528F6B50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000159528F6B50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000159528F6B50>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000159502CAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015952...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001594FA32FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000159502CAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015952...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015952...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001595286FDF0>
          └ <fastapi.applications.FastAPI object at 0x000001594FA32FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001594F6B39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001595286FF10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001595286FDF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001594F6B39D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000159500EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001595286FF10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001595286FF10...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001595286FE50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001595286FF10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001595286FF10...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000015952887E80>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000159500CE280>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001595286FE50>
          └ <function wrap_app_handling_exceptions at 0x000001594FEAD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000159528721F0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000159500CE280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000159528721F0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000159500CE280>>
          └ <fastapi.routing.APIRouter object at 0x00000159500CE280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000159528721F0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001594FE5BD30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000159528721F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001595285ED30>
          └ APIRoute(path='/api/v1/config/gateway', name='create_gateway', methods=['POST'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000159528721F0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000159528D0070>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000015952872310>
          └ <function wrap_app_handling_exceptions at 0x000001594FEAD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000159528725E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000015...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000015952872310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000159528D0070>
                     └ <function get_request_handler.<locals>.app at 0x000001595285EEE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001594FE5F8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'user_info': {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com',...
                 │         └ <function create_gateway at 0x000001594FDC73A0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000159528737F0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\config\address.py", line 25, in create_gateway
    await AddressCRUD.register_address(payload, user_info.get("id"))
          │           │                │        │         └ <method 'get' of 'dict' objects>
          │           │                │        └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │           │                └ AddressPayload(env=1, name='开发', gateway='https://127.0.0.1')
          │           └ <classmethod object at 0x000001594FDC09A0>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\config\address.py", line 23, in register_address
    await cls.create(model=model)
          │   │            └ <app.models.address.Address object at 0x0000015952887D30>
          │   └ <classmethod object at 0x0000015952792B50>
          └ <class 'app.crud.config.address.AddressCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\__init__.py", line 77, in wrapper
    raise f"操作数据失败: {e}"

TypeError: exceptions must derive from BaseException
2024-03-10 16:34:54.651 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52545 - "POST /api/v1/config/gateway HTTP/1.1" 200
2024-03-10 16:40:37.363 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:40:37.364 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:40:37.472 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:40:37.475 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:40:37.476 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:40:37.478 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:40:37.478 | INFO     | uvicorn.server:serve:87 - Finished server process [9820]
2024-03-10 16:40:37.479 | INFO     | uvicorn.server:serve:87 - Finished server process [9820]
2024-03-10 16:40:39.640 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:40:39.642 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:40:39.642 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:40:39.643 | INFO     | uvicorn.server:serve:77 - Started server process [15120]
2024-03-10 16:40:39.643 | INFO     | uvicorn.server:serve:77 - Started server process [15120]
2024-03-10 16:40:39.644 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:40:39.644 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:40:39.645 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:40:39.647 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:40:39.647 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:40:44.116 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52589 - "POST /api/v1/config/gateway HTTP/1.1" 403
2024-03-10 16:40:49.252 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52591 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-10 16:41:02.856 | ERROR    | app.crud:wrapper:74 - 操作AddressCRUD失败, args：[], kwargs：{'model': <app.models.address.Address object at 0x000002028670EDC0>}, True方法报错: (pymysql.err.IntegrityError) (1062, "Duplicate entry '1-测试' for key 'brisk_address.env'")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '测试', 'https://127.0.0.1', 'bcde9800-4071-4144-aac1-526194be3a5f', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 16:41:02.861 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52592 - "POST /api/v1/config/gateway HTTP/1.1" 200
2024-03-10 16:42:18.487 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:42:18.489 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:42:18.597 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:42:18.597 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:42:18.599 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:42:18.600 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:42:18.600 | INFO     | uvicorn.server:serve:87 - Finished server process [15120]
2024-03-10 16:42:18.601 | INFO     | uvicorn.server:serve:87 - Finished server process [15120]
2024-03-10 16:42:20.060 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:42:20.061 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:42:20.062 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:42:20.062 | INFO     | uvicorn.server:serve:77 - Started server process [14820]
2024-03-10 16:42:20.063 | INFO     | uvicorn.server:serve:77 - Started server process [14820]
2024-03-10 16:42:20.063 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:42:20.063 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:42:20.064 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:42:20.065 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:42:20.065 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:42:20.393 | ERROR    | app.crud:wrapper:74 - 操作AddressCRUD失败, args：[], kwargs：{'model': <app.models.address.Address object at 0x000001FFA2E0FC70>}, True方法报错: (pymysql.err.IntegrityError) (1062, "Duplicate entry '1-测试' for key 'brisk_address.env'")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '测试', 'https://127.0.0.1', 'f0120e94-df58-40f9-8db6-ca204b852076', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 16:42:20.396 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52603 - "POST /api/v1/config/gateway HTTP/1.1" 200
2024-03-10 16:43:07.378 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:43:07.378 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:43:07.487 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:43:07.487 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:43:07.488 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:43:07.488 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:43:07.489 | INFO     | uvicorn.server:serve:87 - Finished server process [14820]
2024-03-10 16:43:07.489 | INFO     | uvicorn.server:serve:87 - Finished server process [14820]
2024-03-10 16:43:08.931 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:43:08.932 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:43:08.932 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:43:08.933 | INFO     | uvicorn.server:serve:77 - Started server process [2292]
2024-03-10 16:43:08.933 | INFO     | uvicorn.server:serve:77 - Started server process [2292]
2024-03-10 16:43:08.934 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:43:08.934 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:43:08.935 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:43:08.935 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:43:08.936 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:43:10.521 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52609 - "POST /api/v1/config/gateway HTTP/1.1" 200
2024-03-10 16:43:12.956 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52609 - "POST /api/v1/config/gateway HTTP/1.1" 200
2024-03-10 16:43:15.939 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52609 - "POST /api/v1/config/gateway HTTP/1.1" 200
2024-03-10 16:44:10.667 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:44:10.669 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 16:44:10.777 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:44:10.779 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 16:44:10.782 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:44:10.784 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 16:44:10.785 | INFO     | uvicorn.server:serve:87 - Finished server process [2292]
2024-03-10 16:44:10.787 | INFO     | uvicorn.server:serve:87 - Finished server process [2292]
2024-03-10 16:44:12.265 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 16:44:12.266 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 16:44:12.267 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 16:44:12.267 | INFO     | uvicorn.server:serve:77 - Started server process [6244]
2024-03-10 16:44:12.267 | INFO     | uvicorn.server:serve:77 - Started server process [6244]
2024-03-10 16:44:12.268 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:44:12.268 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 16:44:12.269 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 16:44:12.270 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:44:12.271 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 16:44:12.396 | ERROR    | app.crud:wrapper:75 - 操作AddressCRUD失败, args：[], kwargs：{'model': <app.models.address.Address object at 0x0000022A7895AAC0>}, True方法报错: (pymysql.err.IntegrityError) (1062, "Duplicate entry '1-测试' for key 'brisk_address.env'")
[SQL: INSERT INTO brisk_address (env, name, gateway, create_time, update_time, id, create_user, update_user, del_flag) VALUES (%s, %s, %s, now(), now(), %s, %s, %s, %s)]
[parameters: (1, '测试', 'https://127.0.0.1', 'c85b85c8-1a70-4904-b047-16108012e51f', '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 16:44:12.397 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52620 - "POST /api/v1/config/gateway HTTP/1.1" 200
2024-03-10 17:01:47.814 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 17:01:47.820 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 17:01:47.912 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 17:01:47.914 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 17:01:48.021 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 17:01:48.022 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 17:01:48.026 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 17:01:48.028 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 17:01:48.030 | INFO     | uvicorn.server:serve:87 - Finished server process [6244]
2024-03-10 17:01:48.031 | INFO     | uvicorn.server:serve:87 - Finished server process [6244]
2024-03-10 17:01:49.395 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 17:01:49.395 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 17:01:49.396 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 17:01:49.397 | INFO     | uvicorn.server:serve:77 - Started server process [1012]
2024-03-10 17:01:49.397 | INFO     | uvicorn.server:serve:77 - Started server process [1012]
2024-03-10 17:01:49.398 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 17:01:49.398 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 17:01:49.399 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 17:01:49.399 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 17:01:49.400 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 17:31:46.839 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 17:31:46.841 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 17:37:48.791 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 17:37:48.791 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 17:37:54.292 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 17:37:54.292 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 17:40:19.593 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 17:40:19.603 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 18:01:46.452 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 18:01:46.453 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 18:31:45.480 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 18:31:45.486 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 18:52:55.386 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 18:52:55.487 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 18:52:55.591 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 18:52:55.603 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 18:52:55.605 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 18:52:55.605 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 18:52:55.628 | INFO     | uvicorn.server:serve:87 - Finished server process [1012]
2024-03-10 18:52:55.628 | INFO     | uvicorn.server:serve:87 - Finished server process [1012]
2024-03-10 18:53:01.665 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 18:53:01.666 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 18:53:01.668 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 18:53:01.669 | INFO     | uvicorn.server:serve:77 - Started server process [14652]
2024-03-10 18:53:01.669 | INFO     | uvicorn.server:serve:77 - Started server process [14652]
2024-03-10 18:53:01.670 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 18:53:01.670 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 18:53:01.671 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 18:53:01.672 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 18:53:01.672 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:00:32.596 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:00:32.598 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:00:32.706 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:00:32.709 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:00:32.711 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:00:32.713 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:00:32.715 | INFO     | uvicorn.server:serve:87 - Finished server process [14652]
2024-03-10 19:00:32.717 | INFO     | uvicorn.server:serve:87 - Finished server process [14652]
2024-03-10 19:00:35.491 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 19:00:35.491 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 19:00:35.492 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 19:00:35.493 | INFO     | uvicorn.server:serve:77 - Started server process [18956]
2024-03-10 19:00:35.493 | INFO     | uvicorn.server:serve:77 - Started server process [18956]
2024-03-10 19:00:35.494 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:00:35.494 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:00:35.495 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 19:00:35.496 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:00:35.496 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:00:35.499 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54272 - "GET /docs HTTP/1.1" 200
2024-03-10 19:00:35.646 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54272 - "GET /openapi.json HTTP/1.1" 200
2024-03-10 19:00:42.009 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54273 - "GET /api/v1/config/gateway?address_id=1 HTTP/1.1" 200
2024-03-10 19:00:54.472 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54279 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:01:32.870 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:01:32.870 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:01:32.980 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:01:32.981 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:01:32.982 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:01:32.982 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:01:32.983 | INFO     | uvicorn.server:serve:87 - Finished server process [18956]
2024-03-10 19:01:32.983 | INFO     | uvicorn.server:serve:87 - Finished server process [18956]
2024-03-10 19:01:35.099 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 19:01:35.100 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 19:01:35.100 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 19:01:35.102 | INFO     | uvicorn.server:serve:77 - Started server process [15868]
2024-03-10 19:01:35.102 | INFO     | uvicorn.server:serve:77 - Started server process [15868]
2024-03-10 19:01:35.102 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:01:35.103 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:01:35.104 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 19:01:35.105 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:01:35.105 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:01:35.846 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54287 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:01:44.513 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 19:01:44.517 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 19:02:11.501 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:02:11.508 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:02:11.621 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:02:11.624 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:02:11.624 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:02:11.625 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:02:11.626 | INFO     | uvicorn.server:serve:87 - Finished server process [15868]
2024-03-10 19:02:11.626 | INFO     | uvicorn.server:serve:87 - Finished server process [15868]
2024-03-10 19:02:13.155 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 19:02:13.155 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 19:02:13.156 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 19:02:13.156 | INFO     | uvicorn.server:serve:77 - Started server process [3096]
2024-03-10 19:02:13.157 | INFO     | uvicorn.server:serve:77 - Started server process [3096]
2024-03-10 19:02:13.157 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:02:13.158 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:02:13.158 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 19:02:13.159 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:02:13.159 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:02:13.277 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54295 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:03:06.151 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:03:06.153 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:03:06.259 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:03:06.260 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:03:06.260 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:03:06.261 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:03:06.261 | INFO     | uvicorn.server:serve:87 - Finished server process [3096]
2024-03-10 19:03:06.262 | INFO     | uvicorn.server:serve:87 - Finished server process [3096]
2024-03-10 19:03:07.748 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 19:03:07.748 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 19:03:07.749 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 19:03:07.749 | INFO     | uvicorn.server:serve:77 - Started server process [17700]
2024-03-10 19:03:07.749 | INFO     | uvicorn.server:serve:77 - Started server process [17700]
2024-03-10 19:03:07.750 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:03:07.750 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:03:07.751 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 19:03:07.752 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:03:07.752 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:03:07.897 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54303 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:03:11.051 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54303 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:04:28.925 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54310 - "GET /docs HTTP/1.1" 200
2024-03-10 19:04:29.122 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54310 - "GET /openapi.json HTTP/1.1" 200
2024-03-10 19:04:34.772 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54311 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:04:36.299 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54311 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:04:36.993 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54311 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:05:28.537 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:05:28.540 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:05:28.646 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:05:28.647 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:05:28.647 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:05:28.648 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:05:28.648 | INFO     | uvicorn.server:serve:87 - Finished server process [17700]
2024-03-10 19:05:28.649 | INFO     | uvicorn.server:serve:87 - Finished server process [17700]
2024-03-10 19:05:30.433 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 19:05:30.433 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 19:05:30.434 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 19:05:30.435 | INFO     | uvicorn.server:serve:77 - Started server process [16872]
2024-03-10 19:05:30.435 | INFO     | uvicorn.server:serve:77 - Started server process [16872]
2024-03-10 19:05:30.436 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:05:30.436 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:05:30.437 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 19:05:30.437 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:05:30.438 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:05:30.752 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54322 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 400
2024-03-10 19:05:33.855 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54322 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 400
2024-03-10 19:07:59.462 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:07:59.462 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:07:59.571 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:07:59.572 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:07:59.572 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:07:59.573 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:07:59.574 | INFO     | uvicorn.server:serve:87 - Finished server process [16872]
2024-03-10 19:07:59.574 | INFO     | uvicorn.server:serve:87 - Finished server process [16872]
2024-03-10 19:08:01.299 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 19:08:01.299 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 19:08:01.300 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 19:08:01.300 | INFO     | uvicorn.server:serve:77 - Started server process [20136]
2024-03-10 19:08:01.301 | INFO     | uvicorn.server:serve:77 - Started server process [20136]
2024-03-10 19:08:01.302 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:08:01.302 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:08:01.303 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 19:08:01.304 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:08:01.304 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:08:05.235 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54334 - "GET /docs HTTP/1.1" 200
2024-03-10 19:08:05.404 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54334 - "GET /openapi.json HTTP/1.1" 200
2024-03-10 19:09:20.719 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54441 - "GET /api/v1/config/gateway/address_id HTTP/1.1" 200
2024-03-10 19:09:33.312 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54443 - "GET /api/v1/config/gateway/address_id1 HTTP/1.1" 200
2024-03-10 19:09:53.357 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54445 - "POST /api/v1/config/gateway/f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 405
2024-03-10 19:09:58.929 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54451 - "GET /api/v1/config/gateway/f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 400
2024-03-10 19:10:14.909 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54458 - "GET /api/v1/config/gateway/f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 400
2024-03-10 19:10:37.586 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:10:37.587 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:10:37.693 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:10:37.695 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:10:37.697 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:10:37.698 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:10:37.698 | INFO     | uvicorn.server:serve:87 - Finished server process [20136]
2024-03-10 19:10:37.698 | INFO     | uvicorn.server:serve:87 - Finished server process [20136]
2024-03-10 19:10:39.165 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 19:10:39.166 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 19:10:39.166 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 19:10:39.167 | INFO     | uvicorn.server:serve:77 - Started server process [15476]
2024-03-10 19:10:39.167 | INFO     | uvicorn.server:serve:77 - Started server process [15476]
2024-03-10 19:10:39.168 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:10:39.168 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:10:39.169 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 19:10:39.171 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:10:39.171 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:10:41.847 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54466 - "GET /docs HTTP/1.1" 200
2024-03-10 19:10:42.017 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54466 - "GET /openapi.json HTTP/1.1" 200
2024-03-10 19:10:48.197 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54465 - "GET /api/v1/config/gateway?address_id=address_id1 HTTP/1.1" 200
2024-03-10 19:10:52.094 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54465 - "GET /api/v1/config/gateway?address_id=address_id1 HTTP/1.1" 200
2024-03-10 19:10:55.525 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54465 - "GET /api/v1/config/gateway?address_id=address_id11 HTTP/1.1" 200
2024-03-10 19:17:21.934 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:17:21.937 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:17:22.042 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:17:22.044 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:17:22.047 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:17:22.049 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:17:22.052 | INFO     | uvicorn.server:serve:87 - Finished server process [15476]
2024-03-10 19:17:22.053 | INFO     | uvicorn.server:serve:87 - Finished server process [15476]
2024-03-10 19:17:24.234 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 19:17:24.234 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 19:17:24.235 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 19:17:24.235 | INFO     | uvicorn.server:serve:77 - Started server process [20120]
2024-03-10 19:17:24.236 | INFO     | uvicorn.server:serve:77 - Started server process [20120]
2024-03-10 19:17:24.236 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:17:24.236 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:17:24.238 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 19:17:24.239 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:17:24.239 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:17:26.178 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54516 - "GET /api/v1/config/gateway?address_id=address_id11 HTTP/1.1" 200
2024-03-10 19:17:27.482 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54516 - "GET /api/v1/config/gateway?address_id=address_id11 HTTP/1.1" 200
2024-03-10 19:17:35.323 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54517 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:18:54.232 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:18:54.233 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:18:54.341 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:18:54.341 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:18:54.341 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:18:54.342 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:18:54.342 | INFO     | uvicorn.server:serve:87 - Finished server process [20120]
2024-03-10 19:18:54.343 | INFO     | uvicorn.server:serve:87 - Finished server process [20120]
2024-03-10 19:18:56.600 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 19:18:56.600 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 19:18:56.601 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 19:18:56.602 | INFO     | uvicorn.server:serve:77 - Started server process [16468]
2024-03-10 19:18:56.602 | INFO     | uvicorn.server:serve:77 - Started server process [16468]
2024-03-10 19:18:56.603 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:18:56.603 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:18:56.604 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 19:18:56.605 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:18:56.606 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:18:57.898 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54528 - "GET /api/v1/config/gateway/f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 404
2024-03-10 19:19:06.398 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54535 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:19:11.056 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54535 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:19:11.652 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54535 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:19:14.941 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54535 - "GET /docs HTTP/1.1" 200
2024-03-10 19:19:15.190 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54535 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-10 19:19:15.194 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54536 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-10 19:19:15.315 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54536 - "GET /openapi.json HTTP/1.1" 200
2024-03-10 19:19:19.850 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54536 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:19:22.667 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54536 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:19:23.249 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54536 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:19:23.472 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54536 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:19:23.655 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54536 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:19:23.821 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54536 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:20:10.308 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:20:10.311 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:20:10.418 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:20:10.420 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:20:10.421 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:20:10.421 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:20:10.422 | INFO     | uvicorn.server:serve:87 - Finished server process [16468]
2024-03-10 19:20:10.423 | INFO     | uvicorn.server:serve:87 - Finished server process [16468]
2024-03-10 19:20:12.200 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 19:20:12.201 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 19:20:12.201 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 19:20:12.202 | INFO     | uvicorn.server:serve:77 - Started server process [19372]
2024-03-10 19:20:12.202 | INFO     | uvicorn.server:serve:77 - Started server process [19372]
2024-03-10 19:20:12.203 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:20:12.203 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:20:12.204 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 19:20:12.205 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:20:12.205 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:20:14.243 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54545 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:20:17.176 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54545 - "GET /docs HTTP/1.1" 200
2024-03-10 19:20:17.367 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54545 - "GET /openapi.json HTTP/1.1" 200
2024-03-10 19:20:21.276 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54545 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:20:22.615 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54545 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:20:24.257 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54545 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:20:44.445 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:20:44.445 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:20:44.555 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:20:44.556 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:20:44.561 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:20:44.562 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:20:44.563 | INFO     | uvicorn.server:serve:87 - Finished server process [19372]
2024-03-10 19:20:44.565 | INFO     | uvicorn.server:serve:87 - Finished server process [19372]
2024-03-10 19:20:46.131 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 19:20:46.131 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 19:20:46.132 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 19:20:46.132 | INFO     | uvicorn.server:serve:77 - Started server process [19108]
2024-03-10 19:20:46.133 | INFO     | uvicorn.server:serve:77 - Started server process [19108]
2024-03-10 19:20:46.133 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:20:46.133 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:20:46.134 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 19:20:46.135 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:20:46.135 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:20:47.328 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54551 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:20:50.795 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54551 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:20:55.553 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54551 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:30:41.160 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:30:41.160 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 19:30:41.268 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:30:41.268 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 19:30:41.269 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:30:41.270 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 19:30:41.271 | INFO     | uvicorn.server:serve:87 - Finished server process [19108]
2024-03-10 19:30:41.272 | INFO     | uvicorn.server:serve:87 - Finished server process [19108]
2024-03-10 19:59:28.819 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 19:59:28.819 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 19:59:28.820 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 19:59:28.821 | INFO     | uvicorn.server:serve:77 - Started server process [16092]
2024-03-10 19:59:28.822 | INFO     | uvicorn.server:serve:77 - Started server process [16092]
2024-03-10 19:59:28.823 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:59:28.823 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 19:59:28.823 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 19:59:28.824 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:59:28.825 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 19:59:28.826 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 19:59:28.827 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 19:59:28.828 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 19:59:28.831 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 19:59:29.984 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54582 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 19:59:33.596 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54582 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 20:00:33.537 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:00:33.538 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:00:33.645 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:00:33.647 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:00:33.648 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:00:33.649 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:00:33.649 | INFO     | uvicorn.server:serve:87 - Finished server process [16092]
2024-03-10 20:00:33.650 | INFO     | uvicorn.server:serve:87 - Finished server process [16092]
2024-03-10 20:00:35.964 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:00:35.965 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:00:35.966 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:00:35.966 | INFO     | uvicorn.server:serve:77 - Started server process [16780]
2024-03-10 20:00:35.967 | INFO     | uvicorn.server:serve:77 - Started server process [16780]
2024-03-10 20:00:35.967 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:00:35.968 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:00:35.968 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:00:35.969 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:00:35.970 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:00:36.448 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54807 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 20:03:44.053 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 20:03:44.054 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 20:03:44.143 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:03:44.144 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:03:44.250 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:03:44.250 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:03:44.251 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:03:44.251 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:03:44.252 | INFO     | uvicorn.server:serve:87 - Finished server process [16780]
2024-03-10 20:03:44.252 | INFO     | uvicorn.server:serve:87 - Finished server process [16780]
2024-03-10 20:03:46.658 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:03:46.658 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:03:46.659 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:03:46.659 | INFO     | uvicorn.server:serve:77 - Started server process [18396]
2024-03-10 20:03:46.660 | INFO     | uvicorn.server:serve:77 - Started server process [18396]
2024-03-10 20:03:46.660 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:03:46.661 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:03:46.662 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:03:46.663 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:03:46.664 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:07:38.300 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:07:38.303 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:07:38.409 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:07:38.410 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:07:38.411 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:07:38.412 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:07:38.412 | INFO     | uvicorn.server:serve:87 - Finished server process [18396]
2024-03-10 20:07:38.413 | INFO     | uvicorn.server:serve:87 - Finished server process [18396]
2024-03-10 20:07:40.100 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:07:40.101 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:07:40.101 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:07:40.102 | INFO     | uvicorn.server:serve:77 - Started server process [14276]
2024-03-10 20:07:40.103 | INFO     | uvicorn.server:serve:77 - Started server process [14276]
2024-03-10 20:07:40.103 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:07:40.104 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:07:40.104 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:07:40.106 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:07:40.106 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:07:43.327 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55014 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 20:07:45.097 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55014 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 20:07:45.954 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55014 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 20:08:16.408 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:08:16.408 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:08:16.516 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:08:16.516 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:08:16.517 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:08:16.517 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:08:16.517 | INFO     | uvicorn.server:serve:87 - Finished server process [14276]
2024-03-10 20:08:16.518 | INFO     | uvicorn.server:serve:87 - Finished server process [14276]
2024-03-10 20:08:17.999 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:08:18.000 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:08:18.001 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:08:18.001 | INFO     | uvicorn.server:serve:77 - Started server process [14224]
2024-03-10 20:08:18.002 | INFO     | uvicorn.server:serve:77 - Started server process [14224]
2024-03-10 20:08:18.002 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:08:18.002 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:08:18.004 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:08:18.005 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:08:18.005 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:08:21.137 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55034 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 400
2024-03-10 20:11:09.095 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:11:09.095 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:11:09.205 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:11:09.205 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:11:09.206 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:11:09.207 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:11:09.207 | INFO     | uvicorn.server:serve:87 - Finished server process [14224]
2024-03-10 20:11:09.207 | INFO     | uvicorn.server:serve:87 - Finished server process [14224]
2024-03-10 20:11:11.498 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:11:11.498 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:11:11.499 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:11:11.500 | INFO     | uvicorn.server:serve:77 - Started server process [16352]
2024-03-10 20:11:11.500 | INFO     | uvicorn.server:serve:77 - Started server process [16352]
2024-03-10 20:11:11.501 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:11:11.501 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:11:11.502 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:11:11.503 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:11:11.503 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:11:14.298 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55092 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 400
2024-03-10 20:11:17.901 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55092 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 400
2024-03-10 20:11:45.652 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:11:45.652 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:11:45.760 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:11:45.760 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:11:45.761 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:11:45.762 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:11:45.762 | INFO     | uvicorn.server:serve:87 - Finished server process [16352]
2024-03-10 20:11:45.763 | INFO     | uvicorn.server:serve:87 - Finished server process [16352]
2024-03-10 20:11:47.289 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:11:47.289 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:11:47.290 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:11:47.290 | INFO     | uvicorn.server:serve:77 - Started server process [16896]
2024-03-10 20:11:47.291 | INFO     | uvicorn.server:serve:77 - Started server process [16896]
2024-03-10 20:11:47.291 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:11:47.291 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:11:47.292 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:11:47.293 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:11:47.294 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:11:48.562 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55096 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 400
2024-03-10 20:12:55.687 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:12:55.688 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:12:55.793 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:12:55.794 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:12:55.796 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:12:55.797 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:12:55.798 | INFO     | uvicorn.server:serve:87 - Finished server process [16896]
2024-03-10 20:12:55.799 | INFO     | uvicorn.server:serve:87 - Finished server process [16896]
2024-03-10 20:12:57.243 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:12:57.243 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:12:57.244 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:12:57.245 | INFO     | uvicorn.server:serve:77 - Started server process [5592]
2024-03-10 20:12:57.245 | INFO     | uvicorn.server:serve:77 - Started server process [5592]
2024-03-10 20:12:57.246 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:12:57.246 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:12:57.246 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:12:57.247 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:12:57.248 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:12:57.337 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55105 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 20:13:03.301 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55108 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 20:17:41.140 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:17:41.146 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:17:41.247 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:17:41.248 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:17:41.248 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:17:41.249 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:17:41.250 | INFO     | uvicorn.server:serve:87 - Finished server process [5592]
2024-03-10 20:17:41.250 | INFO     | uvicorn.server:serve:87 - Finished server process [5592]
2024-03-10 20:17:43.356 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:17:43.356 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:17:43.357 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:17:43.358 | INFO     | uvicorn.server:serve:77 - Started server process [15504]
2024-03-10 20:17:43.358 | INFO     | uvicorn.server:serve:77 - Started server process [15504]
2024-03-10 20:17:43.359 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:17:43.359 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:17:43.362 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:17:43.364 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:17:43.364 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:17:43.452 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55130 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 20:17:44.247 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55130 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 20:17:45.199 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55130 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 20:18:04.502 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:18:04.504 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:18:04.612 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:18:04.613 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:18:04.614 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:18:04.615 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:18:04.616 | INFO     | uvicorn.server:serve:87 - Finished server process [15504]
2024-03-10 20:18:04.617 | INFO     | uvicorn.server:serve:87 - Finished server process [15504]
2024-03-10 20:18:06.171 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:18:06.171 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:18:06.172 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:18:06.172 | INFO     | uvicorn.server:serve:77 - Started server process [14696]
2024-03-10 20:18:06.173 | INFO     | uvicorn.server:serve:77 - Started server process [14696]
2024-03-10 20:18:06.174 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:18:06.174 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:18:06.175 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:18:06.176 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:18:06.177 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:18:06.949 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55137 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 20:18:36.496 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:18:36.497 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:18:36.605 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:18:36.605 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:18:36.605 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:18:36.605 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:18:36.606 | INFO     | uvicorn.server:serve:87 - Finished server process [14696]
2024-03-10 20:18:36.606 | INFO     | uvicorn.server:serve:87 - Finished server process [14696]
2024-03-10 20:18:38.068 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:18:38.068 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:18:38.069 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:18:38.070 | INFO     | uvicorn.server:serve:77 - Started server process [2312]
2024-03-10 20:18:38.070 | INFO     | uvicorn.server:serve:77 - Started server process [2312]
2024-03-10 20:18:38.071 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:18:38.071 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:18:38.072 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:18:38.073 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:18:38.073 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:18:38.784 | ERROR    | app.crud:wrapper:72 - 操作AddressCRUD失败, args：[], kwargs：{'schema_to_select': <class 'app.schemas.address.AddressPayload'>, 'return_as_model': False, 'id': 'f6129a48-08c8-41df-a1a2-e5cfbecfadb4'}, False方法报错: 'method' object is not iterable
2024-03-10 20:18:38.785 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55143 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 400
2024-03-10 20:18:49.684 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:18:49.684 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:18:49.795 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:18:49.795 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:18:49.796 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:18:49.796 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:18:49.797 | INFO     | uvicorn.server:serve:87 - Finished server process [2312]
2024-03-10 20:18:49.797 | INFO     | uvicorn.server:serve:87 - Finished server process [2312]
2024-03-10 20:18:51.238 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:18:51.239 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:18:51.239 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:18:51.239 | INFO     | uvicorn.server:serve:77 - Started server process [15052]
2024-03-10 20:18:51.241 | INFO     | uvicorn.server:serve:77 - Started server process [15052]
2024-03-10 20:18:51.241 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:18:51.242 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:18:51.243 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:18:51.243 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:18:51.244 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:19:53.852 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:19:53.853 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:19:53.959 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:19:53.961 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:19:53.962 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:19:53.963 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:19:53.964 | INFO     | uvicorn.server:serve:87 - Finished server process [15052]
2024-03-10 20:19:53.965 | INFO     | uvicorn.server:serve:87 - Finished server process [15052]
2024-03-10 20:19:56.124 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:19:56.124 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:19:56.125 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:19:56.125 | INFO     | uvicorn.server:serve:77 - Started server process [15100]
2024-03-10 20:19:56.127 | INFO     | uvicorn.server:serve:77 - Started server process [15100]
2024-03-10 20:19:56.127 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:19:56.128 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:19:56.128 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:19:56.129 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:19:56.130 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:23:09.176 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:23:09.177 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:23:09.285 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:23:09.286 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:23:09.288 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:23:09.289 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:23:09.291 | INFO     | uvicorn.server:serve:87 - Finished server process [15100]
2024-03-10 20:23:09.292 | INFO     | uvicorn.server:serve:87 - Finished server process [15100]
2024-03-10 20:23:11.230 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:23:11.230 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:23:11.231 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:23:11.232 | INFO     | uvicorn.server:serve:77 - Started server process [16132]
2024-03-10 20:23:11.232 | INFO     | uvicorn.server:serve:77 - Started server process [16132]
2024-03-10 20:23:11.233 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:23:11.233 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:23:11.233 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:23:11.234 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:23:11.235 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:23:12.648 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55201 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 20:23:15.133 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55201 - "GET /api/v1/config/gateway?address_id=f6129a48-08c8-41df-a1a2-e5cfbecfadb4 HTTP/1.1" 200
2024-03-10 20:33:43.072 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 20:33:43.075 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 20:33:43.164 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:33:43.166 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:33:43.273 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:33:43.274 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:33:43.275 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:33:43.275 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:33:43.276 | INFO     | uvicorn.server:serve:87 - Finished server process [16132]
2024-03-10 20:33:43.276 | INFO     | uvicorn.server:serve:87 - Finished server process [16132]
2024-03-10 20:33:45.007 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:33:45.008 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:33:45.008 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:33:45.009 | INFO     | uvicorn.server:serve:77 - Started server process [18560]
2024-03-10 20:33:45.010 | INFO     | uvicorn.server:serve:77 - Started server process [18560]
2024-03-10 20:33:45.011 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:33:45.011 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:33:45.012 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:33:45.013 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:33:45.013 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:47:58.926 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:47:58.927 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:47:59.035 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:47:59.035 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:47:59.036 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:47:59.036 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:47:59.037 | INFO     | uvicorn.server:serve:87 - Finished server process [18560]
2024-03-10 20:47:59.037 | INFO     | uvicorn.server:serve:87 - Finished server process [18560]
2024-03-10 20:48:02.255 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:48:02.256 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:48:02.256 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:48:02.257 | INFO     | uvicorn.server:serve:77 - Started server process [19032]
2024-03-10 20:48:02.257 | INFO     | uvicorn.server:serve:77 - Started server process [19032]
2024-03-10 20:48:02.258 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:48:02.258 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:48:02.259 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:48:02.260 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:48:02.260 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:48:44.597 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:48:44.599 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 20:48:44.705 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:48:44.706 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 20:48:44.706 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:48:44.707 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 20:48:44.707 | INFO     | uvicorn.server:serve:87 - Finished server process [19032]
2024-03-10 20:48:44.708 | INFO     | uvicorn.server:serve:87 - Finished server process [19032]
2024-03-10 20:48:46.463 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 20:48:46.464 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 20:48:46.464 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 20:48:46.465 | INFO     | uvicorn.server:serve:77 - Started server process [16120]
2024-03-10 20:48:46.465 | INFO     | uvicorn.server:serve:77 - Started server process [16120]
2024-03-10 20:48:46.466 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:48:46.466 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 20:48:46.466 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 20:48:46.467 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 20:48:46.467 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 21:03:42.088 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 21:03:42.090 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 21:03:42.180 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 21:03:42.181 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 21:03:42.288 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 21:03:42.289 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 21:03:42.289 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 21:03:42.290 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 21:03:42.290 | INFO     | uvicorn.server:serve:87 - Finished server process [16120]
2024-03-10 21:03:42.291 | INFO     | uvicorn.server:serve:87 - Finished server process [16120]
2024-03-10 21:03:44.413 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 21:03:44.413 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 21:03:44.414 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 21:03:44.414 | INFO     | uvicorn.server:serve:77 - Started server process [4376]
2024-03-10 21:03:44.415 | INFO     | uvicorn.server:serve:77 - Started server process [4376]
2024-03-10 21:03:44.415 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 21:03:44.416 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 21:03:44.417 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 21:03:44.418 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 21:03:44.418 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 21:28:01.504 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 21:28:01.505 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 21:28:01.614 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 21:28:01.616 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 21:28:01.616 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 21:28:01.617 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 21:28:01.617 | INFO     | uvicorn.server:serve:87 - Finished server process [4376]
2024-03-10 21:28:01.618 | INFO     | uvicorn.server:serve:87 - Finished server process [4376]
2024-03-10 21:28:03.598 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 21:28:03.598 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 21:28:03.599 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 21:28:03.600 | INFO     | uvicorn.server:serve:77 - Started server process [19216]
2024-03-10 21:28:03.600 | INFO     | uvicorn.server:serve:77 - Started server process [19216]
2024-03-10 21:28:03.601 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 21:28:03.601 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 21:28:03.602 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 21:28:03.603 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 21:28:03.603 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 21:28:05.950 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55751 - "GET /docs HTTP/1.1" 200
2024-03-10 21:28:06.134 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55751 - "GET /openapi.json HTTP/1.1" 200
2024-03-10 21:28:56.835 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55750 - "GET /api/v1/config/gateways HTTP/1.1" 400
2024-03-10 21:28:59.434 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55750 - "GET /api/v1/config/gateways HTTP/1.1" 400
2024-03-10 21:30:17.874 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 21:30:17.874 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 21:30:17.983 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 21:30:17.983 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 21:30:17.984 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 21:30:17.984 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 21:30:17.985 | INFO     | uvicorn.server:serve:87 - Finished server process [19216]
2024-03-10 21:30:17.985 | INFO     | uvicorn.server:serve:87 - Finished server process [19216]
2024-03-10 21:30:19.625 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 21:30:19.625 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 21:30:19.626 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 21:30:19.627 | INFO     | uvicorn.server:serve:77 - Started server process [16048]
2024-03-10 21:30:19.629 | INFO     | uvicorn.server:serve:77 - Started server process [16048]
2024-03-10 21:30:19.630 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 21:30:19.630 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 21:30:19.631 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 21:30:19.632 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 21:30:19.632 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 21:30:22.391 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55769 - "GET /api/v1/config/gateways HTTP/1.1" 400
2024-03-10 21:30:25.513 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55769 - "GET /api/v1/config/gateways HTTP/1.1" 400
2024-03-10 21:32:19.476 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55808 - "GET /api/v1/config/gateways HTTP/1.1" 200
2024-03-10 21:33:41.096 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 21:33:41.097 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 21:35:08.254 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 21:35:08.259 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 21:35:08.364 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 21:35:08.366 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 21:35:08.368 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 21:35:08.368 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 21:35:08.371 | INFO     | uvicorn.server:serve:87 - Finished server process [16048]
2024-03-10 21:35:08.372 | INFO     | uvicorn.server:serve:87 - Finished server process [16048]
2024-03-10 21:35:10.070 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 21:35:10.071 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 21:35:10.072 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 21:35:10.072 | INFO     | uvicorn.server:serve:77 - Started server process [5544]
2024-03-10 21:35:10.073 | INFO     | uvicorn.server:serve:77 - Started server process [5544]
2024-03-10 21:35:10.074 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 21:35:10.074 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 21:35:10.076 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 21:35:10.077 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 21:35:10.077 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 21:35:17.424 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55843 - "GET /api/v1/config/gateways HTTP/1.1" 200
2024-03-10 21:35:34.639 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 21:35:34.639 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 21:35:34.747 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 21:35:34.748 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 21:35:34.750 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 21:35:34.751 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 21:35:34.752 | INFO     | uvicorn.server:serve:87 - Finished server process [5544]
2024-03-10 21:35:34.752 | INFO     | uvicorn.server:serve:87 - Finished server process [5544]
2024-03-10 21:35:36.304 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 21:35:36.305 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 21:35:36.306 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 21:35:36.307 | INFO     | uvicorn.server:serve:77 - Started server process [18576]
2024-03-10 21:35:36.308 | INFO     | uvicorn.server:serve:77 - Started server process [18576]
2024-03-10 21:35:36.308 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 21:35:36.309 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 21:35:36.309 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 21:35:36.310 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 21:35:36.310 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 21:35:40.192 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55847 - "GET /api/v1/config/gateways HTTP/1.1" 200
2024-03-10 21:36:16.859 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 21:36:16.859 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 21:36:16.966 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 21:36:16.966 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 21:36:16.967 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 21:36:16.968 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 21:36:16.968 | INFO     | uvicorn.server:serve:87 - Finished server process [18576]
2024-03-10 21:36:16.968 | INFO     | uvicorn.server:serve:87 - Finished server process [18576]
2024-03-10 21:36:18.606 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 21:36:18.607 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 21:36:18.608 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 21:36:18.608 | INFO     | uvicorn.server:serve:77 - Started server process [19260]
2024-03-10 21:36:18.609 | INFO     | uvicorn.server:serve:77 - Started server process [19260]
2024-03-10 21:36:18.609 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 21:36:18.610 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 21:36:18.611 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 21:36:18.612 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 21:36:18.612 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 21:36:19.897 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55854 - "GET /api/v1/config/gateways HTTP/1.1" 200
2024-03-18 13:03:29.753 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 13:03:29.754 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 13:03:29.754 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 13:03:29.756 | INFO     | uvicorn.server:serve:77 - Started server process [16192]
2024-03-18 13:03:29.756 | INFO     | uvicorn.server:serve:77 - Started server process [16192]
2024-03-18 13:03:29.757 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 13:03:29.757 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 13:03:29.758 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 13:03:29.760 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 13:03:29.761 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 13:06:21.672 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 13:06:21.674 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 13:06:21.777 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 13:06:21.779 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 13:06:21.779 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 13:06:21.780 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 13:06:21.781 | INFO     | uvicorn.server:serve:87 - Finished server process [16192]
2024-03-18 13:06:21.782 | INFO     | uvicorn.server:serve:87 - Finished server process [16192]
2024-03-18 13:06:31.823 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 13:06:31.824 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 13:06:31.824 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 13:06:31.825 | INFO     | uvicorn.server:serve:77 - Started server process [3144]
2024-03-18 13:06:31.826 | INFO     | uvicorn.server:serve:77 - Started server process [3144]
2024-03-18 13:06:31.827 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 13:06:31.827 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 13:06:31.828 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 13:06:31.829 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 13:06:31.829 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 13:09:12.535 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 13:09:12.538 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 13:09:12.642 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 13:09:12.643 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 13:09:12.643 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 13:09:12.645 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 13:09:12.645 | INFO     | uvicorn.server:serve:87 - Finished server process [3144]
2024-03-18 13:09:12.647 | INFO     | uvicorn.server:serve:87 - Finished server process [3144]
2024-03-18 13:09:15.325 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 13:09:15.325 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 13:09:15.325 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 13:09:15.327 | INFO     | uvicorn.server:serve:77 - Started server process [18660]
2024-03-18 13:09:15.327 | INFO     | uvicorn.server:serve:77 - Started server process [18660]
2024-03-18 13:09:15.328 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 13:09:15.328 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 13:09:15.329 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 13:09:15.330 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 13:09:15.332 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 16:30:39.663 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 16:30:39.672 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 16:30:39.781 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 16:30:39.783 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 16:30:39.789 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 16:30:39.791 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 16:30:39.794 | INFO     | uvicorn.server:serve:87 - Finished server process [18660]
2024-03-18 16:30:39.797 | INFO     | uvicorn.server:serve:87 - Finished server process [18660]
2024-03-18 16:30:43.140 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 16:30:43.140 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 16:30:43.141 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 16:30:43.142 | INFO     | uvicorn.server:serve:77 - Started server process [22364]
2024-03-18 16:30:43.143 | INFO     | uvicorn.server:serve:77 - Started server process [22364]
2024-03-18 16:30:43.143 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 16:30:43.144 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 16:30:43.144 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 16:30:43.146 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 16:30:43.147 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 16:33:06.252 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 16:33:06.252 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 16:33:06.361 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 16:33:06.362 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 16:33:06.362 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 16:33:06.368 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 16:33:06.372 | INFO     | uvicorn.server:serve:87 - Finished server process [22364]
2024-03-18 16:33:06.373 | INFO     | uvicorn.server:serve:87 - Finished server process [22364]
2024-03-18 16:33:08.922 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 16:33:08.922 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 16:33:08.923 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 16:33:08.924 | INFO     | uvicorn.server:serve:77 - Started server process [23140]
2024-03-18 16:33:08.925 | INFO     | uvicorn.server:serve:77 - Started server process [23140]
2024-03-18 16:33:08.926 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 16:33:08.926 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 16:33:08.927 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 16:33:08.928 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 16:33:08.929 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 16:36:27.098 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 16:36:27.105 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 16:36:27.206 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 16:36:27.207 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 16:36:27.207 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 16:36:27.208 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 16:36:27.209 | INFO     | uvicorn.server:serve:87 - Finished server process [23140]
2024-03-18 16:36:27.209 | INFO     | uvicorn.server:serve:87 - Finished server process [23140]
2024-03-18 16:38:53.443 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 16:38:53.444 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 16:38:53.445 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 16:38:53.446 | INFO     | uvicorn.server:serve:77 - Started server process [22304]
2024-03-18 16:38:53.447 | INFO     | uvicorn.server:serve:77 - Started server process [22304]
2024-03-18 16:38:53.448 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 16:38:53.448 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 16:38:53.449 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 16:38:53.450 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 16:38:53.451 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 16:38:54.084 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 16:38:54.084 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 16:38:54.190 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 16:38:54.191 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 16:38:54.193 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 16:38:54.194 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 16:38:54.194 | INFO     | uvicorn.server:serve:87 - Finished server process [22304]
2024-03-18 16:38:54.195 | INFO     | uvicorn.server:serve:87 - Finished server process [22304]
2024-03-18 16:38:57.084 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 16:38:57.085 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 16:38:57.085 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 16:38:57.088 | INFO     | uvicorn.server:serve:77 - Started server process [18588]
2024-03-18 16:38:57.089 | INFO     | uvicorn.server:serve:77 - Started server process [18588]
2024-03-18 16:38:57.090 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 16:38:57.091 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 16:38:57.094 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 16:38:57.096 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 16:38:57.098 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 16:43:54.462 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 16:43:54.463 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 16:43:54.570 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 16:43:54.571 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 16:43:54.571 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 16:43:54.572 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 16:43:54.572 | INFO     | uvicorn.server:serve:87 - Finished server process [18588]
2024-03-18 16:43:54.573 | INFO     | uvicorn.server:serve:87 - Finished server process [18588]
2024-03-18 16:43:56.573 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 16:43:56.574 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 16:43:56.574 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 16:43:56.576 | INFO     | uvicorn.server:serve:77 - Started server process [21864]
2024-03-18 16:43:56.576 | INFO     | uvicorn.server:serve:77 - Started server process [21864]
2024-03-18 16:43:56.577 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 16:43:56.577 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 16:43:56.578 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 16:43:56.579 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 16:43:56.579 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 16:46:21.660 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 16:46:21.670 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 16:46:21.785 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 16:46:21.785 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 16:46:21.786 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 16:46:21.787 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 16:46:21.787 | INFO     | uvicorn.server:serve:87 - Finished server process [21864]
2024-03-18 16:46:21.787 | INFO     | uvicorn.server:serve:87 - Finished server process [21864]
2024-03-18 16:46:24.016 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 16:46:24.017 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 16:46:24.017 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 16:46:24.019 | INFO     | uvicorn.server:serve:77 - Started server process [22780]
2024-03-18 16:46:24.019 | INFO     | uvicorn.server:serve:77 - Started server process [22780]
2024-03-18 16:46:24.020 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 16:46:24.020 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 16:46:24.021 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 16:46:24.023 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 16:46:24.023 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 16:47:09.763 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 16:47:09.764 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 16:47:09.871 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 16:47:09.872 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 16:47:09.873 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 16:47:09.873 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 16:47:09.874 | INFO     | uvicorn.server:serve:87 - Finished server process [22780]
2024-03-18 16:47:09.874 | INFO     | uvicorn.server:serve:87 - Finished server process [22780]
2024-03-18 16:47:11.948 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 16:47:11.949 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 16:47:11.950 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 16:47:11.951 | INFO     | uvicorn.server:serve:77 - Started server process [14984]
2024-03-18 16:47:11.951 | INFO     | uvicorn.server:serve:77 - Started server process [14984]
2024-03-18 16:47:11.952 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 16:47:11.952 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 16:47:11.953 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 16:47:11.955 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 16:47:11.955 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:33:02.682 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:33:02.711 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:33:02.839 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:33:02.840 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:33:02.847 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:33:02.848 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:33:02.850 | INFO     | uvicorn.server:serve:87 - Finished server process [14984]
2024-03-18 18:33:02.851 | INFO     | uvicorn.server:serve:87 - Finished server process [14984]
2024-03-18 18:33:05.341 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 18:33:05.342 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 18:33:05.343 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 18:33:05.344 | INFO     | uvicorn.server:serve:77 - Started server process [1340]
2024-03-18 18:33:05.344 | INFO     | uvicorn.server:serve:77 - Started server process [1340]
2024-03-18 18:33:05.345 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:33:05.345 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:33:05.346 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 18:33:05.348 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:33:05.348 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:34:35.191 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:34:35.192 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:34:35.297 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:34:35.297 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:34:35.298 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:34:35.299 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:34:35.299 | INFO     | uvicorn.server:serve:87 - Finished server process [1340]
2024-03-18 18:34:35.299 | INFO     | uvicorn.server:serve:87 - Finished server process [1340]
2024-03-18 18:34:37.377 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 18:34:37.378 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 18:34:37.378 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 18:34:37.380 | INFO     | uvicorn.server:serve:77 - Started server process [22872]
2024-03-18 18:34:37.380 | INFO     | uvicorn.server:serve:77 - Started server process [22872]
2024-03-18 18:34:37.380 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:34:37.381 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:34:37.381 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 18:34:37.383 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:34:37.384 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:41:44.485 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:41:44.486 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:41:44.594 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:41:44.595 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:41:44.596 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:41:44.597 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:41:44.597 | INFO     | uvicorn.server:serve:87 - Finished server process [22872]
2024-03-18 18:41:44.598 | INFO     | uvicorn.server:serve:87 - Finished server process [22872]
2024-03-18 18:41:47.506 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 18:41:47.506 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 18:41:47.507 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 18:41:47.508 | INFO     | uvicorn.server:serve:77 - Started server process [152]
2024-03-18 18:41:47.509 | INFO     | uvicorn.server:serve:77 - Started server process [152]
2024-03-18 18:41:47.509 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:41:47.509 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:41:47.510 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 18:41:47.511 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:41:47.512 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:44:59.275 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:44:59.277 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:44:59.385 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:44:59.385 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:44:59.386 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:44:59.386 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:44:59.386 | INFO     | uvicorn.server:serve:87 - Finished server process [152]
2024-03-18 18:44:59.387 | INFO     | uvicorn.server:serve:87 - Finished server process [152]
2024-03-18 18:45:02.071 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 18:45:02.073 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 18:45:02.074 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 18:45:02.075 | INFO     | uvicorn.server:serve:77 - Started server process [22356]
2024-03-18 18:45:02.076 | INFO     | uvicorn.server:serve:77 - Started server process [22356]
2024-03-18 18:45:02.076 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:45:02.077 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:45:02.078 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 18:45:02.080 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:45:02.080 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:46:11.821 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:46:11.822 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:46:11.928 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:46:11.929 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:46:11.929 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:46:11.930 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:46:11.931 | INFO     | uvicorn.server:serve:87 - Finished server process [22356]
2024-03-18 18:46:11.931 | INFO     | uvicorn.server:serve:87 - Finished server process [22356]
2024-03-18 18:46:14.200 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 18:46:14.201 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 18:46:14.202 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 18:46:14.203 | INFO     | uvicorn.server:serve:77 - Started server process [23516]
2024-03-18 18:46:14.203 | INFO     | uvicorn.server:serve:77 - Started server process [23516]
2024-03-18 18:46:14.204 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:46:14.204 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:46:14.205 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 18:46:14.206 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:46:14.207 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:47:50.398 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:47:50.398 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:47:50.507 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:47:50.507 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:47:50.508 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:47:50.508 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:47:50.509 | INFO     | uvicorn.server:serve:87 - Finished server process [23516]
2024-03-18 18:47:50.509 | INFO     | uvicorn.server:serve:87 - Finished server process [23516]
2024-03-18 18:47:52.813 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 18:47:52.814 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 18:47:52.814 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 18:47:52.815 | INFO     | uvicorn.server:serve:77 - Started server process [18060]
2024-03-18 18:47:52.815 | INFO     | uvicorn.server:serve:77 - Started server process [18060]
2024-03-18 18:47:52.816 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:47:52.816 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:47:52.817 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 18:47:52.818 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:47:52.820 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:48:33.440 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:48:33.441 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:48:33.550 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:48:33.551 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:48:33.552 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:48:33.553 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:48:33.553 | INFO     | uvicorn.server:serve:87 - Finished server process [18060]
2024-03-18 18:48:33.554 | INFO     | uvicorn.server:serve:87 - Finished server process [18060]
2024-03-18 18:48:35.726 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 18:48:35.727 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 18:48:35.727 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 18:48:35.728 | INFO     | uvicorn.server:serve:77 - Started server process [19964]
2024-03-18 18:48:35.729 | INFO     | uvicorn.server:serve:77 - Started server process [19964]
2024-03-18 18:48:35.730 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:48:35.731 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:48:35.732 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 18:48:35.733 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:48:35.735 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:48:49.974 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:48:49.975 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:48:50.084 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:48:50.084 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:48:50.085 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:48:50.086 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:48:50.086 | INFO     | uvicorn.server:serve:87 - Finished server process [19964]
2024-03-18 18:48:50.087 | INFO     | uvicorn.server:serve:87 - Finished server process [19964]
2024-03-18 18:50:40.790 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 18:50:40.791 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 18:50:40.792 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 18:50:40.793 | INFO     | uvicorn.server:serve:77 - Started server process [20884]
2024-03-18 18:50:40.794 | INFO     | uvicorn.server:serve:77 - Started server process [20884]
2024-03-18 18:50:40.795 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:50:40.796 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:50:40.797 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 18:50:40.799 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:50:40.800 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:52:53.306 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 18:52:53.306 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 18:52:53.307 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 18:52:53.308 | INFO     | uvicorn.server:serve:77 - Started server process [9792]
2024-03-18 18:52:53.310 | INFO     | uvicorn.server:serve:77 - Started server process [9792]
2024-03-18 18:52:53.311 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:52:53.311 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:52:53.312 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 18:52:53.313 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:52:53.314 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:53:19.610 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:53:19.610 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:53:19.716 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:53:19.716 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:53:19.717 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:53:19.718 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:53:19.718 | INFO     | uvicorn.server:serve:87 - Finished server process [9792]
2024-03-18 18:53:19.718 | INFO     | uvicorn.server:serve:87 - Finished server process [9792]
2024-03-18 18:53:44.061 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 18:53:44.062 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 18:53:44.063 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 18:53:44.064 | INFO     | uvicorn.server:serve:77 - Started server process [21720]
2024-03-18 18:53:44.065 | INFO     | uvicorn.server:serve:77 - Started server process [21720]
2024-03-18 18:53:44.065 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:53:44.066 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:53:44.067 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 18:53:44.069 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:53:44.071 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:53:50.000 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62647 - "GET / HTTP/1.1" 404
2024-03-18 18:53:50.258 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62647 - "GET /favicon.ico HTTP/1.1" 404
2024-03-18 18:53:58.698 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62648 - "GET /docs HTTP/1.1" 200
2024-03-18 18:53:59.357 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62648 - "GET /static/swagger-ui.css HTTP/1.1" 200
2024-03-18 18:53:59.358 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62649 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 200
2024-03-18 18:53:59.573 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62649 - "GET /openapi.json HTTP/1.1" 200
2024-03-18 18:53:59.658 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62649 - "GET /static/favicon.png HTTP/1.1" 200
2024-03-18 18:54:18.000 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62700 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 18:55:17.655 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:55:17.656 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 18:55:17.763 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:55:17.764 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 18:55:17.764 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:55:17.765 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 18:55:17.765 | INFO     | uvicorn.server:serve:87 - Finished server process [21720]
2024-03-18 18:55:17.766 | INFO     | uvicorn.server:serve:87 - Finished server process [21720]
2024-03-18 18:55:19.459 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 18:55:19.460 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 18:55:19.461 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 18:55:19.462 | INFO     | uvicorn.server:serve:77 - Started server process [12856]
2024-03-18 18:55:19.463 | INFO     | uvicorn.server:serve:77 - Started server process [12856]
2024-03-18 18:55:19.464 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:55:19.464 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 18:55:19.465 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 18:55:19.466 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:55:19.467 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 18:55:21.244 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62809 - "GET /docs HTTP/1.1" 200
2024-03-18 18:55:21.382 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62809 - "GET /openapi.json HTTP/1.1" 200
2024-03-18 18:55:24.922 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62809 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 19:00:07.317 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:00:07.318 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:00:07.427 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:00:07.427 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:00:07.428 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:00:07.429 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:00:07.429 | INFO     | uvicorn.server:serve:87 - Finished server process [12856]
2024-03-18 19:00:07.430 | INFO     | uvicorn.server:serve:87 - Finished server process [12856]
2024-03-18 19:05:55.870 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 19:05:55.871 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 19:05:55.872 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 19:05:55.873 | INFO     | uvicorn.server:serve:77 - Started server process [15784]
2024-03-18 19:05:55.874 | INFO     | uvicorn.server:serve:77 - Started server process [15784]
2024-03-18 19:05:55.874 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:05:55.874 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:05:55.875 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 19:05:55.877 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:05:55.877 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:09:12.437 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:09:12.438 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:09:12.547 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:09:12.548 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:09:12.548 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:09:12.549 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:09:12.549 | INFO     | uvicorn.server:serve:87 - Finished server process [15784]
2024-03-18 19:09:12.550 | INFO     | uvicorn.server:serve:87 - Finished server process [15784]
2024-03-18 19:09:14.715 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 19:09:14.716 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 19:09:14.716 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 19:09:14.718 | INFO     | uvicorn.server:serve:77 - Started server process [17940]
2024-03-18 19:09:14.718 | INFO     | uvicorn.server:serve:77 - Started server process [17940]
2024-03-18 19:09:14.719 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:09:14.719 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:09:14.720 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 19:09:14.721 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:09:14.722 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:09:54.821 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:09:54.822 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:09:54.930 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:09:54.934 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:09:54.935 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:09:54.936 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:09:54.937 | INFO     | uvicorn.server:serve:87 - Finished server process [17940]
2024-03-18 19:09:54.937 | INFO     | uvicorn.server:serve:87 - Finished server process [17940]
2024-03-18 19:09:57.464 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 19:09:57.465 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 19:09:57.465 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 19:09:57.467 | INFO     | uvicorn.server:serve:77 - Started server process [11208]
2024-03-18 19:09:57.467 | INFO     | uvicorn.server:serve:77 - Started server process [11208]
2024-03-18 19:09:57.468 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:09:57.468 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:09:57.469 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 19:09:57.471 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:09:57.471 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:11:56.371 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:11:56.373 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:11:56.480 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:11:56.480 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:11:56.481 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:11:56.482 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:11:56.482 | INFO     | uvicorn.server:serve:87 - Finished server process [11208]
2024-03-18 19:11:56.483 | INFO     | uvicorn.server:serve:87 - Finished server process [11208]
2024-03-18 19:11:58.725 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 19:11:58.725 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 19:11:58.726 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 19:11:58.727 | INFO     | uvicorn.server:serve:77 - Started server process [6940]
2024-03-18 19:11:58.728 | INFO     | uvicorn.server:serve:77 - Started server process [6940]
2024-03-18 19:11:58.729 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:11:58.729 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:11:58.730 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 19:11:58.731 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:11:58.731 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:12:20.187 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:12:20.187 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:12:20.294 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:12:20.294 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:12:20.295 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:12:20.295 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:12:20.296 | INFO     | uvicorn.server:serve:87 - Finished server process [6940]
2024-03-18 19:12:20.296 | INFO     | uvicorn.server:serve:87 - Finished server process [6940]
2024-03-18 19:12:22.372 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 19:12:22.373 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 19:12:22.373 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 19:12:22.375 | INFO     | uvicorn.server:serve:77 - Started server process [12776]
2024-03-18 19:12:22.376 | INFO     | uvicorn.server:serve:77 - Started server process [12776]
2024-03-18 19:12:22.377 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:12:22.377 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:12:22.378 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 19:12:22.380 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:12:22.381 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:12:51.243 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:12:51.246 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:12:51.352 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:12:51.352 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:12:51.353 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:12:51.354 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:12:51.354 | INFO     | uvicorn.server:serve:87 - Finished server process [12776]
2024-03-18 19:12:51.355 | INFO     | uvicorn.server:serve:87 - Finished server process [12776]
2024-03-18 19:12:53.117 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 19:12:53.118 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 19:12:53.118 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 19:12:53.120 | INFO     | uvicorn.server:serve:77 - Started server process [13608]
2024-03-18 19:12:53.121 | INFO     | uvicorn.server:serve:77 - Started server process [13608]
2024-03-18 19:12:53.121 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:12:53.121 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:12:53.123 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 19:12:53.124 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:12:53.125 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:13:02.796 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64293 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 19:13:52.601 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64355 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 19:13:54.513 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64355 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 19:14:24.073 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:14:24.073 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:14:24.183 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:14:24.196 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:14:24.197 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:14:24.198 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:14:24.199 | INFO     | uvicorn.server:serve:87 - Finished server process [13608]
2024-03-18 19:14:24.200 | INFO     | uvicorn.server:serve:87 - Finished server process [13608]
2024-03-18 19:14:25.868 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 19:14:25.868 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 19:14:25.869 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 19:14:25.870 | INFO     | uvicorn.server:serve:77 - Started server process [22236]
2024-03-18 19:14:25.871 | INFO     | uvicorn.server:serve:77 - Started server process [22236]
2024-03-18 19:14:25.871 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:14:25.871 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:14:25.872 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 19:14:25.873 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:14:25.873 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:14:35.378 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:14:35.379 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:14:35.487 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:14:35.501 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:14:35.509 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:14:35.510 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:14:35.511 | INFO     | uvicorn.server:serve:87 - Finished server process [22236]
2024-03-18 19:14:35.515 | INFO     | uvicorn.server:serve:87 - Finished server process [22236]
2024-03-18 19:14:37.197 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 19:14:37.197 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 19:14:37.198 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 19:14:37.199 | INFO     | uvicorn.server:serve:77 - Started server process [20356]
2024-03-18 19:14:37.200 | INFO     | uvicorn.server:serve:77 - Started server process [20356]
2024-03-18 19:14:37.200 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:14:37.201 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:14:37.202 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 19:14:37.203 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:14:37.204 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:14:38.893 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64462 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 19:15:34.322 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:15:34.324 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:15:34.429 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:15:34.429 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:15:34.430 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:15:34.431 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:15:34.431 | INFO     | uvicorn.server:serve:87 - Finished server process [20356]
2024-03-18 19:15:34.432 | INFO     | uvicorn.server:serve:87 - Finished server process [20356]
2024-03-18 19:15:36.189 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 19:15:36.190 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 19:15:36.191 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 19:15:36.192 | INFO     | uvicorn.server:serve:77 - Started server process [20696]
2024-03-18 19:15:36.192 | INFO     | uvicorn.server:serve:77 - Started server process [20696]
2024-03-18 19:15:36.193 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:15:36.193 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:15:36.194 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 19:15:36.197 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:15:36.198 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:15:38.508 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64565 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 19:17:40.561 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:17:40.562 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:17:40.671 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:17:40.672 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 19:17:40.673 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:17:40.673 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 19:17:40.674 | INFO     | uvicorn.server:serve:87 - Finished server process [20696]
2024-03-18 19:17:40.674 | INFO     | uvicorn.server:serve:87 - Finished server process [20696]
2024-03-18 19:18:11.632 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 19:18:11.633 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 19:18:11.634 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 19:18:11.635 | INFO     | uvicorn.server:serve:77 - Started server process [15800]
2024-03-18 19:18:11.636 | INFO     | uvicorn.server:serve:77 - Started server process [15800]
2024-03-18 19:18:11.636 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:18:11.637 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 19:18:11.638 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 19:18:11.639 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:18:11.640 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 19:18:30.558 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:18:30.559 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 19:18:30.668 | INFO     | uvicorn.server:serve:87 - Finished server process [15800]
2024-03-18 19:18:30.669 | INFO     | uvicorn.server:serve:87 - Finished server process [15800]
2024-03-18 19:18:30.672 | ERROR    | uvicorn.lifespan.on:send:134 - Traceback (most recent call last):
  File "D:\brisk\venv\lib\site-packages\starlette\routing.py", line 743, in lifespan
    await receive()
  File "D:\brisk\venv\lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
  File "C:\Users\v_wieszheng\AppData\Local\Programs\Python\Python38\lib\asyncio\queues.py", line 163, in get
    await getter
asyncio.exceptions.CancelledError

2024-03-18 19:18:30.673 | ERROR    | uvicorn.lifespan.on:send:134 - Traceback (most recent call last):
  File "D:\brisk\venv\lib\site-packages\starlette\routing.py", line 743, in lifespan
    await receive()
  File "D:\brisk\venv\lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
  File "C:\Users\v_wieszheng\AppData\Local\Programs\Python\Python38\lib\asyncio\queues.py", line 163, in get
    await getter
asyncio.exceptions.CancelledError

2024-03-18 22:38:25.322 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 22:38:25.324 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 22:38:25.325 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 22:38:25.326 | INFO     | uvicorn.server:serve:77 - Started server process [7748]
2024-03-18 22:38:25.326 | INFO     | uvicorn.server:serve:77 - Started server process [7748]
2024-03-18 22:38:25.327 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 22:38:25.327 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 22:38:25.328 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 22:38:25.330 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 22:38:25.330 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 22:38:37.722 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60484 - "GET /docs HTTP/1.1" 200
2024-03-18 22:38:37.982 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60484 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-18 22:38:37.983 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60485 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-18 22:38:38.200 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60485 - "GET /openapi.json HTTP/1.1" 200
2024-03-18 22:38:50.682 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60490 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 22:38:52.960 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60490 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 22:38:55.509 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60490 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 22:43:50.343 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 22:43:50.343 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 22:43:50.451 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 22:43:50.456 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 22:43:50.458 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 22:43:50.460 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 22:43:50.462 | INFO     | uvicorn.server:serve:87 - Finished server process [7748]
2024-03-18 22:43:50.463 | INFO     | uvicorn.server:serve:87 - Finished server process [7748]
2024-03-18 22:43:51.962 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 22:43:51.963 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 22:43:51.963 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 22:43:51.964 | INFO     | uvicorn.server:serve:77 - Started server process [11504]
2024-03-18 22:43:51.964 | INFO     | uvicorn.server:serve:77 - Started server process [11504]
2024-03-18 22:43:51.965 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 22:43:51.965 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 22:43:51.966 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 22:43:51.967 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 22:43:51.968 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 22:45:13.537 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-18 22:45:13.538 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-18 22:45:13.582 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 22:45:13.582 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 22:45:13.690 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 22:45:13.692 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 22:45:13.694 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 22:45:13.696 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 22:45:13.697 | INFO     | uvicorn.server:serve:87 - Finished server process [11504]
2024-03-18 22:45:13.699 | INFO     | uvicorn.server:serve:87 - Finished server process [11504]
2024-03-18 23:02:58.988 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:02:58.989 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:02:58.989 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:02:58.990 | INFO     | uvicorn.server:serve:77 - Started server process [5196]
2024-03-18 23:02:58.991 | INFO     | uvicorn.server:serve:77 - Started server process [5196]
2024-03-18 23:02:58.991 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:02:58.991 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:02:58.992 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:02:58.993 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:02:58.993 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:03:31.655 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59071 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:03:48.933 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:03:48.934 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:03:49.042 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:03:49.043 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:03:49.045 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:03:49.045 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:03:49.046 | INFO     | uvicorn.server:serve:87 - Finished server process [5196]
2024-03-18 23:03:49.046 | INFO     | uvicorn.server:serve:87 - Finished server process [5196]
2024-03-18 23:03:50.482 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:03:50.482 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:03:50.483 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:03:50.484 | INFO     | uvicorn.server:serve:77 - Started server process [11844]
2024-03-18 23:03:50.484 | INFO     | uvicorn.server:serve:77 - Started server process [11844]
2024-03-18 23:03:50.484 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:03:50.485 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:03:50.485 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:03:50.486 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:03:50.487 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:04:02.306 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59080 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:04:42.315 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59090 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:04:42.429 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:04:42.431 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:04:42.539 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:04:42.540 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:04:42.541 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:04:42.542 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:04:42.542 | INFO     | uvicorn.server:serve:87 - Finished server process [11844]
2024-03-18 23:04:42.543 | INFO     | uvicorn.server:serve:87 - Finished server process [11844]
2024-03-18 23:04:43.956 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:04:43.956 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:04:43.957 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:04:43.957 | INFO     | uvicorn.server:serve:77 - Started server process [8036]
2024-03-18 23:04:43.958 | INFO     | uvicorn.server:serve:77 - Started server process [8036]
2024-03-18 23:04:43.959 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:04:43.959 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:04:43.960 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:04:43.961 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:04:43.961 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:04:44.054 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59093 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 23:05:14.066 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:05:14.070 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:05:14.174 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:05:14.175 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:05:14.176 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:05:14.176 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:05:14.178 | INFO     | uvicorn.server:serve:87 - Finished server process [8036]
2024-03-18 23:05:14.178 | INFO     | uvicorn.server:serve:87 - Finished server process [8036]
2024-03-18 23:05:15.652 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:05:15.652 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:05:15.653 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:05:15.653 | INFO     | uvicorn.server:serve:77 - Started server process [2692]
2024-03-18 23:05:15.654 | INFO     | uvicorn.server:serve:77 - Started server process [2692]
2024-03-18 23:05:15.654 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:05:15.655 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:05:15.656 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:05:15.657 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:05:15.657 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:05:24.967 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59105 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 23:05:58.921 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:05:58.926 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:05:59.030 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:05:59.031 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:05:59.031 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:05:59.031 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:05:59.032 | INFO     | uvicorn.server:serve:87 - Finished server process [2692]
2024-03-18 23:05:59.033 | INFO     | uvicorn.server:serve:87 - Finished server process [2692]
2024-03-18 23:06:00.656 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:06:00.657 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:06:00.657 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:06:00.658 | INFO     | uvicorn.server:serve:77 - Started server process [4880]
2024-03-18 23:06:00.659 | INFO     | uvicorn.server:serve:77 - Started server process [4880]
2024-03-18 23:06:00.659 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:06:00.660 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:06:00.660 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:06:00.661 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:06:00.662 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:06:06.072 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59109 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 23:07:49.433 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:07:49.435 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:07:49.542 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:07:49.546 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:07:49.548 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:07:49.548 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:07:49.549 | INFO     | uvicorn.server:serve:87 - Finished server process [4880]
2024-03-18 23:07:49.549 | INFO     | uvicorn.server:serve:87 - Finished server process [4880]
2024-03-18 23:07:51.230 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:07:51.231 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:07:51.232 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:07:51.232 | INFO     | uvicorn.server:serve:77 - Started server process [11572]
2024-03-18 23:07:51.233 | INFO     | uvicorn.server:serve:77 - Started server process [11572]
2024-03-18 23:07:51.234 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:07:51.235 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:07:51.235 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:07:51.237 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:07:51.237 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:07:53.889 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59133 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 23:08:09.117 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59137 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 23:08:23.878 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:08:23.880 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:08:23.987 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:08:23.988 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:08:23.990 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:08:23.992 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:08:23.993 | INFO     | uvicorn.server:serve:87 - Finished server process [11572]
2024-03-18 23:08:23.994 | INFO     | uvicorn.server:serve:87 - Finished server process [11572]
2024-03-18 23:08:25.598 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:08:25.598 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:08:25.599 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:08:25.600 | INFO     | uvicorn.server:serve:77 - Started server process [12492]
2024-03-18 23:08:25.601 | INFO     | uvicorn.server:serve:77 - Started server process [12492]
2024-03-18 23:08:25.602 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:08:25.602 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:08:25.603 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:08:25.604 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:08:25.604 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:08:28.656 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59141 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 23:08:41.108 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59142 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 23:09:45.968 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:09:45.969 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:09:46.078 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:09:46.080 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:09:46.082 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:09:46.084 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:09:46.086 | INFO     | uvicorn.server:serve:87 - Finished server process [12492]
2024-03-18 23:09:46.088 | INFO     | uvicorn.server:serve:87 - Finished server process [12492]
2024-03-18 23:09:47.589 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:09:47.589 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:09:47.590 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:09:47.590 | INFO     | uvicorn.server:serve:77 - Started server process [14104]
2024-03-18 23:09:47.591 | INFO     | uvicorn.server:serve:77 - Started server process [14104]
2024-03-18 23:09:47.591 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:09:47.592 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:09:47.592 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:09:47.594 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:09:47.594 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:09:51.269 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59159 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 23:11:00.973 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:11:00.973 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:11:01.080 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:11:01.082 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:11:01.085 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:11:01.089 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:11:01.092 | INFO     | uvicorn.server:serve:87 - Finished server process [14104]
2024-03-18 23:11:01.094 | INFO     | uvicorn.server:serve:87 - Finished server process [14104]
2024-03-18 23:11:02.617 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:11:02.618 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:11:02.618 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:11:02.620 | INFO     | uvicorn.server:serve:77 - Started server process [11072]
2024-03-18 23:11:02.620 | INFO     | uvicorn.server:serve:77 - Started server process [11072]
2024-03-18 23:11:02.621 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:11:02.621 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:11:02.622 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:11:02.623 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:11:02.623 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:11:05.658 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59168 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 23:14:03.943 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:14:03.943 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:14:04.052 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:14:04.054 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:14:04.056 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:14:04.059 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:14:04.061 | INFO     | uvicorn.server:serve:87 - Finished server process [11072]
2024-03-18 23:14:04.062 | INFO     | uvicorn.server:serve:87 - Finished server process [11072]
2024-03-18 23:14:05.669 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:14:05.669 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:14:05.670 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:14:05.671 | INFO     | uvicorn.server:serve:77 - Started server process [10300]
2024-03-18 23:14:05.671 | INFO     | uvicorn.server:serve:77 - Started server process [10300]
2024-03-18 23:14:05.672 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:14:05.672 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:14:05.673 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:14:05.673 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:14:05.674 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:14:09.422 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59192 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 23:15:12.725 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-18 23:15:12.727 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-18 23:16:04.417 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:16:04.417 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:16:04.526 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:16:04.527 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:16:04.528 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:16:04.529 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:16:04.530 | INFO     | uvicorn.server:serve:87 - Finished server process [10300]
2024-03-18 23:16:04.531 | INFO     | uvicorn.server:serve:87 - Finished server process [10300]
2024-03-18 23:16:06.749 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:16:06.749 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:16:06.750 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:16:06.751 | INFO     | uvicorn.server:serve:77 - Started server process [11424]
2024-03-18 23:16:06.751 | INFO     | uvicorn.server:serve:77 - Started server process [11424]
2024-03-18 23:16:06.752 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:16:06.752 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:16:06.753 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:16:06.754 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:16:06.754 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:16:09.698 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59214 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 23:16:36.270 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:16:36.270 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:16:36.378 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:16:36.378 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:16:36.380 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:16:36.380 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:16:36.380 | INFO     | uvicorn.server:serve:87 - Finished server process [11424]
2024-03-18 23:16:36.380 | INFO     | uvicorn.server:serve:87 - Finished server process [11424]
2024-03-18 23:16:57.852 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:16:57.852 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:16:57.853 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:16:57.854 | INFO     | uvicorn.server:serve:77 - Started server process [12512]
2024-03-18 23:16:57.855 | INFO     | uvicorn.server:serve:77 - Started server process [12512]
2024-03-18 23:16:57.855 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:16:57.856 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:16:57.857 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:16:57.858 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:16:57.858 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:17:09.566 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:17:09.570 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:17:09.676 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:17:09.677 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:17:09.679 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:17:09.681 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:17:09.682 | INFO     | uvicorn.server:serve:87 - Finished server process [12512]
2024-03-18 23:17:09.683 | INFO     | uvicorn.server:serve:87 - Finished server process [12512]
2024-03-18 23:17:11.994 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:17:11.995 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:17:11.995 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:17:11.995 | INFO     | uvicorn.server:serve:77 - Started server process [3340]
2024-03-18 23:17:11.998 | INFO     | uvicorn.server:serve:77 - Started server process [3340]
2024-03-18 23:17:11.998 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:17:11.998 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:17:11.999 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:17:12.000 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:17:12.025 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:17:32.209 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:17:32.210 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:17:32.319 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:17:32.320 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:17:32.321 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:17:32.321 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:17:32.323 | INFO     | uvicorn.server:serve:87 - Finished server process [3340]
2024-03-18 23:17:32.324 | INFO     | uvicorn.server:serve:87 - Finished server process [3340]
2024-03-18 23:17:33.821 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:17:33.822 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:17:33.822 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:17:33.823 | INFO     | uvicorn.server:serve:77 - Started server process [5388]
2024-03-18 23:17:33.824 | INFO     | uvicorn.server:serve:77 - Started server process [5388]
2024-03-18 23:17:33.824 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:17:33.825 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:17:33.826 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:17:33.829 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:17:33.829 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:17:37.098 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59230 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 23:17:56.703 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:17:56.703 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:17:56.813 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:17:56.815 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:17:56.818 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:17:56.821 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:17:56.824 | INFO     | uvicorn.server:serve:87 - Finished server process [5388]
2024-03-18 23:17:56.827 | INFO     | uvicorn.server:serve:87 - Finished server process [5388]
2024-03-18 23:17:58.481 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:17:58.481 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:17:58.482 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:17:58.483 | INFO     | uvicorn.server:serve:77 - Started server process [2364]
2024-03-18 23:17:58.484 | INFO     | uvicorn.server:serve:77 - Started server process [2364]
2024-03-18 23:17:58.485 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:17:58.485 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:17:58.485 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:17:58.487 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:17:58.487 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:18:07.014 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59234 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 23:19:52.766 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:19:52.766 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:19:52.873 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:19:52.873 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:19:52.873 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:19:52.874 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:19:52.875 | INFO     | uvicorn.server:serve:87 - Finished server process [2364]
2024-03-18 23:19:52.876 | INFO     | uvicorn.server:serve:87 - Finished server process [2364]
2024-03-18 23:19:54.420 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:19:54.421 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:19:54.421 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:19:54.422 | INFO     | uvicorn.server:serve:77 - Started server process [13648]
2024-03-18 23:19:54.423 | INFO     | uvicorn.server:serve:77 - Started server process [13648]
2024-03-18 23:19:54.424 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:19:54.424 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:19:54.424 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:19:54.426 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:19:54.427 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:20:24.707 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59257 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:21:41.603 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:21:41.603 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:21:41.712 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:21:41.714 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:21:41.717 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:21:41.719 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:21:41.720 | INFO     | uvicorn.server:serve:87 - Finished server process [13648]
2024-03-18 23:21:41.722 | INFO     | uvicorn.server:serve:87 - Finished server process [13648]
2024-03-18 23:21:43.407 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:21:43.407 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:21:43.409 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:21:43.410 | INFO     | uvicorn.server:serve:77 - Started server process [12028]
2024-03-18 23:21:43.410 | INFO     | uvicorn.server:serve:77 - Started server process [12028]
2024-03-18 23:21:43.411 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:21:43.411 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:21:43.412 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:21:43.413 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:21:43.414 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:25:29.574 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59300 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:26:17.932 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59315 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:26:18.775 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59315 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:26:41.257 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:26:41.259 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:26:41.382 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:26:41.382 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:26:41.383 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:26:41.383 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:26:41.384 | INFO     | uvicorn.server:serve:87 - Finished server process [12028]
2024-03-18 23:26:41.384 | INFO     | uvicorn.server:serve:87 - Finished server process [12028]
2024-03-18 23:26:42.953 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:26:42.954 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:26:42.954 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:26:42.955 | INFO     | uvicorn.server:serve:77 - Started server process [8252]
2024-03-18 23:26:42.956 | INFO     | uvicorn.server:serve:77 - Started server process [8252]
2024-03-18 23:26:42.957 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:26:42.957 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:26:42.958 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:26:42.959 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:26:42.959 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:27:01.722 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59330 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:27:06.550 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:27:06.550 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:27:06.660 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:27:06.662 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:27:06.664 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:27:06.665 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:27:06.665 | INFO     | uvicorn.server:serve:87 - Finished server process [8252]
2024-03-18 23:27:06.666 | INFO     | uvicorn.server:serve:87 - Finished server process [8252]
2024-03-18 23:27:27.266 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:27:27.266 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:27:27.267 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:27:27.267 | INFO     | uvicorn.server:serve:77 - Started server process [10268]
2024-03-18 23:27:27.268 | INFO     | uvicorn.server:serve:77 - Started server process [10268]
2024-03-18 23:27:27.268 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:27:27.269 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:27:27.269 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:27:27.270 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:27:27.271 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:27:32.771 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59345 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:27:35.174 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59345 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:27:35.591 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59345 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:27:35.807 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59345 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:27:36.032 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59345 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:29:33.074 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:29:33.075 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:29:33.182 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:29:33.183 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:29:33.184 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:29:33.186 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:29:33.187 | INFO     | uvicorn.server:serve:87 - Finished server process [10268]
2024-03-18 23:29:33.188 | INFO     | uvicorn.server:serve:87 - Finished server process [10268]
2024-03-18 23:29:34.839 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:29:34.839 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:29:34.840 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:29:34.841 | INFO     | uvicorn.server:serve:77 - Started server process [15740]
2024-03-18 23:29:34.841 | INFO     | uvicorn.server:serve:77 - Started server process [15740]
2024-03-18 23:29:34.841 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:29:34.842 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:29:34.842 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:29:34.844 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:29:34.844 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:29:35.590 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:29:35.591 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:29:35.699 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:29:35.699 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:29:35.700 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:29:35.700 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:29:35.701 | INFO     | uvicorn.server:serve:87 - Finished server process [15740]
2024-03-18 23:29:35.701 | INFO     | uvicorn.server:serve:87 - Finished server process [15740]
2024-03-18 23:29:53.741 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:29:53.742 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:29:53.742 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:29:53.743 | INFO     | uvicorn.server:serve:77 - Started server process [11592]
2024-03-18 23:29:53.744 | INFO     | uvicorn.server:serve:77 - Started server process [11592]
2024-03-18 23:29:53.744 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:29:53.745 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:29:53.745 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:29:53.746 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:29:53.747 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:29:59.961 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59375 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:33:19.550 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:33:19.550 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:33:19.660 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:33:19.662 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:33:19.664 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:33:19.666 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:33:19.668 | INFO     | uvicorn.server:serve:87 - Finished server process [11592]
2024-03-18 23:33:19.669 | INFO     | uvicorn.server:serve:87 - Finished server process [11592]
2024-03-18 23:33:21.472 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:33:21.473 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:33:21.473 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:33:21.474 | INFO     | uvicorn.server:serve:77 - Started server process [7368]
2024-03-18 23:33:21.475 | INFO     | uvicorn.server:serve:77 - Started server process [7368]
2024-03-18 23:33:21.475 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:33:21.476 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:33:21.476 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:33:21.477 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:33:21.478 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:33:29.000 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59424 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:33:55.014 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:33:55.015 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:33:55.123 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:33:55.124 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:33:55.126 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:33:55.127 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:33:55.127 | INFO     | uvicorn.server:serve:87 - Finished server process [7368]
2024-03-18 23:33:55.129 | INFO     | uvicorn.server:serve:87 - Finished server process [7368]
2024-03-18 23:33:56.816 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:33:56.817 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:33:56.817 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:33:56.817 | INFO     | uvicorn.server:serve:77 - Started server process [14560]
2024-03-18 23:33:56.819 | INFO     | uvicorn.server:serve:77 - Started server process [14560]
2024-03-18 23:33:56.819 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:33:56.820 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:33:56.820 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:33:56.821 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:33:56.821 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:34:03.559 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59430 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:34:26.027 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59432 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:35:26.124 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:35:26.126 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:35:26.233 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:35:26.234 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:35:26.237 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:35:26.238 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:35:26.241 | INFO     | uvicorn.server:serve:87 - Finished server process [14560]
2024-03-18 23:35:26.242 | INFO     | uvicorn.server:serve:87 - Finished server process [14560]
2024-03-18 23:35:27.937 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:35:27.937 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:35:27.938 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:35:27.938 | INFO     | uvicorn.server:serve:77 - Started server process [2488]
2024-03-18 23:35:27.940 | INFO     | uvicorn.server:serve:77 - Started server process [2488]
2024-03-18 23:35:27.940 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:35:27.941 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:35:27.941 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:35:27.943 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:35:27.943 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:35:55.043 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:35:55.045 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:35:55.154 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:35:55.167 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:35:55.169 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:35:55.171 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:35:55.173 | INFO     | uvicorn.server:serve:87 - Finished server process [2488]
2024-03-18 23:35:55.174 | INFO     | uvicorn.server:serve:87 - Finished server process [2488]
2024-03-18 23:35:56.870 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:35:56.870 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:35:56.871 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:35:56.871 | INFO     | uvicorn.server:serve:77 - Started server process [284]
2024-03-18 23:35:56.872 | INFO     | uvicorn.server:serve:77 - Started server process [284]
2024-03-18 23:35:56.872 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:35:56.873 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:35:56.873 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:35:56.874 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:35:56.874 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:36:08.635 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:36:08.635 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:36:08.744 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:36:08.746 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:36:08.749 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:36:08.750 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:36:08.752 | INFO     | uvicorn.server:serve:87 - Finished server process [284]
2024-03-18 23:36:08.754 | INFO     | uvicorn.server:serve:87 - Finished server process [284]
2024-03-18 23:36:12.421 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:36:12.422 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:36:12.422 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:36:12.424 | INFO     | uvicorn.server:serve:77 - Started server process [12220]
2024-03-18 23:36:12.424 | INFO     | uvicorn.server:serve:77 - Started server process [12220]
2024-03-18 23:36:12.424 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:36:12.425 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:36:12.425 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:36:12.426 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:36:12.427 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:36:52.147 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:36:52.149 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:36:52.256 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:36:52.265 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:36:52.280 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:36:52.282 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:36:52.284 | INFO     | uvicorn.server:serve:87 - Finished server process [12220]
2024-03-18 23:36:52.285 | INFO     | uvicorn.server:serve:87 - Finished server process [12220]
2024-03-18 23:36:53.861 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:36:53.861 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:36:53.862 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:36:53.863 | INFO     | uvicorn.server:serve:77 - Started server process [9056]
2024-03-18 23:36:53.863 | INFO     | uvicorn.server:serve:77 - Started server process [9056]
2024-03-18 23:36:53.864 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:36:53.865 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:36:53.865 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:36:53.866 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:36:53.867 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:37:13.648 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:37:13.650 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:37:13.755 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:37:13.759 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:37:13.761 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:37:13.763 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:37:13.765 | INFO     | uvicorn.server:serve:87 - Finished server process [9056]
2024-03-18 23:37:13.766 | INFO     | uvicorn.server:serve:87 - Finished server process [9056]
2024-03-18 23:37:15.254 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:37:15.255 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:37:15.255 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:37:15.256 | INFO     | uvicorn.server:serve:77 - Started server process [3320]
2024-03-18 23:37:15.257 | INFO     | uvicorn.server:serve:77 - Started server process [3320]
2024-03-18 23:37:15.257 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:37:15.258 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:37:15.258 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:37:15.259 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:37:15.260 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:37:57.585 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:37:57.587 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:37:57.694 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:37:57.696 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:37:57.699 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:37:57.701 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:37:57.703 | INFO     | uvicorn.server:serve:87 - Finished server process [3320]
2024-03-18 23:37:57.705 | INFO     | uvicorn.server:serve:87 - Finished server process [3320]
2024-03-18 23:37:59.403 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:37:59.404 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:37:59.405 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:37:59.406 | INFO     | uvicorn.server:serve:77 - Started server process [11268]
2024-03-18 23:37:59.407 | INFO     | uvicorn.server:serve:77 - Started server process [11268]
2024-03-18 23:37:59.407 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:37:59.408 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:37:59.408 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:37:59.410 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:37:59.411 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:38:02.144 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59471 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:38:03.809 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59471 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:38:21.078 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59473 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:38:33.973 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:38:33.974 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:38:34.082 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:38:34.083 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:38:34.085 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:38:34.087 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:38:34.088 | INFO     | uvicorn.server:serve:87 - Finished server process [11268]
2024-03-18 23:38:34.089 | INFO     | uvicorn.server:serve:87 - Finished server process [11268]
2024-03-18 23:38:35.780 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:38:35.781 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:38:35.782 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:38:35.782 | INFO     | uvicorn.server:serve:77 - Started server process [2944]
2024-03-18 23:38:35.783 | INFO     | uvicorn.server:serve:77 - Started server process [2944]
2024-03-18 23:38:35.783 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:38:35.784 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:38:35.785 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:38:35.786 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:38:35.787 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:38:38.177 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59478 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:38:46.090 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59479 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:38:58.693 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59480 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:39:50.751 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:39:50.752 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:39:50.859 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:39:50.861 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:39:50.864 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:39:50.865 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:39:50.867 | INFO     | uvicorn.server:serve:87 - Finished server process [2944]
2024-03-18 23:39:50.869 | INFO     | uvicorn.server:serve:87 - Finished server process [2944]
2024-03-18 23:39:53.390 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:39:53.390 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:39:53.391 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:39:53.391 | INFO     | uvicorn.server:serve:77 - Started server process [7276]
2024-03-18 23:39:53.392 | INFO     | uvicorn.server:serve:77 - Started server process [7276]
2024-03-18 23:39:53.392 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:39:53.393 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:39:53.393 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:39:53.395 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:39:53.395 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:39:55.156 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59494 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:40:39.247 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59501 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:40:43.121 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59501 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:42:01.271 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:42:01.271 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:42:01.379 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:42:01.379 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:42:01.380 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:42:01.380 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:42:01.381 | INFO     | uvicorn.server:serve:87 - Finished server process [7276]
2024-03-18 23:42:01.381 | INFO     | uvicorn.server:serve:87 - Finished server process [7276]
2024-03-18 23:42:03.563 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:42:03.564 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:42:03.564 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:42:03.565 | INFO     | uvicorn.server:serve:77 - Started server process [5388]
2024-03-18 23:42:03.566 | INFO     | uvicorn.server:serve:77 - Started server process [5388]
2024-03-18 23:42:03.566 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:42:03.567 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:42:03.568 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:42:03.569 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:42:03.569 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:42:18.557 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:42:18.558 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:42:18.669 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:42:18.680 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:42:18.681 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:42:18.682 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:42:18.682 | INFO     | uvicorn.server:serve:87 - Finished server process [5388]
2024-03-18 23:42:18.684 | INFO     | uvicorn.server:serve:87 - Finished server process [5388]
2024-03-18 23:42:21.113 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:42:21.113 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:42:21.113 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:42:21.114 | INFO     | uvicorn.server:serve:77 - Started server process [15780]
2024-03-18 23:42:21.115 | INFO     | uvicorn.server:serve:77 - Started server process [15780]
2024-03-18 23:42:21.116 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:42:21.117 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:42:21.118 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:42:21.119 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:42:21.119 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:42:29.463 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59533 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-18 23:43:18.880 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:43:18.880 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:43:18.989 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:43:18.991 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:43:18.994 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:43:18.996 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:43:18.998 | INFO     | uvicorn.server:serve:87 - Finished server process [15780]
2024-03-18 23:43:19.000 | INFO     | uvicorn.server:serve:87 - Finished server process [15780]
2024-03-18 23:44:00.873 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:44:00.873 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:44:00.874 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:44:00.876 | INFO     | uvicorn.server:serve:77 - Started server process [13296]
2024-03-18 23:44:00.877 | INFO     | uvicorn.server:serve:77 - Started server process [13296]
2024-03-18 23:44:00.878 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:44:00.878 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:44:00.879 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:44:00.880 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:44:00.880 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:44:12.278 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59552 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-18 23:45:11.745 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-18 23:45:11.746 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-18 23:45:47.314 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:45:47.315 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:45:47.424 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:45:47.425 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:45:47.428 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:45:47.429 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:45:47.432 | INFO     | uvicorn.server:serve:87 - Finished server process [13296]
2024-03-18 23:45:47.432 | INFO     | uvicorn.server:serve:87 - Finished server process [13296]
2024-03-18 23:45:49.277 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:45:49.277 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:45:49.278 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:45:49.279 | INFO     | uvicorn.server:serve:77 - Started server process [14852]
2024-03-18 23:45:49.279 | INFO     | uvicorn.server:serve:77 - Started server process [14852]
2024-03-18 23:45:49.280 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:45:49.280 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:45:49.281 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:45:49.282 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:45:49.282 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:47:35.307 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:47:35.308 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:47:35.418 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:47:35.418 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:47:35.419 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:47:35.419 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:47:35.420 | INFO     | uvicorn.server:serve:87 - Finished server process [14852]
2024-03-18 23:47:35.420 | INFO     | uvicorn.server:serve:87 - Finished server process [14852]
2024-03-18 23:50:34.942 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:50:34.942 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:50:34.942 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:50:34.943 | INFO     | uvicorn.server:serve:77 - Started server process [15520]
2024-03-18 23:50:34.944 | INFO     | uvicorn.server:serve:77 - Started server process [15520]
2024-03-18 23:50:34.944 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:50:34.945 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:50:34.945 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:50:34.946 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:50:34.947 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:50:41.987 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:50:41.990 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:50:42.111 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:50:42.114 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:50:42.119 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:50:42.120 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:50:42.122 | INFO     | uvicorn.server:serve:87 - Finished server process [15520]
2024-03-18 23:50:42.126 | INFO     | uvicorn.server:serve:87 - Finished server process [15520]
2024-03-18 23:50:44.523 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:50:44.527 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:50:44.535 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:50:44.538 | INFO     | uvicorn.server:serve:77 - Started server process [11228]
2024-03-18 23:50:44.542 | INFO     | uvicorn.server:serve:77 - Started server process [11228]
2024-03-18 23:50:44.555 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:50:44.556 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:50:44.560 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:50:44.569 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:50:44.570 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:50:48.826 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:50:48.826 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:50:48.936 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:50:48.938 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:50:48.941 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:50:48.945 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:50:48.948 | INFO     | uvicorn.server:serve:87 - Finished server process [11228]
2024-03-18 23:50:48.950 | INFO     | uvicorn.server:serve:87 - Finished server process [11228]
2024-03-18 23:50:50.748 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:50:50.748 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:50:50.748 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:50:50.749 | INFO     | uvicorn.server:serve:77 - Started server process [1892]
2024-03-18 23:50:50.750 | INFO     | uvicorn.server:serve:77 - Started server process [1892]
2024-03-18 23:50:50.750 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:50:50.750 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:50:50.751 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:50:50.752 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:50:50.752 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:51:00.128 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:51:00.128 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:51:00.236 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:51:00.238 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:51:00.242 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:51:00.245 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:51:00.248 | INFO     | uvicorn.server:serve:87 - Finished server process [1892]
2024-03-18 23:51:00.250 | INFO     | uvicorn.server:serve:87 - Finished server process [1892]
2024-03-18 23:51:01.823 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:51:01.824 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:51:01.824 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:51:01.825 | INFO     | uvicorn.server:serve:77 - Started server process [1392]
2024-03-18 23:51:01.826 | INFO     | uvicorn.server:serve:77 - Started server process [1392]
2024-03-18 23:51:01.826 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:51:01.827 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:51:01.827 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:51:01.828 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:51:01.828 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:51:55.352 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:51:55.352 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:51:55.463 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:51:55.465 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:51:55.467 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:51:55.469 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:51:55.471 | INFO     | uvicorn.server:serve:87 - Finished server process [1392]
2024-03-18 23:51:55.473 | INFO     | uvicorn.server:serve:87 - Finished server process [1392]
2024-03-18 23:53:30.152 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:53:30.152 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:53:30.153 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:53:30.154 | INFO     | uvicorn.server:serve:77 - Started server process [6968]
2024-03-18 23:53:30.154 | INFO     | uvicorn.server:serve:77 - Started server process [6968]
2024-03-18 23:53:30.154 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:53:30.155 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:53:30.155 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:53:30.157 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:53:30.157 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:53:38.544 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:53:38.545 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:53:38.653 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:53:38.659 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:53:38.663 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:53:38.665 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:53:38.666 | INFO     | uvicorn.server:serve:87 - Finished server process [6968]
2024-03-18 23:53:38.669 | INFO     | uvicorn.server:serve:87 - Finished server process [6968]
2024-03-18 23:53:40.440 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:53:40.441 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:53:40.441 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:53:40.442 | INFO     | uvicorn.server:serve:77 - Started server process [15524]
2024-03-18 23:53:40.443 | INFO     | uvicorn.server:serve:77 - Started server process [15524]
2024-03-18 23:53:40.443 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:53:40.444 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:53:40.444 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:53:40.445 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:53:40.446 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:54:05.967 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:54:05.969 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:54:06.090 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:54:06.093 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:54:06.095 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:54:06.097 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:54:06.099 | INFO     | uvicorn.server:serve:87 - Finished server process [15524]
2024-03-18 23:54:06.101 | INFO     | uvicorn.server:serve:87 - Finished server process [15524]
2024-03-18 23:54:07.727 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:54:07.728 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:54:07.728 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:54:07.729 | INFO     | uvicorn.server:serve:77 - Started server process [7080]
2024-03-18 23:54:07.730 | INFO     | uvicorn.server:serve:77 - Started server process [7080]
2024-03-18 23:54:07.730 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:54:07.731 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:54:07.732 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:54:07.733 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:54:07.733 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:54:32.554 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:54:32.557 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:54:32.664 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:54:32.664 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:54:32.665 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:54:32.665 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:54:32.666 | INFO     | uvicorn.server:serve:87 - Finished server process [7080]
2024-03-18 23:54:32.666 | INFO     | uvicorn.server:serve:87 - Finished server process [7080]
2024-03-18 23:54:34.251 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:54:34.252 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:54:34.253 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:54:34.254 | INFO     | uvicorn.server:serve:77 - Started server process [9572]
2024-03-18 23:54:34.254 | INFO     | uvicorn.server:serve:77 - Started server process [9572]
2024-03-18 23:54:34.254 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:54:34.255 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:54:34.255 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:54:34.257 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:54:34.257 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:55:01.169 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:55:01.174 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:55:01.277 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:55:01.279 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:55:01.281 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:55:01.284 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:55:01.287 | INFO     | uvicorn.server:serve:87 - Finished server process [9572]
2024-03-18 23:55:01.290 | INFO     | uvicorn.server:serve:87 - Finished server process [9572]
2024-03-18 23:55:02.894 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:55:02.894 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:55:02.895 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:55:02.895 | INFO     | uvicorn.server:serve:77 - Started server process [10752]
2024-03-18 23:55:02.896 | INFO     | uvicorn.server:serve:77 - Started server process [10752]
2024-03-18 23:55:02.896 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:55:02.896 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:55:02.897 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:55:02.898 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:55:02.899 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:56:22.833 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:56:22.840 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:56:22.942 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:56:22.942 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:56:22.943 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:56:22.943 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:56:22.944 | INFO     | uvicorn.server:serve:87 - Finished server process [10752]
2024-03-18 23:56:22.944 | INFO     | uvicorn.server:serve:87 - Finished server process [10752]
2024-03-18 23:56:24.961 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:56:24.962 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:56:24.962 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:56:24.963 | INFO     | uvicorn.server:serve:77 - Started server process [3716]
2024-03-18 23:56:24.964 | INFO     | uvicorn.server:serve:77 - Started server process [3716]
2024-03-18 23:56:24.964 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:56:24.965 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:56:24.965 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:56:24.967 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:56:24.968 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:58:27.476 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:58:27.478 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:58:27.585 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:58:27.587 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:58:27.589 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:58:27.592 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:58:27.594 | INFO     | uvicorn.server:serve:87 - Finished server process [3716]
2024-03-18 23:58:27.596 | INFO     | uvicorn.server:serve:87 - Finished server process [3716]
2024-03-18 23:58:29.350 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:58:29.350 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:58:29.351 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:58:29.352 | INFO     | uvicorn.server:serve:77 - Started server process [11268]
2024-03-18 23:58:29.352 | INFO     | uvicorn.server:serve:77 - Started server process [11268]
2024-03-18 23:58:29.353 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:58:29.353 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:58:29.354 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:58:29.355 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:58:29.355 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:59:02.201 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:59:02.203 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:59:02.311 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:59:02.312 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:59:02.312 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:59:02.313 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:59:02.313 | INFO     | uvicorn.server:serve:87 - Finished server process [11268]
2024-03-18 23:59:02.315 | INFO     | uvicorn.server:serve:87 - Finished server process [11268]
2024-03-18 23:59:04.160 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:59:04.161 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:59:04.161 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:59:04.162 | INFO     | uvicorn.server:serve:77 - Started server process [1908]
2024-03-18 23:59:04.163 | INFO     | uvicorn.server:serve:77 - Started server process [1908]
2024-03-18 23:59:04.163 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:59:04.164 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:59:04.164 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:59:04.166 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:59:04.166 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:59:54.583 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:59:54.588 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-18 23:59:54.693 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:59:54.695 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-18 23:59:54.699 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:59:54.701 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-18 23:59:54.703 | INFO     | uvicorn.server:serve:87 - Finished server process [1908]
2024-03-18 23:59:54.705 | INFO     | uvicorn.server:serve:87 - Finished server process [1908]
2024-03-18 23:59:56.771 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-18 23:59:56.772 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-18 23:59:56.773 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-18 23:59:56.776 | INFO     | uvicorn.server:serve:77 - Started server process [1248]
2024-03-18 23:59:56.777 | INFO     | uvicorn.server:serve:77 - Started server process [1248]
2024-03-18 23:59:56.778 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:59:56.778 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-18 23:59:56.779 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-18 23:59:56.783 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-18 23:59:56.784 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 00:01:29.256 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 00:01:29.258 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 00:01:29.364 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 00:01:29.364 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 00:01:29.365 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 00:01:29.366 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 00:01:29.366 | INFO     | uvicorn.server:serve:87 - Finished server process [1248]
2024-03-19 00:01:29.367 | INFO     | uvicorn.server:serve:87 - Finished server process [1248]
2024-03-19 00:01:31.112 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 00:01:31.113 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 00:01:31.113 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 00:01:31.114 | INFO     | uvicorn.server:serve:77 - Started server process [3324]
2024-03-19 00:01:31.114 | INFO     | uvicorn.server:serve:77 - Started server process [3324]
2024-03-19 00:01:31.115 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 00:01:31.115 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 00:01:31.116 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 00:01:31.117 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 00:01:31.117 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 00:01:37.270 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59809 - "GET /docs HTTP/1.1" 200
2024-03-19 00:01:37.472 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59809 - "GET /openapi.json HTTP/1.1" 200
2024-03-19 00:01:44.279 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59808 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-19 00:01:55.681 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59814 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-19 00:02:32.716 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 00:02:32.717 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 00:02:32.827 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 00:02:32.829 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 00:02:32.830 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 00:02:32.832 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 00:02:32.833 | INFO     | uvicorn.server:serve:87 - Finished server process [3324]
2024-03-19 00:02:32.834 | INFO     | uvicorn.server:serve:87 - Finished server process [3324]
2024-03-19 00:02:34.879 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 00:02:34.879 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 00:02:34.880 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 00:02:34.880 | INFO     | uvicorn.server:serve:77 - Started server process [2784]
2024-03-19 00:02:34.881 | INFO     | uvicorn.server:serve:77 - Started server process [2784]
2024-03-19 00:02:34.881 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 00:02:34.882 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 00:02:34.882 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 00:02:34.883 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 00:02:34.884 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 00:02:36.524 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59837 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 00:03:07.700 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 00:03:07.702 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 00:03:07.809 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 00:03:07.811 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 00:03:07.814 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 00:03:07.815 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 00:03:07.817 | INFO     | uvicorn.server:serve:87 - Finished server process [2784]
2024-03-19 00:03:07.819 | INFO     | uvicorn.server:serve:87 - Finished server process [2784]
2024-03-19 00:03:09.484 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 00:03:09.484 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 00:03:09.485 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 00:03:09.486 | INFO     | uvicorn.server:serve:77 - Started server process [7708]
2024-03-19 00:03:09.486 | INFO     | uvicorn.server:serve:77 - Started server process [7708]
2024-03-19 00:03:09.487 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 00:03:09.487 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 00:03:09.488 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 00:03:09.489 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 00:03:09.489 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 00:03:12.676 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59842 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 00:03:40.430 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59843 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 00:04:01.772 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59844 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 00:04:34.014 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 00:04:34.015 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 00:04:34.130 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 00:04:34.320 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 00:04:34.420 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 00:04:34.478 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 00:04:34.489 | INFO     | uvicorn.server:serve:87 - Finished server process [7708]
2024-03-19 00:04:34.493 | INFO     | uvicorn.server:serve:87 - Finished server process [7708]
2024-03-19 00:04:36.190 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 00:04:36.191 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 00:04:36.191 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 00:04:36.192 | INFO     | uvicorn.server:serve:77 - Started server process [9696]
2024-03-19 00:04:36.192 | INFO     | uvicorn.server:serve:77 - Started server process [9696]
2024-03-19 00:04:36.193 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 00:04:36.193 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 00:04:36.194 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 00:04:36.195 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 00:04:36.195 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 00:04:45.322 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59861 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 00:04:51.187 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 00:04:51.188 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 00:04:51.295 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 00:04:51.297 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 00:04:51.300 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 00:04:51.302 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 00:04:51.304 | INFO     | uvicorn.server:serve:87 - Finished server process [9696]
2024-03-19 00:04:51.305 | INFO     | uvicorn.server:serve:87 - Finished server process [9696]
2024-03-19 17:50:09.315 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 17:50:09.317 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 17:50:09.319 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 17:50:09.321 | INFO     | uvicorn.server:serve:77 - Started server process [4740]
2024-03-19 17:50:09.321 | INFO     | uvicorn.server:serve:77 - Started server process [4740]
2024-03-19 17:50:09.322 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 17:50:09.322 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 17:50:09.323 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 17:50:09.325 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 17:50:09.325 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 17:50:41.743 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64212 - "GET / HTTP/1.1" 404
2024-03-19 17:50:42.619 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64212 - "GET /favicon.ico HTTP/1.1" 404
2024-03-19 17:50:48.489 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64211 - "GET /docs HTTP/1.1" 200
2024-03-19 17:50:49.164 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64211 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 200
2024-03-19 17:50:49.165 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64221 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-19 17:50:49.374 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64211 - "GET /openapi.json HTTP/1.1" 200
2024-03-19 17:50:59.317 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64253 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 17:51:11.151 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64298 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 17:51:12.970 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64298 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 17:51:14.225 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64298 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 17:52:08.209 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64451 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 17:52:12.385 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64480 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 17:54:13.987 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 17:54:13.987 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 17:54:13.989 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64600 - "GET /docs HTTP/1.1" 200
2024-03-19 17:54:14.089 | INFO     | uvicorn.server:_wait_tasks_to_complete:303 - Waiting for connections to close. (CTRL+C to force quit)
2024-03-19 17:54:14.090 | INFO     | uvicorn.server:_wait_tasks_to_complete:303 - Waiting for connections to close. (CTRL+C to force quit)
2024-03-19 17:54:14.172 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64600 - "GET /openapi.json HTTP/1.1" 200
2024-03-19 17:54:14.324 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64600 - "GET /static/favicon.png HTTP/1.1" 304
2024-03-19 17:54:19.409 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 17:54:19.410 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 17:54:19.411 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 17:54:19.412 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 17:54:19.412 | INFO     | uvicorn.server:serve:87 - Finished server process [4740]
2024-03-19 17:54:19.413 | INFO     | uvicorn.server:serve:87 - Finished server process [4740]
2024-03-19 17:54:21.474 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 17:54:21.475 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 17:54:21.476 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 17:54:21.476 | INFO     | uvicorn.server:serve:77 - Started server process [8228]
2024-03-19 17:54:21.477 | INFO     | uvicorn.server:serve:77 - Started server process [8228]
2024-03-19 17:54:21.478 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 17:54:21.478 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 17:54:21.479 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 17:54:21.480 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 17:54:21.481 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 17:54:29.103 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64708 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 17:54:36.880 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64721 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 17:54:37.956 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64721 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 17:55:30.371 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 17:55:30.372 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 17:55:30.486 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 17:55:30.498 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 17:55:30.537 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 17:55:30.572 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 17:55:30.573 | INFO     | uvicorn.server:serve:87 - Finished server process [8228]
2024-03-19 17:55:30.579 | INFO     | uvicorn.server:serve:87 - Finished server process [8228]
2024-03-19 17:55:32.426 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 17:55:32.426 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 17:55:32.427 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 17:55:32.428 | INFO     | uvicorn.server:serve:77 - Started server process [23312]
2024-03-19 17:55:32.429 | INFO     | uvicorn.server:serve:77 - Started server process [23312]
2024-03-19 17:55:32.431 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 17:55:32.431 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 17:55:32.432 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 17:55:32.434 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 17:55:32.434 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 17:55:37.883 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:64825 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 17:57:36.429 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 17:57:36.430 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 17:57:36.534 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 17:57:36.535 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 17:57:36.537 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 17:57:36.538 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 17:57:36.538 | INFO     | uvicorn.server:serve:87 - Finished server process [23312]
2024-03-19 17:57:36.539 | INFO     | uvicorn.server:serve:87 - Finished server process [23312]
2024-03-19 17:57:38.981 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 17:57:38.981 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 17:57:38.983 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 17:57:38.985 | INFO     | uvicorn.server:serve:77 - Started server process [1788]
2024-03-19 17:57:38.985 | INFO     | uvicorn.server:serve:77 - Started server process [1788]
2024-03-19 17:57:38.986 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 17:57:38.986 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 17:57:38.987 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 17:57:38.988 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 17:57:38.988 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 17:59:43.430 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 17:59:43.431 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 17:59:43.538 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 17:59:43.538 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 17:59:43.540 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 17:59:43.540 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 17:59:43.540 | INFO     | uvicorn.server:serve:87 - Finished server process [1788]
2024-03-19 17:59:43.541 | INFO     | uvicorn.server:serve:87 - Finished server process [1788]
2024-03-19 17:59:46.250 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 17:59:46.251 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 17:59:46.252 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 17:59:46.252 | INFO     | uvicorn.server:serve:77 - Started server process [21284]
2024-03-19 17:59:46.253 | INFO     | uvicorn.server:serve:77 - Started server process [21284]
2024-03-19 17:59:46.254 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 17:59:46.255 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 17:59:46.255 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 17:59:46.257 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 17:59:46.257 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:00:48.175 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:00:48.176 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:00:48.282 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:00:48.283 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:00:48.285 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:00:48.285 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:00:48.286 | INFO     | uvicorn.server:serve:87 - Finished server process [21284]
2024-03-19 18:00:48.286 | INFO     | uvicorn.server:serve:87 - Finished server process [21284]
2024-03-19 18:00:50.992 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:00:50.992 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:00:50.994 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:00:50.994 | INFO     | uvicorn.server:serve:77 - Started server process [21748]
2024-03-19 18:00:50.995 | INFO     | uvicorn.server:serve:77 - Started server process [21748]
2024-03-19 18:00:50.995 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:00:50.996 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:00:50.996 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:00:50.997 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:00:50.998 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:03:05.808 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:03:05.809 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:03:05.914 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:03:05.914 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:03:05.916 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:03:05.917 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:03:05.917 | INFO     | uvicorn.server:serve:87 - Finished server process [21748]
2024-03-19 18:03:05.917 | INFO     | uvicorn.server:serve:87 - Finished server process [21748]
2024-03-19 18:05:14.853 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:05:14.853 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:05:14.855 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:05:14.857 | INFO     | uvicorn.server:serve:77 - Started server process [21724]
2024-03-19 18:05:14.858 | INFO     | uvicorn.server:serve:77 - Started server process [21724]
2024-03-19 18:05:14.858 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:05:14.859 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:05:14.859 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:05:14.860 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:05:14.861 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:05:37.411 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:05:37.412 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:05:37.517 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:05:37.518 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:05:37.519 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:05:37.519 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:05:37.520 | INFO     | uvicorn.server:serve:87 - Finished server process [21724]
2024-03-19 18:05:37.520 | INFO     | uvicorn.server:serve:87 - Finished server process [21724]
2024-03-19 18:05:39.408 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:05:39.409 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:05:39.410 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:05:39.411 | INFO     | uvicorn.server:serve:77 - Started server process [22460]
2024-03-19 18:05:39.411 | INFO     | uvicorn.server:serve:77 - Started server process [22460]
2024-03-19 18:05:39.412 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:05:39.412 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:05:39.413 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:05:39.414 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:05:39.414 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:06:36.860 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:06:36.863 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:06:36.967 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:06:36.968 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:06:36.971 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:06:36.972 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:06:36.973 | INFO     | uvicorn.server:serve:87 - Finished server process [22460]
2024-03-19 18:06:36.974 | INFO     | uvicorn.server:serve:87 - Finished server process [22460]
2024-03-19 18:06:38.962 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:06:38.962 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:06:38.964 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:06:38.966 | INFO     | uvicorn.server:serve:77 - Started server process [5024]
2024-03-19 18:06:38.966 | INFO     | uvicorn.server:serve:77 - Started server process [5024]
2024-03-19 18:06:38.967 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:06:38.967 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:06:38.968 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:06:38.969 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:06:38.969 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:06:42.434 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:06:42.455 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:06:42.586 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:06:42.602 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:06:42.628 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:06:42.635 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:06:42.672 | INFO     | uvicorn.server:serve:87 - Finished server process [5024]
2024-03-19 18:06:42.686 | INFO     | uvicorn.server:serve:87 - Finished server process [5024]
2024-03-19 18:06:45.453 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:06:45.454 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:06:45.455 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:06:45.456 | INFO     | uvicorn.server:serve:77 - Started server process [23372]
2024-03-19 18:06:45.456 | INFO     | uvicorn.server:serve:77 - Started server process [23372]
2024-03-19 18:06:45.457 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:06:45.457 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:06:45.458 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:06:45.459 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:06:45.459 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:13:45.720 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:13:45.721 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:13:45.829 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:13:45.829 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:13:45.831 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:13:45.831 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:13:45.832 | INFO     | uvicorn.server:serve:87 - Finished server process [23372]
2024-03-19 18:13:45.832 | INFO     | uvicorn.server:serve:87 - Finished server process [23372]
2024-03-19 18:13:48.320 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:13:48.322 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:13:48.323 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:13:48.325 | INFO     | uvicorn.server:serve:77 - Started server process [10292]
2024-03-19 18:13:48.326 | INFO     | uvicorn.server:serve:77 - Started server process [10292]
2024-03-19 18:13:48.327 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:13:48.327 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:13:48.328 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:13:48.334 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:13:48.336 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:14:13.317 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:14:13.317 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:14:13.423 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:14:13.424 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:14:13.425 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:14:13.425 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:14:13.426 | INFO     | uvicorn.server:serve:87 - Finished server process [10292]
2024-03-19 18:14:13.426 | INFO     | uvicorn.server:serve:87 - Finished server process [10292]
2024-03-19 18:14:16.053 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:14:16.054 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:14:16.055 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:14:16.056 | INFO     | uvicorn.server:serve:77 - Started server process [4276]
2024-03-19 18:14:16.056 | INFO     | uvicorn.server:serve:77 - Started server process [4276]
2024-03-19 18:14:16.057 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:14:16.057 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:14:16.058 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:14:16.059 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:14:16.059 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:14:40.704 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52119 - "GET /docs HTTP/1.1" 200
2024-03-19 18:14:40.847 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52119 - "GET /openapi.json HTTP/1.1" 200
2024-03-19 18:14:53.694 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52120 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 18:15:04.572 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52171 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:15:19.677 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52216 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 18:15:58.109 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52294 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 18:16:07.133 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:52303 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:18:41.201 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:18:41.202 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:18:41.308 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:18:41.309 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:18:41.309 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:18:41.310 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:18:41.310 | INFO     | uvicorn.server:serve:87 - Finished server process [4276]
2024-03-19 18:18:41.311 | INFO     | uvicorn.server:serve:87 - Finished server process [4276]
2024-03-19 18:18:43.619 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:18:43.620 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:18:43.621 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:18:43.622 | INFO     | uvicorn.server:serve:77 - Started server process [4812]
2024-03-19 18:18:43.622 | INFO     | uvicorn.server:serve:77 - Started server process [4812]
2024-03-19 18:18:43.623 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:18:43.623 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:18:43.623 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:18:43.625 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:18:43.625 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:18:48.299 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:53014 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:19:35.030 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:19:35.031 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:19:35.139 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:19:35.139 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:19:35.140 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:19:35.141 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:19:35.141 | INFO     | uvicorn.server:serve:87 - Finished server process [4812]
2024-03-19 18:19:35.142 | INFO     | uvicorn.server:serve:87 - Finished server process [4812]
2024-03-19 18:19:37.110 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:19:37.110 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:19:37.111 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:19:37.112 | INFO     | uvicorn.server:serve:77 - Started server process [16412]
2024-03-19 18:19:37.112 | INFO     | uvicorn.server:serve:77 - Started server process [16412]
2024-03-19 18:19:37.113 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:19:37.113 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:19:37.114 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:19:37.117 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:19:37.118 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:19:38.254 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:53120 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:19:46.842 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:19:46.843 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:19:46.954 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:19:46.954 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:19:46.956 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:19:46.956 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:19:46.957 | INFO     | uvicorn.server:serve:87 - Finished server process [16412]
2024-03-19 18:19:46.957 | INFO     | uvicorn.server:serve:87 - Finished server process [16412]
2024-03-19 18:19:49.201 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:19:49.202 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:19:49.203 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:19:49.204 | INFO     | uvicorn.server:serve:77 - Started server process [20552]
2024-03-19 18:19:49.204 | INFO     | uvicorn.server:serve:77 - Started server process [20552]
2024-03-19 18:19:49.205 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:19:49.205 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:19:49.205 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:19:49.207 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:19:49.207 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:19:57.444 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:53161 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:20:31.141 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:20:31.143 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:20:31.262 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:20:31.263 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:20:31.264 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:20:31.265 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:20:31.265 | INFO     | uvicorn.server:serve:87 - Finished server process [20552]
2024-03-19 18:20:31.266 | INFO     | uvicorn.server:serve:87 - Finished server process [20552]
2024-03-19 18:20:33.458 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:20:33.458 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:20:33.459 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:20:33.460 | INFO     | uvicorn.server:serve:77 - Started server process [7464]
2024-03-19 18:20:33.461 | INFO     | uvicorn.server:serve:77 - Started server process [7464]
2024-03-19 18:20:33.462 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:20:33.463 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:20:33.463 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:20:33.465 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:20:33.465 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:20:46.403 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:53272 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:22:03.454 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:22:03.454 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:22:03.562 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:22:03.562 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:22:03.563 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:22:03.564 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:22:03.564 | INFO     | uvicorn.server:serve:87 - Finished server process [7464]
2024-03-19 18:22:03.565 | INFO     | uvicorn.server:serve:87 - Finished server process [7464]
2024-03-19 18:22:05.717 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:22:05.717 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:22:05.719 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:22:05.720 | INFO     | uvicorn.server:serve:77 - Started server process [9520]
2024-03-19 18:22:05.721 | INFO     | uvicorn.server:serve:77 - Started server process [9520]
2024-03-19 18:22:05.722 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:22:05.723 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:22:05.724 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:22:05.725 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:22:05.726 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:22:05.774 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54301 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:22:06.533 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54301 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:22:07.423 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54301 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:22:08.017 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54301 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:22:08.631 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54301 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:22:38.082 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:22:38.083 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:22:38.187 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:22:38.187 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:22:38.189 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:22:38.189 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:22:38.189 | INFO     | uvicorn.server:serve:87 - Finished server process [9520]
2024-03-19 18:22:38.190 | INFO     | uvicorn.server:serve:87 - Finished server process [9520]
2024-03-19 18:22:40.848 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:22:40.849 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:22:40.850 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:22:40.852 | INFO     | uvicorn.server:serve:77 - Started server process [22572]
2024-03-19 18:22:40.852 | INFO     | uvicorn.server:serve:77 - Started server process [22572]
2024-03-19 18:22:40.852 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:22:40.853 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:22:40.853 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:22:40.854 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:22:40.854 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:22:42.691 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54370 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:22:46.401 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:54370 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:23:31.078 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:23:31.078 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:23:31.185 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:23:31.186 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:23:31.187 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:23:31.187 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:23:31.188 | INFO     | uvicorn.server:serve:87 - Finished server process [22572]
2024-03-19 18:23:31.188 | INFO     | uvicorn.server:serve:87 - Finished server process [22572]
2024-03-19 18:23:33.531 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:23:33.532 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:23:33.533 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:23:33.534 | INFO     | uvicorn.server:serve:77 - Started server process [8872]
2024-03-19 18:23:33.535 | INFO     | uvicorn.server:serve:77 - Started server process [8872]
2024-03-19 18:23:33.535 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:23:33.536 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:23:33.536 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:23:33.538 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:23:33.538 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:23:33.782 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55064 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:23:34.912 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55064 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:23:35.649 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55064 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:24:05.180 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55122 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:24:22.418 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55145 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:25:18.415 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55768 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:25:25.742 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:55771 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:27:02.112 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:27:02.113 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:27:02.235 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:27:02.235 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:27:02.237 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:27:02.237 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:27:02.238 | INFO     | uvicorn.server:serve:87 - Finished server process [8872]
2024-03-19 18:27:02.238 | INFO     | uvicorn.server:serve:87 - Finished server process [8872]
2024-03-19 18:27:04.705 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:27:04.705 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:27:04.709 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:27:04.710 | INFO     | uvicorn.server:serve:77 - Started server process [22988]
2024-03-19 18:27:04.710 | INFO     | uvicorn.server:serve:77 - Started server process [22988]
2024-03-19 18:27:04.710 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:27:04.711 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:27:04.711 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:27:04.712 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:27:04.712 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:27:12.907 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56051 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:28:29.744 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:28:29.744 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:28:29.850 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:28:29.851 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:28:29.852 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:28:29.853 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:28:29.854 | INFO     | uvicorn.server:serve:87 - Finished server process [22988]
2024-03-19 18:28:29.854 | INFO     | uvicorn.server:serve:87 - Finished server process [22988]
2024-03-19 18:28:32.301 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:28:32.302 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:28:32.303 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:28:32.304 | INFO     | uvicorn.server:serve:77 - Started server process [22032]
2024-03-19 18:28:32.304 | INFO     | uvicorn.server:serve:77 - Started server process [22032]
2024-03-19 18:28:32.305 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:28:32.305 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:28:32.306 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:28:32.307 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:28:32.308 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:28:37.825 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56820 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:28:38.930 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56820 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:28:39.924 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56820 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:29:10.744 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:29:10.745 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:29:10.851 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:29:10.851 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:29:10.852 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:29:10.852 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:29:10.853 | INFO     | uvicorn.server:serve:87 - Finished server process [22032]
2024-03-19 18:29:10.853 | INFO     | uvicorn.server:serve:87 - Finished server process [22032]
2024-03-19 18:29:12.576 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:29:12.577 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:29:12.578 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:29:12.579 | INFO     | uvicorn.server:serve:77 - Started server process [24316]
2024-03-19 18:29:12.579 | INFO     | uvicorn.server:serve:77 - Started server process [24316]
2024-03-19 18:29:12.580 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:29:12.580 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:29:12.581 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:29:12.582 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:29:12.582 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:29:22.570 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57266 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:37:44.937 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:37:44.938 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:37:45.047 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:37:45.047 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:37:45.049 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:37:45.049 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:37:45.049 | INFO     | uvicorn.server:serve:87 - Finished server process [24316]
2024-03-19 18:37:45.050 | INFO     | uvicorn.server:serve:87 - Finished server process [24316]
2024-03-19 18:37:47.661 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:37:47.662 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:37:47.664 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:37:47.664 | INFO     | uvicorn.server:serve:77 - Started server process [21256]
2024-03-19 18:37:47.665 | INFO     | uvicorn.server:serve:77 - Started server process [21256]
2024-03-19 18:37:47.665 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:37:47.665 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:37:47.666 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:37:47.667 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:37:47.667 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:37:48.539 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58802 - "GET /docs HTTP/1.1" 200
2024-03-19 18:37:48.687 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58802 - "GET /openapi.json HTTP/1.1" 200
2024-03-19 18:39:19.757 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:39:19.757 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:39:19.868 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:39:19.873 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:39:19.875 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:39:19.876 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:39:19.876 | INFO     | uvicorn.server:serve:87 - Finished server process [21256]
2024-03-19 18:39:19.876 | INFO     | uvicorn.server:serve:87 - Finished server process [21256]
2024-03-19 18:39:21.710 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:39:21.710 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:39:21.711 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:39:21.712 | INFO     | uvicorn.server:serve:77 - Started server process [24064]
2024-03-19 18:39:21.712 | INFO     | uvicorn.server:serve:77 - Started server process [24064]
2024-03-19 18:39:21.713 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:39:21.713 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:39:21.714 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:39:21.715 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:39:21.715 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:39:28.820 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58995 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 18:39:47.660 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59041 - "GET /api/v1/users/me HTTP/1.1" 403
2024-03-19 18:39:50.500 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59041 - "GET /api/v1/users/me HTTP/1.1" 403
2024-03-19 18:40:12.509 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59083 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:40:36.386 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59127 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:40:39.271 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59127 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:40:51.476 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59142 - "PUT /api/v1/users/update HTTP/1.1" 403
2024-03-19 18:41:37.528 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:41:37.529 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:41:37.637 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:41:37.638 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:41:37.640 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:41:37.641 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:41:37.641 | INFO     | uvicorn.server:serve:87 - Finished server process [24064]
2024-03-19 18:41:37.641 | INFO     | uvicorn.server:serve:87 - Finished server process [24064]
2024-03-19 18:41:39.575 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:41:39.577 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:41:39.578 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:41:39.580 | INFO     | uvicorn.server:serve:77 - Started server process [24028]
2024-03-19 18:41:39.581 | INFO     | uvicorn.server:serve:77 - Started server process [24028]
2024-03-19 18:41:39.581 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:41:39.581 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:41:39.582 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:41:39.583 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:41:39.585 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:41:55.385 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:41:55.385 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:41:55.496 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:41:55.497 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:41:55.501 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:41:55.503 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:41:55.504 | INFO     | uvicorn.server:serve:87 - Finished server process [24028]
2024-03-19 18:41:55.505 | INFO     | uvicorn.server:serve:87 - Finished server process [24028]
2024-03-19 18:41:57.517 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:41:57.518 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:41:57.520 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:41:57.520 | INFO     | uvicorn.server:serve:77 - Started server process [24044]
2024-03-19 18:41:57.521 | INFO     | uvicorn.server:serve:77 - Started server process [24044]
2024-03-19 18:41:57.521 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:41:57.521 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:41:57.522 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:41:57.523 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:41:57.523 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:41:59.669 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59313 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:42:15.247 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:42:15.248 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:42:15.356 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:42:15.356 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:42:15.357 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:42:15.358 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:42:15.358 | INFO     | uvicorn.server:serve:87 - Finished server process [24044]
2024-03-19 18:42:15.358 | INFO     | uvicorn.server:serve:87 - Finished server process [24044]
2024-03-19 18:42:17.884 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:42:17.884 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:42:17.885 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:42:17.886 | INFO     | uvicorn.server:serve:77 - Started server process [23000]
2024-03-19 18:42:17.886 | INFO     | uvicorn.server:serve:77 - Started server process [23000]
2024-03-19 18:42:17.887 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:42:17.887 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:42:17.887 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:42:17.889 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:42:17.889 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:42:18.441 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59371 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:43:12.602 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59475 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:43:55.515 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59556 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:44:35.599 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59620 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:46:46.221 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:46:46.221 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:46:46.331 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:46:46.331 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:46:46.333 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:46:46.333 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:46:46.333 | INFO     | uvicorn.server:serve:87 - Finished server process [23000]
2024-03-19 18:46:46.334 | INFO     | uvicorn.server:serve:87 - Finished server process [23000]
2024-03-19 18:46:48.318 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:46:48.318 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:46:48.319 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:46:48.320 | INFO     | uvicorn.server:serve:77 - Started server process [17696]
2024-03-19 18:46:48.321 | INFO     | uvicorn.server:serve:77 - Started server process [17696]
2024-03-19 18:46:48.321 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:46:48.322 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:46:48.322 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:46:48.323 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:46:48.324 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:48:38.783 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:48:38.784 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:48:38.891 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:48:38.891 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:48:38.892 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:48:38.892 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:48:38.893 | INFO     | uvicorn.server:serve:87 - Finished server process [17696]
2024-03-19 18:48:38.893 | INFO     | uvicorn.server:serve:87 - Finished server process [17696]
2024-03-19 18:48:41.213 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:48:41.213 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:48:41.215 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:48:41.216 | INFO     | uvicorn.server:serve:77 - Started server process [10428]
2024-03-19 18:48:41.217 | INFO     | uvicorn.server:serve:77 - Started server process [10428]
2024-03-19 18:48:41.218 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:48:41.218 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:48:41.219 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:48:41.221 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:48:41.221 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:49:42.765 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:49:42.765 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:49:42.872 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:49:42.872 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:49:42.874 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:49:42.874 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:49:42.875 | INFO     | uvicorn.server:serve:87 - Finished server process [10428]
2024-03-19 18:49:42.875 | INFO     | uvicorn.server:serve:87 - Finished server process [10428]
2024-03-19 18:49:45.123 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:49:45.125 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:49:45.126 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:49:45.127 | INFO     | uvicorn.server:serve:77 - Started server process [23896]
2024-03-19 18:49:45.128 | INFO     | uvicorn.server:serve:77 - Started server process [23896]
2024-03-19 18:49:45.129 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:49:45.130 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:49:45.131 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:49:45.132 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:49:45.135 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:49:53.861 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60229 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:50:43.058 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:50:43.059 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:50:43.166 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:50:43.167 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:50:43.168 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:50:43.168 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:50:43.169 | INFO     | uvicorn.server:serve:87 - Finished server process [23896]
2024-03-19 18:50:43.169 | INFO     | uvicorn.server:serve:87 - Finished server process [23896]
2024-03-19 18:50:45.184 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:50:45.185 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:50:45.186 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:50:45.187 | INFO     | uvicorn.server:serve:77 - Started server process [16768]
2024-03-19 18:50:45.187 | INFO     | uvicorn.server:serve:77 - Started server process [16768]
2024-03-19 18:50:45.188 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:50:45.189 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:50:45.190 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:50:45.191 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:50:45.192 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:50:46.564 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60312 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:52:46.731 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:52:46.732 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:52:46.840 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:52:46.841 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:52:46.842 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:52:46.842 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:52:46.843 | INFO     | uvicorn.server:serve:87 - Finished server process [16768]
2024-03-19 18:52:46.843 | INFO     | uvicorn.server:serve:87 - Finished server process [16768]
2024-03-19 18:52:48.826 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:52:48.826 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:52:48.827 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:52:48.828 | INFO     | uvicorn.server:serve:77 - Started server process [21784]
2024-03-19 18:52:48.829 | INFO     | uvicorn.server:serve:77 - Started server process [21784]
2024-03-19 18:52:48.830 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:52:48.831 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:52:48.832 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:52:48.833 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:52:48.834 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:52:50.437 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60582 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:52:55.173 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60582 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:53:00.039 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60582 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-19 18:54:55.836 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60842 - "GET /docs HTTP/1.1" 200
2024-03-19 18:54:56.150 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60842 - "GET /openapi.json HTTP/1.1" 200
2024-03-19 18:55:07.374 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60843 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 18:55:17.280 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60888 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 18:55:39.160 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60906 - "GET /api/v1/users/me HTTP/1.1" 403
2024-03-19 18:55:43.308 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60906 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-19 18:57:44.112 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:57:44.113 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:57:44.222 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:57:44.223 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:57:44.227 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:57:44.229 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:57:44.229 | INFO     | uvicorn.server:serve:87 - Finished server process [21784]
2024-03-19 18:57:44.230 | INFO     | uvicorn.server:serve:87 - Finished server process [21784]
2024-03-19 18:57:46.354 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:57:46.355 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:57:46.356 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:57:46.357 | INFO     | uvicorn.server:serve:77 - Started server process [22888]
2024-03-19 18:57:46.358 | INFO     | uvicorn.server:serve:77 - Started server process [22888]
2024-03-19 18:57:46.358 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:57:46.359 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:57:46.359 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:57:46.361 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:57:46.361 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:58:11.183 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:58:11.183 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:58:11.293 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:58:11.294 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:58:11.296 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:58:11.296 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:58:11.296 | INFO     | uvicorn.server:serve:87 - Finished server process [22888]
2024-03-19 18:58:11.297 | INFO     | uvicorn.server:serve:87 - Finished server process [22888]
2024-03-19 18:58:13.835 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:58:13.835 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:58:13.837 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:58:13.837 | INFO     | uvicorn.server:serve:77 - Started server process [14448]
2024-03-19 18:58:13.838 | INFO     | uvicorn.server:serve:77 - Started server process [14448]
2024-03-19 18:58:13.838 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:58:13.839 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:58:13.841 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:58:13.842 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:58:13.842 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:59:01.883 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:59:01.883 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:59:01.992 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:59:01.992 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:59:01.993 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:59:01.994 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:59:01.994 | INFO     | uvicorn.server:serve:87 - Finished server process [14448]
2024-03-19 18:59:01.995 | INFO     | uvicorn.server:serve:87 - Finished server process [14448]
2024-03-19 18:59:04.265 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:59:04.265 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:59:04.266 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:59:04.266 | INFO     | uvicorn.server:serve:77 - Started server process [13032]
2024-03-19 18:59:04.270 | INFO     | uvicorn.server:serve:77 - Started server process [13032]
2024-03-19 18:59:04.270 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:59:04.271 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:59:04.271 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:59:04.272 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:59:04.274 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:59:18.010 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:59:18.010 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 18:59:18.120 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:59:18.121 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 18:59:18.122 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:59:18.126 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 18:59:18.126 | INFO     | uvicorn.server:serve:87 - Finished server process [13032]
2024-03-19 18:59:18.128 | INFO     | uvicorn.server:serve:87 - Finished server process [13032]
2024-03-19 18:59:20.544 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 18:59:20.545 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 18:59:20.546 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 18:59:20.546 | INFO     | uvicorn.server:serve:77 - Started server process [22884]
2024-03-19 18:59:20.547 | INFO     | uvicorn.server:serve:77 - Started server process [22884]
2024-03-19 18:59:20.548 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:59:20.548 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 18:59:20.549 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 18:59:20.551 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 18:59:20.551 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:01:03.949 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:01:03.949 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:01:04.058 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:01:04.058 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:01:04.060 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:01:04.061 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:01:04.061 | INFO     | uvicorn.server:serve:87 - Finished server process [22884]
2024-03-19 19:01:04.062 | INFO     | uvicorn.server:serve:87 - Finished server process [22884]
2024-03-19 19:01:05.921 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 19:01:05.921 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 19:01:05.923 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 19:01:05.923 | INFO     | uvicorn.server:serve:77 - Started server process [22776]
2024-03-19 19:01:05.924 | INFO     | uvicorn.server:serve:77 - Started server process [22776]
2024-03-19 19:01:05.925 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:01:05.925 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:01:05.926 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 19:01:05.927 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:01:05.928 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:02:45.796 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:02:45.797 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:02:45.906 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:02:45.907 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:02:45.909 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:02:45.909 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:02:45.909 | INFO     | uvicorn.server:serve:87 - Finished server process [22776]
2024-03-19 19:02:45.910 | INFO     | uvicorn.server:serve:87 - Finished server process [22776]
2024-03-19 19:02:48.453 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 19:02:48.453 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 19:02:48.454 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 19:02:48.455 | INFO     | uvicorn.server:serve:77 - Started server process [18156]
2024-03-19 19:02:48.455 | INFO     | uvicorn.server:serve:77 - Started server process [18156]
2024-03-19 19:02:48.456 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:02:48.457 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:02:48.457 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 19:02:48.458 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:02:48.459 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:03:20.829 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:03:20.830 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:03:20.939 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:03:20.939 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:03:20.941 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:03:20.941 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:03:20.941 | INFO     | uvicorn.server:serve:87 - Finished server process [18156]
2024-03-19 19:03:20.942 | INFO     | uvicorn.server:serve:87 - Finished server process [18156]
2024-03-19 19:03:23.400 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 19:03:23.401 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 19:03:23.402 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 19:03:23.402 | INFO     | uvicorn.server:serve:77 - Started server process [23928]
2024-03-19 19:03:23.403 | INFO     | uvicorn.server:serve:77 - Started server process [23928]
2024-03-19 19:03:23.404 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:03:23.405 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:03:23.405 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 19:03:23.407 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:03:23.407 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:03:25.769 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:03:25.774 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:03:25.878 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:03:25.878 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:03:25.880 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:03:25.880 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:03:25.881 | INFO     | uvicorn.server:serve:87 - Finished server process [23928]
2024-03-19 19:03:25.881 | INFO     | uvicorn.server:serve:87 - Finished server process [23928]
2024-03-19 19:03:27.809 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 19:03:27.810 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 19:03:27.811 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 19:03:27.812 | INFO     | uvicorn.server:serve:77 - Started server process [15604]
2024-03-19 19:03:27.813 | INFO     | uvicorn.server:serve:77 - Started server process [15604]
2024-03-19 19:03:27.813 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:03:27.813 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:03:27.814 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 19:03:27.815 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:03:27.815 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:03:35.592 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62061 - "GET /docs HTTP/1.1" 200
2024-03-19 19:03:35.733 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62061 - "GET /openapi.json HTTP/1.1" 200
2024-03-19 19:03:43.542 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62062 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 19:04:07.393 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62103 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 403
2024-03-19 19:04:21.185 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62122 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 403
2024-03-19 19:04:50.259 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:04:50.288 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:04:50.400 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:04:50.400 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:04:50.402 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:04:50.402 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:04:50.402 | INFO     | uvicorn.server:serve:87 - Finished server process [15604]
2024-03-19 19:04:50.403 | INFO     | uvicorn.server:serve:87 - Finished server process [15604]
2024-03-19 19:04:52.876 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 19:04:52.877 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 19:04:52.878 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 19:04:52.881 | INFO     | uvicorn.server:serve:77 - Started server process [23388]
2024-03-19 19:04:52.882 | INFO     | uvicorn.server:serve:77 - Started server process [23388]
2024-03-19 19:04:52.884 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:04:52.884 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:04:52.885 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 19:04:52.887 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:04:52.887 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:05:04.116 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62180 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-19 19:05:28.651 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62223 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-19 19:05:33.435 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62223 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 403
2024-03-19 19:05:34.873 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62223 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 403
2024-03-19 19:05:35.412 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62223 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 403
2024-03-19 19:05:35.629 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62223 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 403
2024-03-19 19:05:35.860 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62223 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 403
2024-03-19 19:05:36.076 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62223 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 403
2024-03-19 19:05:37.842 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62223 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 403
2024-03-19 19:05:38.369 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62223 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 403
2024-03-19 19:05:43.042 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62223 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-19 19:05:49.763 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62247 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 403
2024-03-19 19:05:51.090 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62247 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 403
2024-03-19 19:05:51.328 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62247 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 403
2024-03-19 19:05:51.528 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62247 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 403
2024-03-19 19:06:26.369 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62306 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 19:06:28.627 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62306 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-19 19:06:37.900 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62330 - "GET /api/v1/users/me HTTP/1.1" 403
2024-03-19 19:06:48.662 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62382 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-19 19:06:54.492 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62389 - "DELETE /api/v1/users/id?user_id=45 HTTP/1.1" 200
2024-03-19 19:06:57.149 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62389 - "DELETE /api/v1/users/id?user_id=1 HTTP/1.1" 200
2024-03-19 19:07:10.030 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62422 - "DELETE /api/v1/users/id?user_id=2 HTTP/1.1" 200
2024-03-19 19:11:14.907 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:11:14.909 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:11:15.017 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:11:15.017 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:11:15.019 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:11:15.019 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:11:15.020 | INFO     | uvicorn.server:serve:87 - Finished server process [23388]
2024-03-19 19:11:15.020 | INFO     | uvicorn.server:serve:87 - Finished server process [23388]
2024-03-19 19:11:17.612 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 19:11:17.613 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 19:11:17.614 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 19:11:17.615 | INFO     | uvicorn.server:serve:77 - Started server process [23292]
2024-03-19 19:11:17.615 | INFO     | uvicorn.server:serve:77 - Started server process [23292]
2024-03-19 19:11:17.615 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:11:17.616 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:11:17.616 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 19:11:17.618 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:11:17.618 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:11:54.100 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:11:54.101 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:11:54.206 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:11:54.207 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:11:54.208 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:11:54.208 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:11:54.209 | INFO     | uvicorn.server:serve:87 - Finished server process [23292]
2024-03-19 19:11:54.209 | INFO     | uvicorn.server:serve:87 - Finished server process [23292]
2024-03-19 19:11:56.278 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 19:11:56.280 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 19:11:56.280 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 19:11:56.281 | INFO     | uvicorn.server:serve:77 - Started server process [14448]
2024-03-19 19:11:56.282 | INFO     | uvicorn.server:serve:77 - Started server process [14448]
2024-03-19 19:11:56.282 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:11:56.283 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:11:56.283 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 19:11:56.285 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:11:56.286 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:13:31.755 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:13:31.756 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:13:31.863 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:13:31.863 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:13:31.865 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:13:31.865 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:13:31.866 | INFO     | uvicorn.server:serve:87 - Finished server process [14448]
2024-03-19 19:13:31.866 | INFO     | uvicorn.server:serve:87 - Finished server process [14448]
2024-03-19 19:13:34.829 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 19:13:34.829 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 19:13:34.830 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 19:13:34.831 | INFO     | uvicorn.server:serve:77 - Started server process [14804]
2024-03-19 19:13:34.831 | INFO     | uvicorn.server:serve:77 - Started server process [14804]
2024-03-19 19:13:34.832 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:13:34.832 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:13:34.833 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 19:13:34.834 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:13:34.834 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:13:42.027 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:13:42.027 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:13:42.136 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:13:42.136 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:13:42.139 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:13:42.140 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:13:42.140 | INFO     | uvicorn.server:serve:87 - Finished server process [14804]
2024-03-19 19:13:42.141 | INFO     | uvicorn.server:serve:87 - Finished server process [14804]
2024-03-19 19:13:44.046 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 19:13:44.047 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 19:13:44.048 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 19:13:44.049 | INFO     | uvicorn.server:serve:77 - Started server process [17696]
2024-03-19 19:13:44.049 | INFO     | uvicorn.server:serve:77 - Started server process [17696]
2024-03-19 19:13:44.050 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:13:44.050 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:13:44.051 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 19:13:44.053 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:13:44.053 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:14:28.796 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:14:28.797 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:14:28.907 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:14:28.907 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:14:28.909 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:14:28.909 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:14:28.910 | INFO     | uvicorn.server:serve:87 - Finished server process [17696]
2024-03-19 19:14:28.910 | INFO     | uvicorn.server:serve:87 - Finished server process [17696]
2024-03-19 19:14:32.102 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 19:14:32.102 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 19:14:32.103 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 19:14:32.104 | INFO     | uvicorn.server:serve:77 - Started server process [24424]
2024-03-19 19:14:32.104 | INFO     | uvicorn.server:serve:77 - Started server process [24424]
2024-03-19 19:14:32.105 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:14:32.105 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:14:32.107 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 19:14:32.108 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:14:32.108 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:14:55.233 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:14:55.233 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:14:55.340 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:14:55.340 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:14:55.341 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:14:55.342 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:14:55.342 | INFO     | uvicorn.server:serve:87 - Finished server process [24424]
2024-03-19 19:14:55.343 | INFO     | uvicorn.server:serve:87 - Finished server process [24424]
2024-03-19 19:14:58.203 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-19 19:14:58.203 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-19 19:14:58.205 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-19 19:14:58.205 | INFO     | uvicorn.server:serve:77 - Started server process [23472]
2024-03-19 19:14:58.206 | INFO     | uvicorn.server:serve:77 - Started server process [23472]
2024-03-19 19:14:58.207 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:14:58.207 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-19 19:14:58.208 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-19 19:14:58.209 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:14:58.212 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-19 19:15:01.757 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63423 - "DELETE /api/v1/users/id?user_id=2 HTTP/1.1" 200
2024-03-19 19:15:09.793 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63431 - "DELETE /api/v1/users/id?user_id=4 HTTP/1.1" 200
2024-03-19 19:15:46.447 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63493 - "DELETE /api/v1/users/id?user_id=1 HTTP/1.1" 200
2024-03-19 19:15:51.990 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63502 - "DELETE /api/v1/users/id?user_id=2 HTTP/1.1" 200
2024-03-19 19:16:12.310 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:16:12.311 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-19 19:16:12.419 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:16:12.419 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-19 19:16:12.421 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:16:12.424 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-19 19:16:12.426 | INFO     | uvicorn.server:serve:87 - Finished server process [23472]
2024-03-19 19:16:12.427 | INFO     | uvicorn.server:serve:87 - Finished server process [23472]
