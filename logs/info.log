2024-03-09 00:23:10.964 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:23:10.965 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:23:10.966 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:23:10.966 | INFO     | uvicorn.server:serve:77 - Started server process [5580]
2024-03-09 00:23:10.967 | INFO     | uvicorn.server:serve:77 - Started server process [5580]
2024-03-09 00:23:10.967 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:23:10.968 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:23:10.968 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:23:10.969 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:23:10.970 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:23:46.669 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56960 - "GET /docs HTTP/1.1" 200
2024-03-09 00:23:46.927 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56960 - "GET /static/swagger-ui.css HTTP/1.1" 200
2024-03-09 00:23:46.930 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56959 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 200
2024-03-09 00:23:47.123 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56959 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:26:01.467 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:26:01.468 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:26:01.578 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:26:01.578 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:26:01.578 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:26:01.583 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:26:01.583 | INFO     | uvicorn.server:serve:87 - Finished server process [5580]
2024-03-09 00:26:01.583 | INFO     | uvicorn.server:serve:87 - Finished server process [5580]
2024-03-09 00:26:02.982 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:26:02.982 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:26:02.982 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:26:02.982 | INFO     | uvicorn.server:serve:77 - Started server process [1144]
2024-03-09 00:26:02.982 | INFO     | uvicorn.server:serve:77 - Started server process [1144]
2024-03-09 00:26:02.982 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:26:02.982 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:26:02.982 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:26:02.982 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:26:02.982 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:26:20.868 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56987 - "GET /docs HTTP/1.1" 200
2024-03-09 00:26:21.025 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56987 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:27:11.480 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:27:11.483 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:27:11.589 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:27:11.591 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:27:11.593 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:27:11.595 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:27:11.596 | INFO     | uvicorn.server:serve:87 - Finished server process [1144]
2024-03-09 00:27:11.598 | INFO     | uvicorn.server:serve:87 - Finished server process [1144]
2024-03-09 00:27:12.998 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:27:12.999 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:27:13.000 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:27:13.000 | INFO     | uvicorn.server:serve:77 - Started server process [13988]
2024-03-09 00:27:13.000 | INFO     | uvicorn.server:serve:77 - Started server process [13988]
2024-03-09 00:27:13.001 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:27:13.001 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:27:13.002 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:27:13.003 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:27:13.003 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:27:17.404 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56994 - "GET /docs HTTP/1.1" 200
2024-03-09 00:27:17.557 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:56994 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:28:29.918 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:28:29.919 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:28:30.028 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:28:30.029 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:28:30.030 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:28:30.030 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:28:30.031 | INFO     | uvicorn.server:serve:87 - Finished server process [13988]
2024-03-09 00:28:30.031 | INFO     | uvicorn.server:serve:87 - Finished server process [13988]
2024-03-09 00:28:31.929 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:28:31.930 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:28:31.930 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:28:31.931 | INFO     | uvicorn.server:serve:77 - Started server process [3524]
2024-03-09 00:28:31.932 | INFO     | uvicorn.server:serve:77 - Started server process [3524]
2024-03-09 00:28:31.932 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:28:31.933 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:28:31.933 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:28:31.935 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:28:31.935 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:28:35.472 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57004 - "GET /docs HTTP/1.1" 200
2024-03-09 00:28:35.599 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57004 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:28:54.081 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57005 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 00:29:08.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57008 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:29:08.064 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B67003E8E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:29:08.108 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B67003EFA0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B670...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B66FC92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B67003E8E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672BC0C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672BC0EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B67003E7F0>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:29:09.879 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57009 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:29:09.881 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B672C19910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B672C19A90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B672C19A90>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:29:09.898 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001B66D4F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001B66D4035E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B66D402C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B66F438820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>
    │    └ <function subprocess_started at 0x000001B66F422EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B66D50DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B66F4220D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B66D50DEE0>
           │       └ <function run at 0x000001B66F0BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B6705B7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B66F0BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B66F0BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B66F0C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B66F02C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B672C198B0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B66FCA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B672...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>
          └ <fastapi.applications.FastAPI object at 0x000001B66FD52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B672BC4A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B672BC4A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B6700ED310>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B672C19910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B670447B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B672BC4A60>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B670447B80>>
          └ <fastapi.routing.APIRouter object at 0x000001B670447B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B6701C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B66FF60A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B672C19A90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>
          └ <function wrap_app_handling_exceptions at 0x000001B6701D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B672D81C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B672D81AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B672C19A90>
                     └ <function get_request_handler.<locals>.app at 0x000001B672B7EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001B67011E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001B672BAB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info['id'])
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000001B672B02C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

KeyError: 'id'
2024-03-09 00:30:57.596 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:30:57.598 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:30:57.705 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:30:57.707 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:30:57.710 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:30:57.712 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:30:57.714 | INFO     | uvicorn.server:serve:87 - Finished server process [3524]
2024-03-09 00:30:57.716 | INFO     | uvicorn.server:serve:87 - Finished server process [3524]
2024-03-09 00:30:59.131 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:30:59.132 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:30:59.133 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:30:59.133 | INFO     | uvicorn.server:serve:77 - Started server process [5088]
2024-03-09 00:30:59.134 | INFO     | uvicorn.server:serve:77 - Started server process [5088]
2024-03-09 00:30:59.134 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:30:59.134 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:30:59.135 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:30:59.136 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:30:59.136 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:31:00.438 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57020 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:31:00.440 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000002189CEE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000002189CDF35E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002189CDF2C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002189EE08820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    └ <function subprocess_started at 0x000002189EDF2EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002189CEFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002189EDF20D0>
           │       │   └ <uvicorn.server.Server object at 0x000002189CEFDEE0>
           │       └ <function run at 0x000002189EA8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002189FFCB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002189EA8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002189EA8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002189EA904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002189E9FC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>
          └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002189FAD76D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002189FE17F10>>
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002189FB76040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002189F960EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002189FAD7940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002189FAD7940>
                     └ <function get_request_handler.<locals>.app at 0x000002189F960C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002189FAF5550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000218A2584520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x00000218A24D3C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:31:00.473 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000002189CEE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000002189CDF35E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002189CDF2C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002189EE08820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>
    │    └ <function subprocess_started at 0x000002189EDF2EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002189CEFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=472, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002189EDF20D0>
           │       │   └ <uvicorn.server.Server object at 0x000002189CEFDEE0>
           │       └ <function run at 0x000002189EA8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002189FFCB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002189EA8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002189EA8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002189EA904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002189E9FC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002189FAD7580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002189F675250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002189F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>
          └ <fastapi.applications.FastAPI object at 0x000002189F721FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000218A25948B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000218A25947C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002189F661160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002189FAD76D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000218A2594850>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002189FE17F10>>
          └ <fastapi.routing.APIRouter object at 0x000002189FE17F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002189FB76040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002189F960EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002189FAD7940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>
          └ <function wrap_app_handling_exceptions at 0x000002189FBB8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000218A2590940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000218A2590C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002189FAD7940>
                     └ <function get_request_handler.<locals>.app at 0x000002189F960C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002189FAF5550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000218A2584520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x00000218A24D3C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:31:30.650 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:31:30.652 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:31:30.757 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:31:30.759 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:31:30.761 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:31:30.762 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:31:30.764 | INFO     | uvicorn.server:serve:87 - Finished server process [5088]
2024-03-09 00:31:30.764 | INFO     | uvicorn.server:serve:87 - Finished server process [5088]
2024-03-09 00:31:32.186 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:31:32.186 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:31:32.187 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:31:32.187 | INFO     | uvicorn.server:serve:77 - Started server process [7064]
2024-03-09 00:31:32.188 | INFO     | uvicorn.server:serve:77 - Started server process [7064]
2024-03-09 00:31:32.188 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:31:32.189 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:31:32.189 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:31:32.190 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:31:32.191 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:31:34.014 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57025 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:31:34.016 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000024547EF74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000024547DF35E0>
           └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000024547DF2C10>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024549E38820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024549E22EE0>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000024547F0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000024549E220D0>
           │       │   └ <uvicorn.server.Server object at 0x0000024547F0DEE0>
           │       └ <function run at 0x0000024549ABB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002454AFFB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024549ABC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024549ABC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024549ABF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024549A2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>
          └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002454AB096D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002454AE47F10>>
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002454ACB2040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002454A990EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002454AB09940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002454AB09940>
                     └ <function get_request_handler.<locals>.app at 0x000002454A990C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002454AB26550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002454D5B5520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000002454D503C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:31:34.052 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000024547EF74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000024547DF35E0>
           └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000024547DF2C10>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024549E38820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024549E22EE0>
    └ <SpawnProcess name='SpawnProcess-19' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000024547F0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=788, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000024549E220D0>
           │       │   └ <uvicorn.server.Server object at 0x0000024547F0DEE0>
           │       └ <function run at 0x0000024549ABB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002454AFFB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024549ABC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024549ABC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024549ABF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024549A2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002454AB09580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002454A6A5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002454A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>
          └ <fastapi.applications.FastAPI object at 0x000002454A751FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002454AA3B880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002454AA3B820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002454A691160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002454AB096D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002454AA3B850>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002454AE47F10>>
          └ <fastapi.routing.APIRouter object at 0x000002454AE47F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002454ACB2040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002454A990EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002454AB09940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>
          └ <function wrap_app_handling_exceptions at 0x000002454ABD3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002454AA49940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002454AA49C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002454AB09940>
                     └ <function get_request_handler.<locals>.app at 0x000002454A990C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002454AB26550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002454D5B5520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x000002454D503C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:32:27.882 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:32:27.882 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:32:27.991 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:32:27.993 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:32:27.995 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:32:27.996 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:32:27.998 | INFO     | uvicorn.server:serve:87 - Finished server process [7064]
2024-03-09 00:32:27.999 | INFO     | uvicorn.server:serve:87 - Finished server process [7064]
2024-03-09 00:32:29.611 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:32:29.611 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:32:29.612 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:32:29.612 | INFO     | uvicorn.server:serve:77 - Started server process [13648]
2024-03-09 00:32:29.613 | INFO     | uvicorn.server:serve:77 - Started server process [13648]
2024-03-09 00:32:29.613 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:32:29.613 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:32:29.614 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:32:29.615 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:32:29.615 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:32:32.670 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57037 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:32:32.674 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F883B074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F8839F35E0>
           └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F8839F2C10>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F885A48820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F885A32EE0>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F883B1DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F885A320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F883B1DEE0>
           │       └ <function run at 0x000001F8856CC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F886BC7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F8856CD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F8856CD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F8856D04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F88563C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>
          └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F8867176D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F886A57F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F8867B6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F8865A3EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F886717940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F886717940>
                     └ <function get_request_handler.<locals>.app at 0x000001F8865A3C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F886735550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F8891C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token).data
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTUzMzQsImV...
                └ <function jwt_decode at 0x000001F88917E940>

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:32:32.712 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F883B074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F8839F35E0>
           └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F8839F2C10>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F885A48820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F885A32EE0>
    └ <SpawnProcess name='SpawnProcess-20' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F883B1DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F885A320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F883B1DEE0>
           │       └ <function run at 0x000001F8856CC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F886BC7340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F8856CD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F8856CD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F8856D04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F88563C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F886717580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F8862B7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F886...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>
          └ <fastapi.applications.FastAPI object at 0x000001F886362FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F8866548B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F8866547C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F8862A2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F8867176D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F886654850>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F886A57F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F886A57F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F8867B6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F8865A3EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F886717940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>
          └ <function wrap_app_handling_exceptions at 0x000001F8867F8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F886652940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F886652C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F886717940>
                     └ <function get_request_handler.<locals>.app at 0x000001F8865A3C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F886735550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F8891C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token).data
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTUzMzQsImV...
                └ <function jwt_decode at 0x000001F88917E940>

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:33:43.824 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:33:43.824 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:33:43.925 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:33:43.925 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:33:43.930 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:33:43.930 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:33:43.930 | INFO     | uvicorn.server:serve:87 - Finished server process [13648]
2024-03-09 00:33:43.930 | INFO     | uvicorn.server:serve:87 - Finished server process [13648]
2024-03-09 00:33:45.385 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:33:45.385 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:33:45.385 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:33:45.385 | INFO     | uvicorn.server:serve:77 - Started server process [13332]
2024-03-09 00:33:45.385 | INFO     | uvicorn.server:serve:77 - Started server process [13332]
2024-03-09 00:33:45.395 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:33:45.395 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:33:45.395 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:33:45.395 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:33:45.395 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:33:48.395 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57043 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:33:48.400 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F2482C74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F2481B35E0>
           └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F2481B2C10>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F24A608820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F24A5F2EE0>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F2482DDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F24A5F20D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F2482DDEE0>
           │       └ <function run at 0x000001F249E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F24B389340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F249E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F249E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F249E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F249DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>
          └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F24AED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F24B217F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F24AF96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F24AD63EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F24AED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F24AED9940>
                     └ <function get_request_handler.<locals>.app at 0x000001F24AD63C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F24AEEE550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F24D984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001F24D984520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:33:48.430 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x000001F2482C74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x000001F2481B35E0>
           └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F2481B2C10>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F24A608820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>
    │    └ <function subprocess_started at 0x000001F24A5F2EE0>
    └ <SpawnProcess name='SpawnProcess-21' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F2482DDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F24A5F20D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F2482DDEE0>
           │       └ <function run at 0x000001F249E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F24B389340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F249E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F249E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F249E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F249DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F24AED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F24AA76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F24A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>
          └ <fastapi.applications.FastAPI object at 0x000001F24AB22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F24D9958B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F24D9957C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F24AA62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F24AED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F24D995850>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F24B217F10>>
          └ <fastapi.routing.APIRouter object at 0x000001F24B217F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F24AF96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F24AD63EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F24AED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>
          └ <function wrap_app_handling_exceptions at 0x000001F24AFA3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F24D991940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F24D991C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F24AED9940>
                     └ <function get_request_handler.<locals>.app at 0x000001F24AD63C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001F24AEEE550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001F24D984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001F24D984520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:34:26.079 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:34:26.080 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:34:26.182 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:34:26.182 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:34:26.182 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:34:26.182 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:34:26.182 | INFO     | uvicorn.server:serve:87 - Finished server process [13332]
2024-03-09 00:34:26.182 | INFO     | uvicorn.server:serve:87 - Finished server process [13332]
2024-03-09 00:34:27.654 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:34:27.654 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:34:27.654 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:34:27.654 | INFO     | uvicorn.server:serve:77 - Started server process [6980]
2024-03-09 00:34:27.654 | INFO     | uvicorn.server:serve:77 - Started server process [6980]
2024-03-09 00:34:27.654 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:34:27.654 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:34:27.654 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:34:27.666 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:34:27.666 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:34:28.749 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57047 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:34:28.749 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x000001AF0A3074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x000001AF0A2135E0>
           └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001AF0A212C10>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001AF0C248820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    └ <function subprocess_started at 0x000001AF0C232EE0>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001AF0A31DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001AF0C2320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001AF0A31DEE0>
           │       └ <function run at 0x000001AF0BECB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001AF0D40B340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001AF0BECC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001AF0BECC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001AF0BECF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001AF0BE3C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>
          └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001AF0CF196D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001AF0D257F10>>
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001AF0CFB6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001AF0CDA2EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
                     └ <function get_request_handler.<locals>.app at 0x000001AF0CDA2C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001AF0CF27550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001AF0F9C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001AF0F9C4520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:34:28.772 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x000001AF0A3074C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x000001AF0A2135E0>
           └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001AF0A212C10>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001AF0C248820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>
    │    └ <function subprocess_started at 0x000001AF0C232EE0>
    └ <SpawnProcess name='SpawnProcess-22' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001AF0A31DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=836, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001AF0C2320D0>
           │       │   └ <uvicorn.server.Server object at 0x000001AF0A31DEE0>
           │       └ <function run at 0x000001AF0BECB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001AF0D40B340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001AF0BECC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001AF0BECC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001AF0BECF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001AF0BE3C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001AF0CF19580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001AF0CAB5250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001AF0C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>
          └ <fastapi.applications.FastAPI object at 0x000001AF0CB61FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001AF0CE508B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001AF0CE507C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001AF0CAA1160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001AF0CF196D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001AF0CE50850>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001AF0D257F10>>
          └ <fastapi.routing.APIRouter object at 0x000001AF0D257F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001AF0CFB6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001AF0CDA2EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>
          └ <function wrap_app_handling_exceptions at 0x000001AF0CFF8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001AF0CE59940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001AF0CE59C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001AF0CF19940>
                     └ <function get_request_handler.<locals>.app at 0x000001AF0CDA2C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001AF0CF27550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMjgwNzEyODIiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001AF0F9C4520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000001AF0F9C4520>
       └ {'jti': '202403090028071282', 'iss': 'wieszheng', 'iat': 1709915334, 'exp': 1709917134, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:38:02.785 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57077 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 00:38:02.834 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:38:02.834 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:38:02.950 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:38:02.950 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:38:02.951 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:38:02.952 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:38:02.952 | INFO     | uvicorn.server:serve:87 - Finished server process [6980]
2024-03-09 00:38:02.953 | INFO     | uvicorn.server:serve:87 - Finished server process [6980]
2024-03-09 00:38:04.465 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:38:04.466 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:38:04.466 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:38:04.467 | INFO     | uvicorn.server:serve:77 - Started server process [4664]
2024-03-09 00:38:04.468 | INFO     | uvicorn.server:serve:77 - Started server process [4664]
2024-03-09 00:38:04.468 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:38:04.468 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:38:04.468 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:38:04.468 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:38:04.468 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:38:16.393 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57081 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:38:16.393 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 172
               │     └ 3
               └ <function _main at 0x000002B1AE8F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 172
           │    └ <function BaseProcess._bootstrap at 0x000002B1AE7D35E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002B1AE7D2C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002B1B0838820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    └ <function subprocess_started at 0x000002B1B0823EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002B1AE90DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002B1B08230D0>
           │       │   └ <uvicorn.server.Server object at 0x000002B1AE90DEE0>
           │       └ <function run at 0x000002B1B04BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002B1B19B9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002B1B04BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002B1B04BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002B1B04C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002B1B042C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>
          └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002B1B14318E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002B1B1847B80>>
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002B1B15C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002B1B1360A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
                     └ <function get_request_handler.<locals>.app at 0x000002B1B3F8EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002B1B151E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002B1B3FBB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000002B1B3FBB6A0>
       └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:38:16.435 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 172
               │     └ 3
               └ <function _main at 0x000002B1AE8F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 172
           │    └ <function BaseProcess._bootstrap at 0x000002B1AE7D35E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002B1AE7D2C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002B1B0838820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>
    │    └ <function subprocess_started at 0x000002B1B0823EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002B1AE90DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=828, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002B1B08230D0>
           │       │   └ <uvicorn.server.Server object at 0x000002B1AE90DEE0>
           │       └ <function run at 0x000002B1B04BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002B1B19B9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002B1B04BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002B1B04BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002B1B04C04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002B1B042C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002B1B1431790>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002B1B10A6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B1B1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>
          └ <fastapi.applications.FastAPI object at 0x000002B1B1152FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002B1B3FD7AC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002B1B3FD7A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002B1B1092160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002B1B14318E0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002B1B3FD78B0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002B1B1847B80>>
          └ <fastapi.routing.APIRouter object at 0x000002B1B1847B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002B1B15C6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002B1B1360A60>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>
          └ <function wrap_app_handling_exceptions at 0x000002B1B15D3A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002B1B3FD3C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002B1B3FD3EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002B1B1431B50>
                     └ <function get_request_handler.<locals>.app at 0x000002B1B3F8EF70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002B1B151E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002B1B3FBB6A0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    if user_info.data.get("role", 0) < self.role:
       │                               │    └ 0
       │                               └ <app.apis.Permission object at 0x000002B1B3FBB6A0>
       └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...

AttributeError: 'dict' object has no attribute 'data'
2024-03-09 00:38:45.527 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:38:45.529 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:38:45.637 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:38:45.638 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:38:45.638 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:38:45.639 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:38:45.641 | INFO     | uvicorn.server:serve:87 - Finished server process [4664]
2024-03-09 00:38:45.642 | INFO     | uvicorn.server:serve:87 - Finished server process [4664]
2024-03-09 00:38:47.255 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:38:47.256 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:38:47.256 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:38:47.257 | INFO     | uvicorn.server:serve:77 - Started server process [11280]
2024-03-09 00:38:47.257 | INFO     | uvicorn.server:serve:77 - Started server process [11280]
2024-03-09 00:38:47.258 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:38:47.258 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:38:47.259 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:38:47.260 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:38:47.260 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:38:50.672 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57087 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:38:50.676 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x0000016ADF2D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x0000016ADF1E35E0>
           └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000016ADF1E2C10>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000016AE1208820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    └ <function subprocess_started at 0x0000016AE11F2EE0>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000016ADF2EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000016AE11F20D0>
           │       │   └ <uvicorn.server.Server object at 0x0000016ADF2EDEE0>
           │       └ <function run at 0x0000016AE0E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000016AE2388340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000016AE0E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000016AE0E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000016AE0E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000016AE0DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>
          └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000016AE1ED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000016AE2218F10>>
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000016AE1F6F040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000016AE1D60EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E149D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
                     └ <function get_request_handler.<locals>.app at 0x0000016AE1D60C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000016AE1EF9550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000016AE4984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x0000016AE48D2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:38:50.709 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x0000016ADF2D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x0000016ADF1E35E0>
           └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000016ADF1E2C10>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000016AE1208820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>
    │    └ <function subprocess_started at 0x0000016AE11F2EE0>
    └ <SpawnProcess name='SpawnProcess-24' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000016ADF2EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=844, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000016AE11F20D0>
           │       │   └ <uvicorn.server.Server object at 0x0000016ADF2EDEE0>
           │       └ <function run at 0x0000016AE0E8C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000016AE2388340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000016AE0E8D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000016AE0E8D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000016AE0E904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000016AE0DFC0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000016AE1ED9580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000016AE1A76250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016AE1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>
          └ <fastapi.applications.FastAPI object at 0x0000016AE1B22FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000016AE1E0B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000016AE1E0B7C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000016AE1A62160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000016AE1ED96D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000016AE1E0B850>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000016AE2218F10>>
          └ <fastapi.routing.APIRouter object at 0x0000016AE2218F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000016AE1F6F040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000016AE1D60EE0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E14CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>
          └ <function wrap_app_handling_exceptions at 0x0000016AE1FBCA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000016AE1E149D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000016...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000016AE1E14C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000016AE1ED9940>
                     └ <function get_request_handler.<locals>.app at 0x0000016AE1D60C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000016AE1EF9550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwMzg3NzIyMDUiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000016AE4984520>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090038772205', 'iss': 'wieszheng', 'iat': 1709915882, 'exp': 1709917682, 'data': {'id': 'd5a8fa2f-5450-42a5-80...
                 │        └ <staticmethod object at 0x0000016AE48D2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:39:51.350 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:39:51.351 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:39:51.459 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:39:51.459 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:39:51.462 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:39:51.463 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:39:51.464 | INFO     | uvicorn.server:serve:87 - Finished server process [11280]
2024-03-09 00:39:51.466 | INFO     | uvicorn.server:serve:87 - Finished server process [11280]
2024-03-09 00:39:53.078 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:39:53.078 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:39:53.079 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:39:53.081 | INFO     | uvicorn.server:serve:77 - Started server process [11428]
2024-03-09 00:39:53.082 | INFO     | uvicorn.server:serve:77 - Started server process [11428]
2024-03-09 00:39:53.082 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:39:53.083 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:39:53.083 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:39:53.084 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:39:53.085 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:43:56.163 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57106 - "GET /docs HTTP/1.1" 200
2024-03-09 00:43:56.212 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:43:56.218 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:43:56.413 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57106 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-09 00:43:56.413 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:43:56.414 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:43:56.415 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:43:56.415 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:43:56.416 | INFO     | uvicorn.server:serve:87 - Finished server process [11428]
2024-03-09 00:43:56.416 | INFO     | uvicorn.server:serve:87 - Finished server process [11428]
2024-03-09 00:43:58.861 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:43:58.861 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:43:58.861 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:43:58.861 | INFO     | uvicorn.server:serve:77 - Started server process [11332]
2024-03-09 00:43:58.861 | INFO     | uvicorn.server:serve:77 - Started server process [11332]
2024-03-09 00:43:58.861 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:43:58.861 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:43:58.861 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:43:58.861 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:43:58.861 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:43:59.061 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57108 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-09 00:43:59.178 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57108 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 00:44:13.353 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57117 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 00:44:25.295 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57118 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:44:25.295 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x00000243519D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x00000243518E35E0>
           └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000243518E2C10>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024353918820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024353902EE0>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000243519EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000243539020D0>
           │       │   └ <uvicorn.server.Server object at 0x00000243519EDEE0>
           │       └ <function run at 0x000002435359C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000024354A96340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002435359D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002435359D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000243535A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002435350C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>
          └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000243570B2910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000024354928A00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000024354928A00>>
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000243547AF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000024354779AF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000243570B2E80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243570B0CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000243570B2E80>
                     └ <function get_request_handler.<locals>.app at 0x0000024354779A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000024354605550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000024357083FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
                 │        └ <staticmethod object at 0x0000024356FF2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:44:25.328 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x00000243519D74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x00000243518E35E0>
           └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000243518E2C10>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024353918820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>
    │    └ <function subprocess_started at 0x0000024353902EE0>
    └ <SpawnProcess name='SpawnProcess-27' parent=17008 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000243519EDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000243539020D0>
           │       │   └ <uvicorn.server.Server object at 0x00000243519EDEE0>
           │       └ <function run at 0x000002435359C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000024354A96340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002435359D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002435359D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000243535A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002435350C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000243570B2E20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024354186250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024357...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>
          └ <fastapi.applications.FastAPI object at 0x0000024354231FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000243570B28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000243570B27C0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024354172160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000243570B2910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000024354928A00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000243570B2850>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000024354928A00>>
          └ <fastapi.routing.APIRouter object at 0x0000024354928A00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000243547AF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000024354779AF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243545CD820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000243570B2E80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>
          └ <function wrap_app_handling_exceptions at 0x00000243546CDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000243570B0CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000243570B0C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000243570B2E80>
                     └ <function get_request_handler.<locals>.app at 0x0000024354779A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000024354605550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x0000024357083FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 59, in __call__
    user = await UserCRUD.query_user(user_info.id)
                 │        │          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
                 │        └ <staticmethod object at 0x0000024356FF2C70>
                 └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:45:40.865 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:45:40.867 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:45:40.974 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:45:40.974 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:45:40.975 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:45:40.976 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:45:40.976 | INFO     | uvicorn.server:serve:87 - Finished server process [11332]
2024-03-09 00:45:40.976 | INFO     | uvicorn.server:serve:87 - Finished server process [11332]
2024-03-09 00:45:47.407 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:45:47.407 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:45:47.408 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:45:47.409 | INFO     | uvicorn.server:serve:77 - Started server process [6288]
2024-03-09 00:45:47.409 | INFO     | uvicorn.server:serve:77 - Started server process [6288]
2024-03-09 00:45:47.410 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:45:47.410 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:45:47.411 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:45:47.412 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:45:47.413 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:46:11.540 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:46:11.540 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:46:11.648 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:46:11.649 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:46:11.650 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:46:11.650 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:46:11.651 | INFO     | uvicorn.server:serve:87 - Finished server process [6288]
2024-03-09 00:46:11.651 | INFO     | uvicorn.server:serve:87 - Finished server process [6288]
2024-03-09 00:46:13.134 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:46:13.135 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:46:13.135 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:46:13.136 | INFO     | uvicorn.server:serve:77 - Started server process [10564]
2024-03-09 00:46:13.137 | INFO     | uvicorn.server:serve:77 - Started server process [10564]
2024-03-09 00:46:13.137 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:46:13.137 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:46:13.138 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:46:13.139 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:46:13.139 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:46:14.002 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57131 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 00:46:14.005 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 412
               │     └ 3
               └ <function _main at 0x000002A7031374C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 412
           │    └ <function BaseProcess._bootstrap at 0x000002A7030335E0>
           └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A703032C10>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A705078820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    └ <function subprocess_started at 0x000002A705062EE0>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A70314DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002A7050620D0>
           │       │   └ <uvicorn.server.Server object at 0x000002A70314DEE0>
           │       └ <function run at 0x000002A704CFB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A7061F6340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A704CFC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A704CFC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A704CFF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A704C6C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>
          └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002A705D476D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002A706087F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002A706087F10>>
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002A705E06040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002A705EDBAF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002A705D47940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FC9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A705D47940>
                     └ <function get_request_handler.<locals>.app at 0x000002A705EDBA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002A705D5E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002A7087D4FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    print(user_info.id)
          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:46:14.041 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 412
               │     └ 3
               └ <function _main at 0x000002A7031374C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 412
           │    └ <function BaseProcess._bootstrap at 0x000002A7030335E0>
           └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A703032C10>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A705078820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>
    │    └ <function subprocess_started at 0x000002A705062EE0>
    └ <SpawnProcess name='SpawnProcess-2' parent=12980 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A70314DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=164, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002A7050620D0>
           │       │   └ <uvicorn.server.Server object at 0x000002A70314DEE0>
           │       └ <function run at 0x000002A704CFB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A7061F6340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A704CFC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A704CFC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A704CFF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A704C6C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002A705D47580>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A7058E6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A705...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>
          └ <fastapi.applications.FastAPI object at 0x000002A705991FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A7088048B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A708804610>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A7058D2160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002A705D476D0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002A706087F10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A7088046A0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002A706087F10>>
          └ <fastapi.routing.APIRouter object at 0x000002A706087F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002A705E06040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002A705EDBAF0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FCD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002A705D47940>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>
          └ <function wrap_app_handling_exceptions at 0x000002A705E13A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A7087FC9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002A7087FCCA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A705D47940>
                     └ <function get_request_handler.<locals>.app at 0x000002A705EDBA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002A705D5E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000002A7087D4FD0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 57, in __call__
    print(user_info.id)
          └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...

AttributeError: 'dict' object has no attribute 'id'
2024-03-09 00:47:10.095 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:47:10.095 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:47:10.203 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:47:10.203 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:47:10.204 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:47:10.205 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:47:10.205 | INFO     | uvicorn.server:serve:87 - Finished server process [10564]
2024-03-09 00:47:10.206 | INFO     | uvicorn.server:serve:87 - Finished server process [10564]
2024-03-09 00:47:11.701 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:47:11.701 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:47:11.702 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:47:11.702 | INFO     | uvicorn.server:serve:77 - Started server process [10648]
2024-03-09 00:47:11.703 | INFO     | uvicorn.server:serve:77 - Started server process [10648]
2024-03-09 00:47:11.703 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:47:11.704 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:47:11.704 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:47:11.705 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:47:11.706 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:47:14.828 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57136 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 00:47:20.040 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57137 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 00:48:04.139 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:48:04.139 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:48:04.249 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:48:04.249 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:48:04.249 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:48:04.253 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:48:04.253 | INFO     | uvicorn.server:serve:87 - Finished server process [10648]
2024-03-09 00:48:04.253 | INFO     | uvicorn.server:serve:87 - Finished server process [10648]
2024-03-09 00:48:05.712 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:48:05.712 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:48:05.712 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:48:05.712 | INFO     | uvicorn.server:serve:77 - Started server process [11388]
2024-03-09 00:48:05.712 | INFO     | uvicorn.server:serve:77 - Started server process [11388]
2024-03-09 00:48:05.712 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:48:05.712 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:48:05.712 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:48:05.722 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:48:05.722 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:49:36.942 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57156 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 00:49:37.012 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:49:37.012 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 00:49:37.122 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:49:37.122 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 00:49:37.123 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:49:37.123 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 00:49:37.124 | INFO     | uvicorn.server:serve:87 - Finished server process [11388]
2024-03-09 00:49:37.124 | INFO     | uvicorn.server:serve:87 - Finished server process [11388]
2024-03-09 00:49:38.874 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 00:49:38.875 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 00:49:38.875 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 00:49:38.876 | INFO     | uvicorn.server:serve:77 - Started server process [15640]
2024-03-09 00:49:38.876 | INFO     | uvicorn.server:serve:77 - Started server process [15640]
2024-03-09 00:49:38.876 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:49:38.876 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 00:49:38.878 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 00:49:38.879 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:49:38.879 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 00:50:13.555 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 00:50:13.555 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 01:20:12.587 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 01:20:12.587 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 01:50:03.262 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:50:03.263 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:50:03.371 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:50:03.373 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:50:03.376 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:50:03.377 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:50:03.378 | INFO     | uvicorn.server:serve:87 - Finished server process [15640]
2024-03-09 01:50:03.378 | INFO     | uvicorn.server:serve:87 - Finished server process [15640]
2024-03-09 01:50:15.979 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:50:15.979 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:50:15.981 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:50:15.981 | INFO     | uvicorn.server:serve:77 - Started server process [16576]
2024-03-09 01:50:15.981 | INFO     | uvicorn.server:serve:77 - Started server process [16576]
2024-03-09 01:50:15.982 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:50:15.982 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:50:15.983 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:50:15.984 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:50:15.985 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:50:52.201 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:50:52.202 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:50:52.312 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:50:52.312 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:50:52.313 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:50:52.313 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:50:52.314 | INFO     | uvicorn.server:serve:87 - Finished server process [16576]
2024-03-09 01:50:52.314 | INFO     | uvicorn.server:serve:87 - Finished server process [16576]
2024-03-09 01:50:54.692 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:50:54.692 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:50:54.693 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:50:54.693 | INFO     | uvicorn.server:serve:77 - Started server process [13156]
2024-03-09 01:50:54.694 | INFO     | uvicorn.server:serve:77 - Started server process [13156]
2024-03-09 01:50:54.695 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:50:54.696 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:50:54.696 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:50:54.697 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:50:54.698 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:51:06.550 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57512 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:51:06.551 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000227672737F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x0000022767287280>
              └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x0000022767287430>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920266.550088
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x0000022767287670>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x00000227642F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x00000227641E35E0>
           └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000227641E2C10>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022766238820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    └ <function subprocess_started at 0x0000022766222EE0>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002276430DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000227662220D0>
           │       │   └ <uvicorn.server.Server object at 0x000002276430DEE0>
           │       └ <function run at 0x0000022765EBB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000227673B8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022765EBC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022765EBC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022765EBF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022765E2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>
          └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022766E32940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022767247B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022767247B80>>
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022766FC6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002276709CDC0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022766EE8040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
                     └ <function get_request_handler.<locals>.app at 0x000002276709CD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000022766F1E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000227699AEEB0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000002276996E9D0>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:51:06.592 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000227672737F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x0000022767287280>
              └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x0000022767287430>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920266.550088
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x0000022767287670>
    └ <jwt.api_jwt.PyJWT object at 0x00000227672737F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x00000227642F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x00000227641E35E0>
           └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000227641E2C10>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022766238820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>
    │    └ <function subprocess_started at 0x0000022766222EE0>
    └ <SpawnProcess name='SpawnProcess-3' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002276430DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=544, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000227662220D0>
           │       │   └ <uvicorn.server.Server object at 0x000002276430DEE0>
           │       └ <function run at 0x0000022765EBB160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000227673B8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022765EBC9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022765EBC940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022765EBF4C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022765E2C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000022766E327F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022766AA6250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022766...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>
          └ <fastapi.applications.FastAPI object at 0x0000022766B52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000227699C5B20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000227699C5A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022766A92160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022766E32940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022767247B80>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000227699C5AC0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022767247B80>>
          └ <fastapi.routing.APIRouter object at 0x0000022767247B80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022766FC6040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002276709CDC0>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000227699C0F70>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>
          └ <function wrap_app_handling_exceptions at 0x0000022766FE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022766EE8040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000227699C0CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022766E32BB0>
                     └ <function get_request_handler.<locals>.app at 0x000002276709CD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000022766F1E550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000227699AEEB0>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000002276996E9D0>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:53:38.979 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:53:38.980 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:53:39.088 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:53:39.089 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:53:39.090 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:53:39.090 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:53:39.091 | INFO     | uvicorn.server:serve:87 - Finished server process [13156]
2024-03-09 01:53:39.092 | INFO     | uvicorn.server:serve:87 - Finished server process [13156]
2024-03-09 01:53:40.555 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:53:40.556 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:53:40.557 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:53:40.557 | INFO     | uvicorn.server:serve:77 - Started server process [1884]
2024-03-09 01:53:40.557 | INFO     | uvicorn.server:serve:77 - Started server process [1884]
2024-03-09 01:53:40.558 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:53:40.558 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:53:40.559 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:53:40.560 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:53:40.560 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:53:50.857 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:53:50.872 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:53:50.984 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:53:50.993 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:53:50.994 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:53:50.997 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:53:50.997 | INFO     | uvicorn.server:serve:87 - Finished server process [1884]
2024-03-09 01:53:51.000 | INFO     | uvicorn.server:serve:87 - Finished server process [1884]
2024-03-09 01:53:52.624 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:53:52.624 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:53:52.625 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:53:52.626 | INFO     | uvicorn.server:serve:77 - Started server process [8080]
2024-03-09 01:53:52.628 | INFO     | uvicorn.server:serve:77 - Started server process [8080]
2024-03-09 01:53:52.629 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:53:52.630 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:53:52.633 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:53:52.634 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:53:52.634 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:54:14.147 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57553 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:54:14.150 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x00000196EA977280>
              └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x00000196EA977430>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920454.14774
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x00000196EA977670>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000196E79F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000196E79035E0>
           └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000196E7902C10>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000196E9928820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    └ <function subprocess_started at 0x00000196E9910EE0>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000196E7A0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000196E99100D0>
           │       │   └ <uvicorn.server.Server object at 0x00000196E7A0DEE0>
           │       └ <function run at 0x00000196E95AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000196EAAA8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000196E95AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000196E95AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000196E95B04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000196E951C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>
          └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000196EA536790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000196ED03DD90>>
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000196EA7BF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000196EA445B80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000196EA536A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0A60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000196EA536A00>
                     └ <function get_request_handler.<locals>.app at 0x00000196EA445AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x00000196EA615550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000196ED083D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x00000196ED05FA60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:14.201 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x00000196EA977280>
              └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x00000196EA977430>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920454.14774
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x00000196EA977670>
    └ <jwt.api_jwt.PyJWT object at 0x00000196EA9637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000196E79F74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000196E79035E0>
           └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000196E7902C10>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000196E9928820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>
    │    └ <function subprocess_started at 0x00000196E9910EE0>
    └ <SpawnProcess name='SpawnProcess-5' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000196E7A0DEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000196E99100D0>
           │       │   └ <uvicorn.server.Server object at 0x00000196E7A0DEE0>
           │       └ <function run at 0x00000196E95AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000196EAAA8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000196E95AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000196E95AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000196E95B04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000196E951C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000196EA536640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000196EA196250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000196EA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>
          └ <fastapi.applications.FastAPI object at 0x00000196EA242FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000196ED0B2940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000196ED0B28E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000196EA182160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000196EA536790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000196ED0B2910>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000196ED03DD90>>
          └ <fastapi.routing.APIRouter object at 0x00000196ED03DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000196EA7BF040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000196EA445B80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0DC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000196EA536A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>
          └ <function wrap_app_handling_exceptions at 0x00000196EA6D8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000196ED0B0A60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000019...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000196ED0B0D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000196EA536A00>
                     └ <function get_request_handler.<locals>.app at 0x00000196EA445AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x00000196EA615550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x00000196ED083D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x00000196ED05FA60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:14.222 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:54:14.222 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:54:14.323 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:54:14.325 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:54:14.327 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:54:14.329 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:54:14.331 | INFO     | uvicorn.server:serve:87 - Finished server process [8080]
2024-03-09 01:54:14.333 | INFO     | uvicorn.server:serve:87 - Finished server process [8080]
2024-03-09 01:54:15.666 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:54:15.667 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:54:15.667 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:54:15.668 | INFO     | uvicorn.server:serve:77 - Started server process [10324]
2024-03-09 01:54:15.669 | INFO     | uvicorn.server:serve:77 - Started server process [10324]
2024-03-09 01:54:15.669 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:54:15.670 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:54:15.671 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:54:15.672 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:54:15.672 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:54:17.336 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57557 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:54:17.337 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920457.335285
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0B7A26790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:17.374 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920457.335285
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0B7A26640>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0B7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0B7682160>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0B7A26790>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACDC0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5ACA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA5ACD30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0B7A26A00>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:22.886 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57558 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:54:22.892 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 257, in _load
    signing_input, crypto_segment = jwt.rsplit(b".", 1)
                                    │   └ <method 'rsplit' of 'bytes' objects>
                                    └ b'121'

ValueError: not enough values to unpack (expected 2, got 1)


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 151, in decode_complete
    decoded = api_jws.decode_complete(
              │       └ <bound method PyJWS.decode_complete of <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>>
              └ <module 'jwt.api_jws' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\api_jws.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 198, in decode_complete
    payload, signing_input, header, signature = self._load(jwt)
                                                │    │     └ '121'
                                                │    └ <function PyJWS._load at 0x000001C0B7E52B80>
                                                └ <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 260, in _load
    raise DecodeError("Not enough segments") from err
          └ <class 'jwt.exceptions.DecodeError'>

jwt.exceptions.DecodeError: Not enough segments


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA73C5B0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA7325E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': '121'}
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ '121'
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 68, in jwt_decode
    raise Exception("Token不合法, 请重新登录")

Exception: Token不合法, 请重新登录
2024-03-09 01:54:22.919 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 257, in _load
    signing_input, crypto_segment = jwt.rsplit(b".", 1)
                                    │   └ <method 'rsplit' of 'bytes' objects>
                                    └ b'121'

ValueError: not enough values to unpack (expected 2, got 1)


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 151, in decode_complete
    decoded = api_jws.decode_complete(
              │       └ <bound method PyJWS.decode_complete of <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>>
              └ <module 'jwt.api_jws' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\api_jws.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 198, in decode_complete
    payload, signing_input, header, signature = self._load(jwt)
                                                │    │     └ '121'
                                                │    └ <function PyJWS._load at 0x000001C0B7E52B80>
                                                └ <jwt.api_jws.PyJWS object at 0x000001C0B7E59070>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jws.py", line 260, in _load
    raise DecodeError("Not enough segments") from err
          └ <class 'jwt.exceptions.DecodeError'>

jwt.exceptions.DecodeError: Not enough segments


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA73C4F0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA5C1040>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA73C5B0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA5C1820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA7325E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA73C760>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': '121'}
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ '121'
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 68, in jwt_decode
    raise Exception("Token不合法, 请重新登录")

Exception: Token不合法, 请重新登录
2024-03-09 01:54:25.568 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57559 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:54:25.581 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920465.568024
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74A280>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:54:25.609 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920465.568024
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74A1C0>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732EE0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74A280>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732E50>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732D30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74A430>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:55:39.506 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57570 - "GET /api/v1/users/me HTTP/1.1" 500
2024-03-09 01:55:39.510 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920539.506754
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74AEE0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA74B040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:55:39.539 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 61, in jwt_decode
    return jwt.decode(
           │   └ <bound method PyJWT.decode of <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>>
           └ <module 'jwt' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\jwt\\__init__.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 210, in decode
    decoded = self.decode_complete(
              │    └ <function PyJWT.decode_complete at 0x000001C0B7E78280>
              └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 162, in decode_complete
    self._validate_claims(
    │    └ <function PyJWT._validate_claims at 0x000001C0B7E78430>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 248, in _validate_claims
    self._validate_exp(payload, now, leeway)
    │    │             │        │    └ 0
    │    │             │        └ 1709920539.506754
    │    │             └ {'jti': '202403090044346618', 'iss': 'wieszheng', 'iat': 1709916253, 'exp': 1709918053, 'id': 'd5a8fa2f-5450-42a5-802c-d72d7a...
    │    └ <function PyJWT._validate_exp at 0x000001C0B7E78670>
    └ <jwt.api_jwt.PyJWT object at 0x000001C0B7E637F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\jwt\api_jwt.py", line 306, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
          └ <class 'jwt.exceptions.ExpiredSignatureError'>

jwt.exceptions.ExpiredSignatureError: Signature has expired


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 180
               │     └ 3
               └ <function _main at 0x000001C0B4EE74C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 180
           │    └ <function BaseProcess._bootstrap at 0x000001C0B4DF35E0>
           └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C0B4DF2C10>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C0B6E28820>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>
    │    └ <function subprocess_started at 0x000001C0B6E13EE0>
    └ <SpawnProcess name='SpawnProcess-6' parent=5652 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C0B4EFDEE0>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C0B6E130D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C0B4EFDEE0>
           │       └ <function run at 0x000001C0B6AAC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C0B7FA9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C0B6AAD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C0B6AAD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C0B6AB04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C0B6A1C0D0>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C0BA74AE20>()>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C0B7697250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C0BA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>
          └ <fastapi.applications.FastAPI object at 0x000001C0B7741FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C0BA5B18E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C0BA5B1940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C0BA732F70>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C0BA74AEE0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C0BA5B1760>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>>
          └ <fastapi.routing.APIRouter object at 0x000001C0BA53ED90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C0B7B96040>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C0B7C8AB80>
          └ APIRoute(path='/api/v1/users/me', name='register', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA732550>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>
          └ <function wrap_app_handling_exceptions at 0x000001C0B7BDDA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C0BA74B040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C0BA732820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C0BA74C0D0>
                     └ <function get_request_handler.<locals>.app at 0x000001C0B7C8AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001C0B7B15550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\dependencies\utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5M...
                   └ <app.apis.Permission object at 0x000001C0BA583D00>

  File "E:\ProgramCode\python\brisk\app\apis\__init__.py", line 55, in __call__
    user_info = jwt_decode(token)
                │          └ 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMDI0MDMwOTAwNDQzNDY2MTgiLCJpc3MiOiJ3aWVzemhlbmciLCJpYXQiOjE3MDk5MTYyNTMsImV...
                └ <function jwt_decode at 0x000001C0BA560A60>

  File "E:\ProgramCode\python\brisk\app\utils\jwt_.py", line 66, in jwt_decode
    raise Exception("登录状态已过期, 请重新登录")

Exception: 登录状态已过期, 请重新登录
2024-03-09 01:55:39.606 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:55:39.608 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:55:39.715 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:55:39.716 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:55:39.718 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:55:39.720 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:55:39.722 | INFO     | uvicorn.server:serve:87 - Finished server process [10324]
2024-03-09 01:55:39.723 | INFO     | uvicorn.server:serve:87 - Finished server process [10324]
2024-03-09 01:55:42.010 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:55:42.011 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:55:42.011 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:55:42.012 | INFO     | uvicorn.server:serve:77 - Started server process [9992]
2024-03-09 01:55:42.013 | INFO     | uvicorn.server:serve:77 - Started server process [9992]
2024-03-09 01:55:42.013 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:55:42.014 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:55:42.014 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:55:42.015 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:55:42.016 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:55:43.679 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57578 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:55:45.819 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57578 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:55:46.651 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57578 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:55:47.300 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57578 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:56:09.337 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57583 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 01:56:09.393 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:56:09.394 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 01:56:09.502 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:56:09.504 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 01:56:09.505 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:56:09.506 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 01:56:09.508 | INFO     | uvicorn.server:serve:87 - Finished server process [9992]
2024-03-09 01:56:09.509 | INFO     | uvicorn.server:serve:87 - Finished server process [9992]
2024-03-09 01:56:10.831 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 01:56:10.832 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 01:56:10.832 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 01:56:10.833 | INFO     | uvicorn.server:serve:77 - Started server process [12428]
2024-03-09 01:56:10.834 | INFO     | uvicorn.server:serve:77 - Started server process [12428]
2024-03-09 01:56:10.834 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:56:10.835 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 01:56:10.836 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 01:56:10.837 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:56:10.837 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 01:56:11.566 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:57587 - "GET /api/v1/users/me HTTP/1.1" 403
2024-03-09 13:02:56.178 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 13:02:56.179 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 13:02:56.180 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 13:02:56.181 | INFO     | uvicorn.server:serve:77 - Started server process [1016]
2024-03-09 13:02:56.182 | INFO     | uvicorn.server:serve:77 - Started server process [1016]
2024-03-09 13:02:56.182 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:02:56.183 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:02:56.183 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 13:02:56.184 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:02:56.185 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:04:32.702 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:04:32.705 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:09:51.717 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:09:51.718 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:20:30.736 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:20:30.737 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:20:30.764 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:20:30.765 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:20:30.873 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:20:30.873 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:20:30.874 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:20:30.874 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:20:30.875 | INFO     | uvicorn.server:serve:87 - Finished server process [1016]
2024-03-09 13:20:30.875 | INFO     | uvicorn.server:serve:87 - Finished server process [1016]
2024-03-09 13:20:33.257 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 13:20:33.257 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 13:20:33.258 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 13:20:33.259 | INFO     | uvicorn.server:serve:77 - Started server process [9148]
2024-03-09 13:20:33.259 | INFO     | uvicorn.server:serve:77 - Started server process [9148]
2024-03-09 13:20:33.260 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:20:33.260 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:20:33.261 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 13:20:33.262 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:20:33.263 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:30:51.979 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:30:51.979 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:30:52.088 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:30:52.092 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:30:52.095 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:30:52.098 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:30:52.105 | INFO     | uvicorn.server:serve:87 - Finished server process [9148]
2024-03-09 13:30:52.106 | INFO     | uvicorn.server:serve:87 - Finished server process [9148]
2024-03-09 13:30:54.479 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 13:30:54.480 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 13:30:54.480 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 13:30:54.481 | INFO     | uvicorn.server:serve:77 - Started server process [7332]
2024-03-09 13:30:54.482 | INFO     | uvicorn.server:serve:77 - Started server process [7332]
2024-03-09 13:30:54.483 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:30:54.483 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:30:54.484 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 13:30:54.485 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:30:54.485 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:41:49.751 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:41:49.752 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 13:48:24.586 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:48:24.589 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 13:48:24.694 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:48:24.694 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 13:48:24.695 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:48:24.696 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 13:48:24.696 | INFO     | uvicorn.server:serve:87 - Finished server process [7332]
2024-03-09 13:48:24.697 | INFO     | uvicorn.server:serve:87 - Finished server process [7332]
2024-03-09 13:48:30.083 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 13:48:30.084 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 13:48:30.085 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 13:48:30.085 | INFO     | uvicorn.server:serve:77 - Started server process [14272]
2024-03-09 13:48:30.087 | INFO     | uvicorn.server:serve:77 - Started server process [14272]
2024-03-09 13:48:30.087 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:48:30.090 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 13:48:30.090 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 13:48:30.092 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 13:48:30.093 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 14:11:48.771 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 14:11:48.772 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 14:41:47.788 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 14:41:47.790 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:11:46.835 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:11:46.837 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:41:45.847 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 15:41:45.848 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:11:44.865 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:11:44.866 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:11:44.954 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:11:44.956 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:11:45.063 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:11:45.063 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:11:45.065 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:11:45.065 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:11:45.066 | INFO     | uvicorn.server:serve:87 - Finished server process [14272]
2024-03-09 16:11:45.067 | INFO     | uvicorn.server:serve:87 - Finished server process [14272]
2024-03-09 16:11:46.539 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 16:11:46.539 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 16:11:46.540 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 16:11:46.541 | INFO     | uvicorn.server:serve:77 - Started server process [12532]
2024-03-09 16:11:46.542 | INFO     | uvicorn.server:serve:77 - Started server process [12532]
2024-03-09 16:11:46.543 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:11:46.543 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:11:46.544 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 16:11:46.545 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:11:46.546 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:32:22.078 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:32:22.079 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:32:22.186 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:32:22.188 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:32:22.189 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:32:22.190 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:32:22.191 | INFO     | uvicorn.server:serve:87 - Finished server process [12532]
2024-03-09 16:32:22.192 | INFO     | uvicorn.server:serve:87 - Finished server process [12532]
2024-03-09 16:32:24.113 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 16:32:24.114 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 16:32:24.114 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 16:32:24.115 | INFO     | uvicorn.server:serve:77 - Started server process [3144]
2024-03-09 16:32:24.115 | INFO     | uvicorn.server:serve:77 - Started server process [3144]
2024-03-09 16:32:24.116 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:32:24.116 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:32:24.116 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 16:32:24.117 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:32:24.118 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:41:43.889 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:41:43.892 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 16:41:54.987 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60607 - "GET /docs HTTP/1.1" 200
2024-03-09 16:41:55.077 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:41:55.078 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 16:41:55.278 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60607 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-09 16:41:55.279 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60608 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-09 16:41:55.280 | INFO     | uvicorn.server:_wait_tasks_to_complete:303 - Waiting for connections to close. (CTRL+C to force quit)
2024-03-09 16:41:55.283 | INFO     | uvicorn.server:_wait_tasks_to_complete:303 - Waiting for connections to close. (CTRL+C to force quit)
2024-03-09 16:41:55.389 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:41:55.389 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 16:41:55.390 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:41:55.390 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 16:41:55.391 | INFO     | uvicorn.server:serve:87 - Finished server process [3144]
2024-03-09 16:41:55.392 | INFO     | uvicorn.server:serve:87 - Finished server process [3144]
2024-03-09 16:41:56.869 | DEBUG    | app:init_logging:130 - 日志系统已加载
2024-03-09 16:41:56.869 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 16:41:56.870 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 16:41:56.870 | INFO     | uvicorn.server:serve:77 - Started server process [10260]
2024-03-09 16:41:56.871 | INFO     | uvicorn.server:serve:77 - Started server process [10260]
2024-03-09 16:41:56.871 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:41:56.872 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 16:41:56.872 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 16:41:56.873 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:41:56.874 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 16:41:56.880 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60609 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:11:43.419 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 17:11:43.420 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 17:18:49.362 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61086 - "GET /docs HTTP/1.1" 200
2024-03-09 17:18:49.431 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 17:18:49.432 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 17:18:49.541 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 17:18:49.541 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 17:18:49.542 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 17:18:49.542 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 17:18:49.542 | INFO     | uvicorn.server:serve:87 - Finished server process [10260]
2024-03-09 17:18:49.544 | INFO     | uvicorn.server:serve:87 - Finished server process [10260]
2024-03-09 17:18:51.046 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 17:18:51.047 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 17:18:51.047 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 17:18:51.048 | INFO     | uvicorn.server:serve:77 - Started server process [6056]
2024-03-09 17:18:51.048 | INFO     | uvicorn.server:serve:77 - Started server process [6056]
2024-03-09 17:18:51.049 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 17:18:51.049 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 17:18:51.050 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 17:18:51.051 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 17:18:51.052 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 17:18:51.058 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:18:53.813 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /docs HTTP/1.1" 200
2024-03-09 17:18:53.921 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:18:56.027 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /docs HTTP/1.1" 200
2024-03-09 17:18:56.106 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61087 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:22:01.171 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61147 - "GET /docs HTTP/1.1" 200
2024-03-09 17:22:01.264 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61147 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:22:01.266 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 17:22:01.267 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 17:22:01.381 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 17:22:01.382 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 17:22:01.384 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 17:22:01.385 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 17:22:01.386 | INFO     | uvicorn.server:serve:87 - Finished server process [6056]
2024-03-09 17:22:01.387 | INFO     | uvicorn.server:serve:87 - Finished server process [6056]
2024-03-09 17:22:02.810 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 17:22:02.810 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 17:22:02.811 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 17:22:02.811 | INFO     | uvicorn.server:serve:77 - Started server process [1160]
2024-03-09 17:22:02.811 | INFO     | uvicorn.server:serve:77 - Started server process [1160]
2024-03-09 17:22:02.813 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 17:22:02.813 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 17:22:02.813 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 17:22:02.814 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 17:22:02.815 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 17:22:02.831 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61151 - "GET /docs HTTP/1.1" 200
2024-03-09 17:22:02.924 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61152 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 17:22:03.137 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61151 - "GET /static/favicon.png HTTP/1.1" 200
2024-03-09 17:41:42.438 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 17:41:42.439 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:10:15.646 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63448 - "GET /docs HTTP/1.1" 200
2024-03-09 18:10:15.672 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:10:15.678 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:10:15.781 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:10:15.782 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:10:15.786 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:10:15.787 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:10:15.789 | INFO     | uvicorn.server:serve:87 - Finished server process [1160]
2024-03-09 18:10:15.790 | INFO     | uvicorn.server:serve:87 - Finished server process [1160]
2024-03-09 18:10:17.963 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:10:17.963 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:10:17.964 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:10:17.964 | INFO     | uvicorn.server:serve:77 - Started server process [10312]
2024-03-09 18:10:17.965 | INFO     | uvicorn.server:serve:77 - Started server process [10312]
2024-03-09 18:10:17.965 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:10:17.966 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:10:17.966 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:10:17.967 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:10:17.968 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:10:17.974 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63449 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 18:10:43.082 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63463 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 18:11:41.455 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:11:41.456 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:14:34.142 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63495 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 18:14:34.234 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:14:34.236 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:14:34.342 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:14:34.342 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:14:34.342 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:14:34.343 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:14:34.343 | INFO     | uvicorn.server:serve:87 - Finished server process [10312]
2024-03-09 18:14:34.344 | INFO     | uvicorn.server:serve:87 - Finished server process [10312]
2024-03-09 18:14:44.294 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:14:44.294 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:14:44.295 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:14:44.296 | INFO     | uvicorn.server:serve:77 - Started server process [9472]
2024-03-09 18:14:44.296 | INFO     | uvicorn.server:serve:77 - Started server process [9472]
2024-03-09 18:14:44.297 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:14:44.297 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:14:44.297 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:14:44.298 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:14:44.299 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:14:44.418 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63501 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-09 18:16:00.896 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:16:00.896 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:16:01.005 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:16:01.006 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:16:01.007 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:16:01.007 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:16:01.008 | INFO     | uvicorn.server:serve:87 - Finished server process [9472]
2024-03-09 18:16:01.009 | INFO     | uvicorn.server:serve:87 - Finished server process [9472]
2024-03-09 18:16:02.548 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:16:02.548 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:16:02.549 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:16:02.549 | INFO     | uvicorn.server:serve:77 - Started server process [15664]
2024-03-09 18:16:02.551 | INFO     | uvicorn.server:serve:77 - Started server process [15664]
2024-03-09 18:16:02.551 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:16:02.551 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:16:02.552 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:16:02.553 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:16:02.554 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:16:05.412 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63513 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-09 18:17:38.914 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:17:38.916 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:17:39.024 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:17:39.025 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:17:39.025 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:17:39.026 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:17:39.026 | INFO     | uvicorn.server:serve:87 - Finished server process [15664]
2024-03-09 18:17:39.027 | INFO     | uvicorn.server:serve:87 - Finished server process [15664]
2024-03-09 18:17:40.491 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:17:40.491 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:17:40.492 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:17:40.493 | INFO     | uvicorn.server:serve:77 - Started server process [5584]
2024-03-09 18:17:40.493 | INFO     | uvicorn.server:serve:77 - Started server process [5584]
2024-03-09 18:17:40.493 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:17:40.494 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:17:40.494 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:17:40.495 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:17:40.496 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:17:41.720 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63522 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-09 18:18:21.589 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:18:21.590 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:18:21.697 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:18:21.697 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:18:21.698 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:18:21.698 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:18:21.699 | INFO     | uvicorn.server:serve:87 - Finished server process [5584]
2024-03-09 18:18:21.700 | INFO     | uvicorn.server:serve:87 - Finished server process [5584]
2024-03-09 18:18:23.591 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:18:23.592 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:18:23.593 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:18:23.593 | INFO     | uvicorn.server:serve:77 - Started server process [16848]
2024-03-09 18:18:23.594 | INFO     | uvicorn.server:serve:77 - Started server process [16848]
2024-03-09 18:18:23.594 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:18:23.594 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:18:23.595 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:18:23.596 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:18:23.596 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:18:25.590 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63529 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-09 18:19:16.007 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:19:16.008 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:19:16.116 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:19:16.116 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:19:16.117 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:19:16.117 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:19:16.118 | INFO     | uvicorn.server:serve:87 - Finished server process [16848]
2024-03-09 18:19:16.118 | INFO     | uvicorn.server:serve:87 - Finished server process [16848]
2024-03-09 18:19:17.663 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:19:17.666 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:19:17.667 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:19:17.671 | INFO     | uvicorn.server:serve:77 - Started server process [7776]
2024-03-09 18:19:17.672 | INFO     | uvicorn.server:serve:77 - Started server process [7776]
2024-03-09 18:19:17.672 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:19:17.672 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:19:17.673 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:19:17.674 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:19:17.675 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:19:19.422 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63544 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-09 18:31:41.361 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:31:41.364 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:31:41.470 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:31:41.470 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:31:41.471 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:31:41.471 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:31:41.472 | INFO     | uvicorn.server:serve:87 - Finished server process [7776]
2024-03-09 18:31:41.472 | INFO     | uvicorn.server:serve:87 - Finished server process [7776]
2024-03-09 18:31:42.886 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:31:42.888 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:31:42.888 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:31:42.888 | INFO     | uvicorn.server:serve:77 - Started server process [17760]
2024-03-09 18:31:42.889 | INFO     | uvicorn.server:serve:77 - Started server process [17760]
2024-03-09 18:31:42.889 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:31:42.889 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:31:42.890 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:31:42.891 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:31:42.891 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:32:56.258 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:63584 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 18:39:22.766 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:22.767 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:22.768 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:22.770 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:22.772 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:39:22.772 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:39:22.879 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:39:22.879 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:39:22.880 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:39:22.880 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:39:22.881 | INFO     | uvicorn.server:serve:87 - Finished server process [17760]
2024-03-09 18:39:22.881 | INFO     | uvicorn.server:serve:87 - Finished server process [17760]
2024-03-09 18:39:24.419 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:39:24.420 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:39:24.420 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:39:24.421 | INFO     | uvicorn.server:serve:77 - Started server process [4488]
2024-03-09 18:39:24.422 | INFO     | uvicorn.server:serve:77 - Started server process [4488]
2024-03-09 18:39:24.422 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:39:24.422 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:39:24.423 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:39:24.425 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:39:24.425 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:39:24.426 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:24.428 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:24.429 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:39:24.430 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:40.470 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:40.471 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:40.547 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:41:40.548 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:41:40.657 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:41:40.657 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:41:40.658 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:41:40.659 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:41:40.660 | INFO     | uvicorn.server:serve:87 - Finished server process [4488]
2024-03-09 18:41:40.661 | INFO     | uvicorn.server:serve:87 - Finished server process [4488]
2024-03-09 18:41:43.375 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:41:43.376 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:41:43.377 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:41:43.377 | INFO     | uvicorn.server:serve:77 - Started server process [16540]
2024-03-09 18:41:43.378 | INFO     | uvicorn.server:serve:77 - Started server process [16540]
2024-03-09 18:41:43.379 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:41:43.380 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:41:43.382 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:41:43.383 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:41:43.384 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:41:43.885 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:43.886 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:48.662 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:41:48.666 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 18:49:30.377 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:49:30.384 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:49:30.500 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:49:30.516 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:49:30.522 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:49:30.525 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:49:30.526 | INFO     | uvicorn.server:serve:87 - Finished server process [16540]
2024-03-09 18:49:30.527 | INFO     | uvicorn.server:serve:87 - Finished server process [16540]
2024-03-09 18:49:33.789 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:49:33.790 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:49:33.790 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:49:33.791 | INFO     | uvicorn.server:serve:77 - Started server process [5572]
2024-03-09 18:49:33.791 | INFO     | uvicorn.server:serve:77 - Started server process [5572]
2024-03-09 18:49:33.792 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:49:33.792 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:49:33.793 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:49:33.794 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:49:33.794 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:49:37.503 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61672 - "GET /docs HTTP/1.1" 200
2024-03-09 18:49:37.835 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61672 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-09 18:49:37.836 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61673 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-09 18:49:38.016 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61673 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 18:50:06.542 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61730 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-09 18:50:18.976 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61771 - "POST /api/v1/users/login HTTP/1.1" 400
2024-03-09 18:50:24.350 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61786 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 18:51:18.842 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61898 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-09 18:51:28.252 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61921 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-09 18:51:40.906 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61945 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-09 18:51:53.014 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:61976 - "POST /api/v1/users/ HTTP/1.1" 400
2024-03-09 18:54:17.283 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62308 - "POST /api/v1/users/ HTTP/1.1" 200
2024-03-09 18:54:17.371 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:54:17.371 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:54:17.481 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:54:17.482 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:54:17.483 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:54:17.484 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:54:17.484 | INFO     | uvicorn.server:serve:87 - Finished server process [5572]
2024-03-09 18:54:17.484 | INFO     | uvicorn.server:serve:87 - Finished server process [5572]
2024-03-09 18:54:19.703 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:54:19.703 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:54:19.703 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:54:19.704 | INFO     | uvicorn.server:serve:77 - Started server process [6732]
2024-03-09 18:54:19.704 | INFO     | uvicorn.server:serve:77 - Started server process [6732]
2024-03-09 18:54:19.704 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:54:19.705 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:54:19.705 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:54:19.706 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:54:19.708 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:54:55.959 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62436 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 18:55:10.493 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62483 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 18:55:43.384 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:55:43.387 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:55:43.509 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:55:43.515 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:55:43.517 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:55:43.518 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:55:43.519 | INFO     | uvicorn.server:serve:87 - Finished server process [6732]
2024-03-09 18:55:43.520 | INFO     | uvicorn.server:serve:87 - Finished server process [6732]
2024-03-09 18:55:45.386 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:55:45.387 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:55:45.388 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:55:45.389 | INFO     | uvicorn.server:serve:77 - Started server process [7052]
2024-03-09 18:55:45.394 | INFO     | uvicorn.server:serve:77 - Started server process [7052]
2024-03-09 18:55:45.395 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:55:45.395 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:55:45.396 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:55:45.397 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:55:45.397 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:55:45.476 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62587 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 18:56:03.107 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62640 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 18:56:03.165 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:56:03.166 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:56:03.275 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:56:03.275 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:56:03.276 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:56:03.276 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:56:03.277 | INFO     | uvicorn.server:serve:87 - Finished server process [7052]
2024-03-09 18:56:03.277 | INFO     | uvicorn.server:serve:87 - Finished server process [7052]
2024-03-09 18:56:05.679 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:56:05.679 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:56:05.680 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:56:05.680 | INFO     | uvicorn.server:serve:77 - Started server process [9136]
2024-03-09 18:56:05.681 | INFO     | uvicorn.server:serve:77 - Started server process [9136]
2024-03-09 18:56:05.681 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:56:05.681 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:56:05.682 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:56:05.683 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:56:05.683 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:56:05.796 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62644 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 18:56:21.535 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:56:21.537 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 18:56:21.641 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:56:21.643 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 18:56:21.644 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:56:21.644 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 18:56:21.645 | INFO     | uvicorn.server:serve:87 - Finished server process [9136]
2024-03-09 18:56:21.645 | INFO     | uvicorn.server:serve:87 - Finished server process [9136]
2024-03-09 18:56:24.852 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 18:56:24.853 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 18:56:24.855 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 18:56:24.856 | INFO     | uvicorn.server:serve:77 - Started server process [4268]
2024-03-09 18:56:24.857 | INFO     | uvicorn.server:serve:77 - Started server process [4268]
2024-03-09 18:56:24.857 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:56:24.857 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 18:56:24.858 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 18:56:24.859 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:56:24.860 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 18:56:28.287 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62712 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 18:56:31.130 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:62712 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 19:11:39.832 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 19:11:39.833 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 19:11:39.857 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 19:11:39.858 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 19:11:39.967 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 19:11:39.968 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 19:11:39.970 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 19:11:39.971 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 19:11:39.972 | INFO     | uvicorn.server:serve:87 - Finished server process [4268]
2024-03-09 19:11:39.973 | INFO     | uvicorn.server:serve:87 - Finished server process [4268]
2024-03-09 19:11:42.099 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 19:11:42.100 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 19:11:42.101 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 19:11:42.101 | INFO     | uvicorn.server:serve:77 - Started server process [19560]
2024-03-09 19:11:42.102 | INFO     | uvicorn.server:serve:77 - Started server process [19560]
2024-03-09 19:11:42.102 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 19:11:42.106 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 19:11:42.108 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 19:11:42.109 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 19:11:42.110 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 19:41:38.858 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 19:41:38.863 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:11:37.883 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:11:37.887 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:41:36.903 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:41:36.903 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:45:33.734 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:45:33.740 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:56:53.613 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 20:56:53.614 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 21:11:36.466 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 21:11:36.468 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 21:16:09.057 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:51779 - "GET /api/v1/users/me HTTP/1.1" 403
2024-03-09 21:16:22.789 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58772 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 21:16:32.957 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58775 - "GET /api/v1/users/me HTTP/1.1" 200
2024-03-09 21:18:51.526 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58798 - "GET /docs HTTP/1.1" 200
2024-03-09 21:18:51.597 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:18:51.597 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:18:51.800 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58798 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-09 21:18:51.802 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58797 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-09 21:18:51.803 | INFO     | uvicorn.server:_wait_tasks_to_complete:303 - Waiting for connections to close. (CTRL+C to force quit)
2024-03-09 21:18:51.804 | INFO     | uvicorn.server:_wait_tasks_to_complete:303 - Waiting for connections to close. (CTRL+C to force quit)
2024-03-09 21:18:51.919 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:18:51.919 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:18:51.921 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:18:51.922 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:18:51.923 | INFO     | uvicorn.server:serve:87 - Finished server process [19560]
2024-03-09 21:18:51.923 | INFO     | uvicorn.server:serve:87 - Finished server process [19560]
2024-03-09 21:18:54.516 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:18:54.516 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:18:54.517 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:18:54.518 | INFO     | uvicorn.server:serve:77 - Started server process [18256]
2024-03-09 21:18:54.519 | INFO     | uvicorn.server:serve:77 - Started server process [18256]
2024-03-09 21:18:54.519 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:18:54.520 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:18:54.521 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:18:54.522 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:18:54.522 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:18:54.592 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58799 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 21:19:04.286 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58806 - "PUT /api/v1/users/%7Bid%7D?user_id=1 HTTP/1.1" 200
2024-03-09 21:19:26.156 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58808 - "GET /docs HTTP/1.1" 200
2024-03-09 21:19:26.237 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:19:26.237 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:19:26.346 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:19:26.347 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:19:26.351 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:19:26.359 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:19:26.364 | INFO     | uvicorn.server:serve:87 - Finished server process [18256]
2024-03-09 21:19:26.366 | INFO     | uvicorn.server:serve:87 - Finished server process [18256]
2024-03-09 21:19:27.800 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:19:27.801 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:19:27.802 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:19:27.803 | INFO     | uvicorn.server:serve:77 - Started server process [5840]
2024-03-09 21:19:27.804 | INFO     | uvicorn.server:serve:77 - Started server process [5840]
2024-03-09 21:19:27.804 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:19:27.804 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:19:27.805 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:19:27.806 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:19:27.807 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:19:27.811 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58810 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 21:20:45.668 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:20:45.669 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:20:45.777 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:20:45.779 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:20:45.780 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:20:45.781 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:20:45.782 | INFO     | uvicorn.server:serve:87 - Finished server process [5840]
2024-03-09 21:20:45.783 | INFO     | uvicorn.server:serve:87 - Finished server process [5840]
2024-03-09 21:20:48.464 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:20:48.465 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:20:48.465 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:20:48.466 | INFO     | uvicorn.server:serve:77 - Started server process [21480]
2024-03-09 21:20:48.467 | INFO     | uvicorn.server:serve:77 - Started server process [21480]
2024-03-09 21:20:48.467 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:20:48.468 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:20:48.468 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:20:48.469 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:20:48.469 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:21:59.387 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58840 - "GET /docs HTTP/1.1" 200
2024-03-09 21:21:59.469 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:21:59.469 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:21:59.579 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:21:59.581 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:21:59.584 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:21:59.585 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:21:59.589 | INFO     | uvicorn.server:serve:87 - Finished server process [21480]
2024-03-09 21:21:59.591 | INFO     | uvicorn.server:serve:87 - Finished server process [21480]
2024-03-09 21:22:02.147 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:22:02.147 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:22:02.148 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:22:02.149 | INFO     | uvicorn.server:serve:77 - Started server process [21448]
2024-03-09 21:22:02.149 | INFO     | uvicorn.server:serve:77 - Started server process [21448]
2024-03-09 21:22:02.150 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:22:02.150 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:22:02.151 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:22:02.152 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:22:02.152 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:22:02.167 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58841 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 21:24:33.104 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:24:33.107 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:24:33.212 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:24:33.213 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:24:33.214 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:24:33.215 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:24:33.216 | INFO     | uvicorn.server:serve:87 - Finished server process [21448]
2024-03-09 21:24:33.216 | INFO     | uvicorn.server:serve:87 - Finished server process [21448]
2024-03-09 21:24:35.903 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:24:35.904 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:24:35.904 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:24:35.905 | INFO     | uvicorn.server:serve:77 - Started server process [19272]
2024-03-09 21:24:35.905 | INFO     | uvicorn.server:serve:77 - Started server process [19272]
2024-03-09 21:24:35.906 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:24:35.907 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:24:35.907 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:24:35.909 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:24:35.909 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:25:23.723 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:25:23.725 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:25:23.832 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:25:23.848 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:25:23.849 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:25:23.850 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:25:23.851 | INFO     | uvicorn.server:serve:87 - Finished server process [19272]
2024-03-09 21:25:23.852 | INFO     | uvicorn.server:serve:87 - Finished server process [19272]
2024-03-09 21:25:25.267 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:25:25.267 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:25:25.267 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:25:25.268 | INFO     | uvicorn.server:serve:77 - Started server process [21428]
2024-03-09 21:25:25.269 | INFO     | uvicorn.server:serve:77 - Started server process [21428]
2024-03-09 21:25:25.270 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:25:25.270 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:25:25.270 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:25:25.271 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:25:25.272 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:27:07.785 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58885 - "GET /docs HTTP/1.1" 200
2024-03-09 21:27:07.819 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:27:07.821 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:27:07.929 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:27:07.929 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:27:07.930 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:27:07.930 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:27:07.931 | INFO     | uvicorn.server:serve:87 - Finished server process [21428]
2024-03-09 21:27:07.931 | INFO     | uvicorn.server:serve:87 - Finished server process [21428]
2024-03-09 21:27:09.377 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:27:09.377 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:27:09.378 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:27:09.379 | INFO     | uvicorn.server:serve:77 - Started server process [20396]
2024-03-09 21:27:09.379 | INFO     | uvicorn.server:serve:77 - Started server process [20396]
2024-03-09 21:27:09.380 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:27:09.380 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:27:09.380 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:27:09.381 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:27:09.382 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:27:09.386 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58886 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 21:27:23.193 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58891 - "PATCH /api/v1/users/password/12 HTTP/1.1" 200
2024-03-09 21:31:12.713 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:31:12.714 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:31:12.822 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:31:12.822 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:31:12.823 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:31:12.824 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:31:12.825 | INFO     | uvicorn.server:serve:87 - Finished server process [20396]
2024-03-09 21:31:12.825 | INFO     | uvicorn.server:serve:87 - Finished server process [20396]
2024-03-09 21:31:15.474 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:31:15.474 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:31:15.475 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:31:15.475 | INFO     | uvicorn.server:serve:77 - Started server process [14612]
2024-03-09 21:31:15.476 | INFO     | uvicorn.server:serve:77 - Started server process [14612]
2024-03-09 21:31:15.476 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:31:15.477 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:31:15.478 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:31:15.479 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:31:15.479 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:31:34.427 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58925 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-09 21:32:32.916 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58934 - "GET /docs HTTP/1.1" 200
2024-03-09 21:32:33.017 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:32:33.018 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:32:33.125 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:32:33.126 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:32:33.127 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:32:33.128 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:32:33.129 | INFO     | uvicorn.server:serve:87 - Finished server process [14612]
2024-03-09 21:32:33.130 | INFO     | uvicorn.server:serve:87 - Finished server process [14612]
2024-03-09 21:32:35.524 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:32:35.524 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:32:35.525 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:32:35.525 | INFO     | uvicorn.server:serve:77 - Started server process [4980]
2024-03-09 21:32:35.526 | INFO     | uvicorn.server:serve:77 - Started server process [4980]
2024-03-09 21:32:35.526 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:32:35.526 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:32:35.527 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:32:35.528 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:32:35.528 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:32:35.533 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58935 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 21:32:40.188 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58935 - "GET /api/v1/users/list HTTP/1.1" 400
2024-03-09 21:32:43.679 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58935 - "GET /api/v1/users/list HTTP/1.1" 400
2024-03-09 21:33:15.659 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58945 - "GET /api/v1/users/list HTTP/1.1" 400
2024-03-09 21:33:15.766 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:33:15.767 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:33:15.874 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:33:15.875 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:33:15.877 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:33:15.878 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:33:15.879 | INFO     | uvicorn.server:serve:87 - Finished server process [4980]
2024-03-09 21:33:15.880 | INFO     | uvicorn.server:serve:87 - Finished server process [4980]
2024-03-09 21:33:17.247 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:33:17.248 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:33:17.248 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:33:17.249 | INFO     | uvicorn.server:serve:77 - Started server process [5828]
2024-03-09 21:33:17.249 | INFO     | uvicorn.server:serve:77 - Started server process [5828]
2024-03-09 21:33:17.250 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:33:17.250 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:33:17.251 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:33:17.253 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:33:17.253 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:33:17.358 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58948 - "GET /api/v1/users/list HTTP/1.1" 400
2024-03-09 21:34:47.486 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:34:47.487 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:34:47.598 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:34:47.601 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:34:47.601 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:34:47.601 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:34:47.601 | INFO     | uvicorn.server:serve:87 - Finished server process [5828]
2024-03-09 21:34:47.601 | INFO     | uvicorn.server:serve:87 - Finished server process [5828]
2024-03-09 21:34:49.300 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:34:49.300 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:34:49.300 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:34:49.305 | INFO     | uvicorn.server:serve:77 - Started server process [8572]
2024-03-09 21:34:49.305 | INFO     | uvicorn.server:serve:77 - Started server process [8572]
2024-03-09 21:34:49.305 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:34:49.305 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:34:49.305 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:34:49.305 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:34:49.305 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:34:51.791 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58969 - "GET /api/v1/users/list HTTP/1.1" 400
2024-03-09 21:38:29.668 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:38:29.671 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:38:29.776 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:38:29.780 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:38:29.783 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:38:29.786 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:38:29.788 | INFO     | uvicorn.server:serve:87 - Finished server process [8572]
2024-03-09 21:38:29.790 | INFO     | uvicorn.server:serve:87 - Finished server process [8572]
2024-03-09 21:38:31.279 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:38:31.280 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:38:31.281 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:38:31.282 | INFO     | uvicorn.server:serve:77 - Started server process [11568]
2024-03-09 21:38:31.282 | INFO     | uvicorn.server:serve:77 - Started server process [11568]
2024-03-09 21:38:31.283 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:38:31.283 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:38:31.283 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:38:31.285 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:38:31.285 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:38:36.067 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:58999 - "GET /api/v1/users/list HTTP/1.1" 200
2024-03-09 21:41:35.486 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 21:41:35.489 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 21:56:49.205 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:56:49.207 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 21:56:49.316 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:56:49.317 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 21:56:49.320 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:56:49.322 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 21:56:49.324 | INFO     | uvicorn.server:serve:87 - Finished server process [11568]
2024-03-09 21:56:49.326 | INFO     | uvicorn.server:serve:87 - Finished server process [11568]
2024-03-09 21:56:51.723 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 21:56:51.724 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 21:56:51.724 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 21:56:51.725 | INFO     | uvicorn.server:serve:77 - Started server process [10336]
2024-03-09 21:56:51.726 | INFO     | uvicorn.server:serve:77 - Started server process [10336]
2024-03-09 21:56:51.726 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:56:51.727 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 21:56:51.728 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 21:56:51.729 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 21:56:51.729 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:11:34.508 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 22:11:34.510 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 22:12:59.790 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:12:59.791 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:12:59.899 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:12:59.900 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:12:59.900 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:12:59.901 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:12:59.901 | INFO     | uvicorn.server:serve:87 - Finished server process [10336]
2024-03-09 22:12:59.902 | INFO     | uvicorn.server:serve:87 - Finished server process [10336]
2024-03-09 22:14:40.099 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:14:40.099 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:14:40.100 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:14:40.100 | INFO     | uvicorn.server:serve:77 - Started server process [18796]
2024-03-09 22:14:40.101 | INFO     | uvicorn.server:serve:77 - Started server process [18796]
2024-03-09 22:14:40.101 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:14:40.101 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:14:40.102 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:14:40.104 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:14:40.161 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:14:50.689 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59260 - "GET /docs HTTP/1.1" 200
2024-03-09 22:14:50.992 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59260 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 22:14:55.472 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59260 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:14:55.474 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x00000225258294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x00000225257085E0>
           └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022525713C10>
    └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002252583E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>
    │    └ <function subprocess_started at 0x0000022527753EE0>
    └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002252583E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000225277530D0>
           │       │   └ <uvicorn.server.Server object at 0x000002252583E460>
           │       └ <function run at 0x00000225273EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000225288E8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000225273ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000225273ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000225273F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002252735E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002252891DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022528082FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002252891DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002252AE96F40>
          └ <fastapi.applications.FastAPI object at 0x0000022528082FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002252AE96F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002252AE96F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002252AE96EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002252AE96F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002252AEAFDC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002252AE96EB0>
          └ <function wrap_app_handling_exceptions at 0x00000225284DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002252AE1FD60>>
          └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000225284B0D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002252842C940>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002252AEE64F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002252842C0D0>
          └ <function wrap_app_handling_exceptions at 0x00000225284DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CE50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002252842C0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002252AEE64F0>
                     └ <function get_request_handler.<locals>.app at 0x000002252842C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000225284BB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002252AEE6730>}
                 │         └ <function page at 0x00000225282FE040>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022528419400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 66, in page
    users = await UserCRUD.get(db,id=1)
                  │        │   └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002252AEE6730>
                  │        └ <staticmethod object at 0x000002252AE2BD60>
                  └ <class 'app.crud.auth.user.UserCRUD'>

TypeError: get() missing 1 required positional argument: 'schema_to_select'
2024-03-09 22:14:55.571 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 400
               │     └ 3
               └ <function _main at 0x00000225258294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 400
           │    └ <function BaseProcess._bootstrap at 0x00000225257085E0>
           └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022525713C10>
    └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002252583E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>
    │    └ <function subprocess_started at 0x0000022527753EE0>
    └ <SpawnProcess name='SpawnProcess-3' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002252583E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000225277530D0>
           │       │   └ <uvicorn.server.Server object at 0x000002252583E460>
           │       └ <function run at 0x00000225273EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000225288E8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000225273ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000225273ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000225273F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002252735E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002252AEE65E0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002252891DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022528082FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002252891DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002252A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002252AE96F40>
          └ <fastapi.applications.FastAPI object at 0x0000022528082FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002252AE96F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002252AE96F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002252AE96EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002252AE96F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022527D049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002252AEAFDC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002252AE96EB0>
          └ <function wrap_app_handling_exceptions at 0x00000225284DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002252AE1FD60>>
          └ <fastapi.routing.APIRouter object at 0x000002252AE1FD60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000225284B0D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002252842C940>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CA60>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002252AEE64F0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002252842C0D0>
          └ <function wrap_app_handling_exceptions at 0x00000225284DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002252842CE50>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002252842C0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002252AEE64F0>
                     └ <function get_request_handler.<locals>.app at 0x000002252842C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000225284BB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002252AEE6730>}
                 │         └ <function page at 0x00000225282FE040>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022528419400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 66, in page
    users = await UserCRUD.get(db,id=1)
                  │        │   └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002252AEE6730>
                  │        └ <staticmethod object at 0x000002252AE2BD60>
                  └ <class 'app.crud.auth.user.UserCRUD'>

TypeError: get() missing 1 required positional argument: 'schema_to_select'
2024-03-09 22:17:49.116 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:17:49.117 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:17:49.224 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:17:49.226 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:17:49.228 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:17:49.229 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:17:49.230 | INFO     | uvicorn.server:serve:87 - Finished server process [18796]
2024-03-09 22:17:49.231 | INFO     | uvicorn.server:serve:87 - Finished server process [18796]
2024-03-09 22:17:51.335 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:17:51.335 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:17:51.336 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:17:51.336 | INFO     | uvicorn.server:serve:77 - Started server process [20324]
2024-03-09 22:17:51.337 | INFO     | uvicorn.server:serve:77 - Started server process [20324]
2024-03-09 22:17:51.337 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:17:51.338 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:17:51.338 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:17:51.339 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:17:51.340 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:17:53.301 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59281 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:18:34.880 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:18:34.881 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:18:34.989 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:18:34.990 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:18:34.992 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:18:34.993 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:18:34.994 | INFO     | uvicorn.server:serve:87 - Finished server process [20324]
2024-03-09 22:18:34.995 | INFO     | uvicorn.server:serve:87 - Finished server process [20324]
2024-03-09 22:18:36.514 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:18:36.515 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:18:36.516 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:18:36.516 | INFO     | uvicorn.server:serve:77 - Started server process [20576]
2024-03-09 22:18:36.517 | INFO     | uvicorn.server:serve:77 - Started server process [20576]
2024-03-09 22:18:36.517 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:18:36.518 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:18:36.518 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:18:36.519 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:18:36.519 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:18:39.031 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59287 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:18:42.153 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59287 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:18:48.848 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59288 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:18:50.042 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59288 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:18:51.015 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59288 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:27:15.195 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:27:15.196 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:27:15.305 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:27:15.305 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:27:15.306 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:27:15.306 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:27:15.307 | INFO     | uvicorn.server:serve:87 - Finished server process [20576]
2024-03-09 22:27:15.308 | INFO     | uvicorn.server:serve:87 - Finished server process [20576]
2024-03-09 22:27:16.849 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:27:16.850 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:27:16.850 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:27:16.851 | INFO     | uvicorn.server:serve:77 - Started server process [21328]
2024-03-09 22:27:16.852 | INFO     | uvicorn.server:serve:77 - Started server process [21328]
2024-03-09 22:27:16.852 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:27:16.852 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:27:16.854 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:27:16.855 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:27:16.856 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:27:19.601 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59346 - "GET /docs HTTP/1.1" 200
2024-03-09 22:27:19.779 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59346 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 22:27:26.360 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59347 - "GET /api/v1/users/list HTTP/1.1" 200
2024-03-09 22:27:34.518 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59349 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:27:34.527 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000027C767C94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000027C766985E0>
           └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000027C766A3C10>
    └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000027C767DE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>
    │    └ <function subprocess_started at 0x0000027C786F3EE0>
    └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000027C767DE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000027C786F30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000027C767DE460>
           │       └ <function run at 0x0000027C7838C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000027C79888340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000027C7838D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000027C7838D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000027C783914C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000027C782FE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027C798BAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027C79022FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027C798BAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027C7BE4C220>
          └ <fastapi.applications.FastAPI object at 0x0000027C79022FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027C7BE4C130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027C7BE4C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027C7BE38F70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027C7BE4C130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000027C7BEBAF70>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027C7BE38F70>
          └ <function wrap_app_handling_exceptions at 0x0000027C7949D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>>
          └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000027C7944BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000027C793AD820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000027C7BE4CB80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000027C793ADCA0>
          └ <function wrap_app_handling_exceptions at 0x0000027C7949D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7921B1F0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000027C793ADCA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000027C7BE4CB80>
                     └ <function get_request_handler.<locals>.app at 0x0000027C793AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000027C7944A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000027C7BE4CA30>}
                 │         └ <function page at 0x0000027C7BE27EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000027C793B73D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 67, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user.User object at 0x0000027C7BEE30A0>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x0000027C79572820>
    │           └ <app.utils.responses.SuccessExtra object at 0x0000027C7BE87340>
    └ <app.utils.responses.SuccessExtra object at 0x0000027C7BE87340>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x0000027C78452DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x0000027C78452D30>
             └ <json.encoder.JSONEncoder object at 0x0000027C7BEBAE50>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x0000027C7BEE5820>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:27:34.625 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000027C767C94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000027C766985E0>
           └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000027C766A3C10>
    └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000027C767DE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>
    │    └ <function subprocess_started at 0x0000027C786F3EE0>
    └ <SpawnProcess name='SpawnProcess-7' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000027C767DE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000027C786F30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000027C767DE460>
           │       └ <function run at 0x0000027C7838C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000027C79888340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000027C7838D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000027C7838D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000027C783914C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000027C782FE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000027C7BEDCB50>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027C798BAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027C79022FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027C798BAAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027C7B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027C7BE4C220>
          └ <fastapi.applications.FastAPI object at 0x0000027C79022FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027C7BE4C130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027C7BE4C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027C7BE38F70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027C7BE4C130>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000027C78CA49D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000027C7BEBAF70>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000027C7BE38F70>
          └ <function wrap_app_handling_exceptions at 0x0000027C7949D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>>
          └ <fastapi.routing.APIRouter object at 0x0000027C7BDBEA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000027C7944BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000027C793AD820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7929C820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000027C7BE4CB80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000027C793ADCA0>
          └ <function wrap_app_handling_exceptions at 0x0000027C7949D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000027C7921B1F0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000027C793ADCA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000027C7BE4CB80>
                     └ <function get_request_handler.<locals>.app at 0x0000027C793AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000027C7944A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000027C7BE4CA30>}
                 │         └ <function page at 0x0000027C7BE27EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000027C793B73D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 67, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user.User object at 0x0000027C7BEE30A0>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x0000027C79572820>
    │           └ <app.utils.responses.SuccessExtra object at 0x0000027C7BE87340>
    └ <app.utils.responses.SuccessExtra object at 0x0000027C7BE87340>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x0000027C78452DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x0000027C78452D30>
             └ <json.encoder.JSONEncoder object at 0x0000027C7BEBAE50>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000027C7BE87490>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x0000027C7BEE5820>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:01.552 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:31:01.553 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:31:01.662 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:31:01.662 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:31:01.663 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:31:01.663 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:31:01.664 | INFO     | uvicorn.server:serve:87 - Finished server process [21328]
2024-03-09 22:31:01.664 | INFO     | uvicorn.server:serve:87 - Finished server process [21328]
2024-03-09 22:31:03.101 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:31:03.102 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:31:03.102 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:31:03.103 | INFO     | uvicorn.server:serve:77 - Started server process [20836]
2024-03-09 22:31:03.103 | INFO     | uvicorn.server:serve:77 - Started server process [20836]
2024-03-09 22:31:03.104 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:31:03.104 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:31:03.105 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:31:03.105 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:31:03.106 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:31:05.138 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59370 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:31:05.139 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 404
               │     └ 3
               └ <function _main at 0x0000020292A294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 404
           │    └ <function BaseProcess._bootstrap at 0x00000202929285E0>
           └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000020292933C10>
    └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000020292A3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>
    │    └ <function subprocess_started at 0x0000020294944EE0>
    └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000020292A3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000202949440D0>
           │       │   └ <uvicorn.server.Server object at 0x0000020292A3E460>
           │       └ <function run at 0x00000202945DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000020295ADB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000202945DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000202945DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000202945E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002029454E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020295B13AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000020295272FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020295B13AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020298098250>
          └ <fastapi.applications.FastAPI object at 0x0000020295272FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000202980981F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020298098250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020298085EE0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000202980981F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000202980D7040>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002029800FA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020298085EE0>
          └ <function wrap_app_handling_exceptions at 0x00000202956EE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002029800FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002029800FA00>>
          └ <fastapi.routing.APIRouter object at 0x000002029800FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002029569FD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000202955FD820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000202980D72B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000202955FD940>
          └ <function wrap_app_handling_exceptions at 0x00000202956EE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FDDC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000202955FD940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000202980D72B0>
                     └ <function get_request_handler.<locals>.app at 0x00000202955FD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000202956928B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000202980D7640>}
                 │         └ <function page at 0x0000020298076EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000020295608400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user.User object at 0x0000020298111A90>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x00000202957B3820>
    │           └ <app.utils.responses.SuccessExtra object at 0x00000202980D7E20>
    └ <app.utils.responses.SuccessExtra object at 0x00000202980D7E20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x00000202946A1DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x00000202946A1D30>
             └ <json.encoder.JSONEncoder object at 0x00000202980D7DF0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x00000202980E7D60>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:05.176 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 404
               │     └ 3
               └ <function _main at 0x0000020292A294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 404
           │    └ <function BaseProcess._bootstrap at 0x00000202929285E0>
           └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000020292933C10>
    └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000020292A3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>
    │    └ <function subprocess_started at 0x0000020294944EE0>
    └ <SpawnProcess name='SpawnProcess-8' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000020292A3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000202949440D0>
           │       │   └ <uvicorn.server.Server object at 0x0000020292A3E460>
           │       └ <function run at 0x00000202945DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000020295ADB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000202945DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000202945DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000202945E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002029454E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000202981116A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020295B13AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000020295272FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020295B13AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020298...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020298098250>
          └ <fastapi.applications.FastAPI object at 0x0000020295272FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000202980981F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020298098250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020298085EE0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000202980981F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020294EF39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000202980D7040>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002029800FA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020298085EE0>
          └ <function wrap_app_handling_exceptions at 0x00000202956EE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002029800FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002029800FA00>>
          └ <fastapi.routing.APIRouter object at 0x000002029800FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002029569FD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000202955FD820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FD9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000202980D72B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000202955FD940>
          └ <function wrap_app_handling_exceptions at 0x00000202956EE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000202955FDDC0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000202955FD940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000202980D72B0>
                     └ <function get_request_handler.<locals>.app at 0x00000202955FD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000202956928B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000202980D7640>}
                 │         └ <function page at 0x0000020298076EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000020295608400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user.User object at 0x0000020298111A90>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x00000202957B3820>
    │           └ <app.utils.responses.SuccessExtra object at 0x00000202980D7E20>
    └ <app.utils.responses.SuccessExtra object at 0x00000202980D7E20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x00000202946A1DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x00000202946A1D30>
             └ <json.encoder.JSONEncoder object at 0x00000202980D7DF0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000020298111A60>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x00000202980E7D60>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:28.181 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:31:28.181 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:31:28.288 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:31:28.289 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:31:28.290 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:31:28.291 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:31:28.292 | INFO     | uvicorn.server:serve:87 - Finished server process [20836]
2024-03-09 22:31:28.293 | INFO     | uvicorn.server:serve:87 - Finished server process [20836]
2024-03-09 22:31:30.385 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:31:30.386 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:31:30.387 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:31:30.388 | INFO     | uvicorn.server:serve:77 - Started server process [20508]
2024-03-09 22:31:30.389 | INFO     | uvicorn.server:serve:77 - Started server process [20508]
2024-03-09 22:31:30.389 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:31:30.391 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:31:30.392 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:31:30.393 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:31:30.394 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:31:31.480 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59374 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:31:31.484 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 364
               │     └ 3
               └ <function _main at 0x000001F964D994C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 364
           │    └ <function BaseProcess._bootstrap at 0x000001F964C885E0>
           └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F964C93C10>
    └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F964DAE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>
    │    └ <function subprocess_started at 0x000001F966CC4EE0>
    └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F964DAE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F966CC40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F964DAE460>
           │       └ <function run at 0x000001F96695C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F967E58340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F96695D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F96695D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F9669604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F9668CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F967E8FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F9675F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F967E8FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F96A4281F0>
          └ <fastapi.applications.FastAPI object at 0x000001F9675F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F96A415EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F96A4281F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F96A415FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F96A415EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F96A467040>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F96A415FA0>
          └ <function wrap_app_handling_exceptions at 0x000001F967A4B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F96A39FA00>>
          └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F967A25D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F96799C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F96A4672B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F96799C940>
          └ <function wrap_app_handling_exceptions at 0x000001F967A4B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799CCA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F96799C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F96A4672B0>
                     └ <function get_request_handler.<locals>.app at 0x000001F96799C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001F967A268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001F96A467640>}
                 │         └ <function page at 0x000001F96A406EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001F967985400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 6
           │                 └ [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user.User object at 0x000001F96A4A1A90>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x000001F967B34820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001F96A467E20>
    └ <app.utils.responses.SuccessExtra object at 0x000001F96A467E20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001F966A22DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x000001F966A22D30>
             └ <json.encoder.JSONEncoder object at 0x000001F96A467DF0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x000001F96A477CA0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:31.519 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 364
               │     └ 3
               └ <function _main at 0x000001F964D994C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 364
           │    └ <function BaseProcess._bootstrap at 0x000001F964C885E0>
           └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F964C93C10>
    └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F964DAE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>
    │    └ <function subprocess_started at 0x000001F966CC4EE0>
    └ <SpawnProcess name='SpawnProcess-9' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F964DAE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=396, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001F966CC40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001F964DAE460>
           │       └ <function run at 0x000001F96695C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F967E58340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F96695D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F96695D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F9669604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F9668CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F96A4A16A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F967E8FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F9675F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F967E8FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F96A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F96A4281F0>
          └ <fastapi.applications.FastAPI object at 0x000001F9675F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F96A415EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F96A4281F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F96A415FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F96A415EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F9672739D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001F96A467040>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F96A415FA0>
          └ <function wrap_app_handling_exceptions at 0x000001F967A4B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001F96A39FA00>>
          └ <fastapi.routing.APIRouter object at 0x000001F96A39FA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001F967A25D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001F96799C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799C9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001F96A4672B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001F96799C940>
          └ <function wrap_app_handling_exceptions at 0x000001F967A4B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001F96799CCA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001F...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001F96799C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F96A4672B0>
                     └ <function get_request_handler.<locals>.app at 0x000001F96799C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001F967A268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001F96A467640>}
                 │         └ <function page at 0x000001F96A406EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001F967985400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 6
           │                 └ [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user.User object at 0x000001F96A4A1A90>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x000001F967B34820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001F96A467E20>
    └ <app.utils.responses.SuccessExtra object at 0x000001F96A467E20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001F966A22DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x000001F966A22D30>
             └ <json.encoder.JSONEncoder object at 0x000001F96A467DF0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x000001F96A4A1A60>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x000001F96A477CA0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:46.950 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:31:46.952 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:31:47.061 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:31:47.063 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:31:47.069 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:31:47.075 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:31:47.077 | INFO     | uvicorn.server:serve:87 - Finished server process [20508]
2024-03-09 22:31:47.079 | INFO     | uvicorn.server:serve:87 - Finished server process [20508]
2024-03-09 22:31:48.611 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:31:48.611 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:31:48.612 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:31:48.612 | INFO     | uvicorn.server:serve:77 - Started server process [20580]
2024-03-09 22:31:48.613 | INFO     | uvicorn.server:serve:77 - Started server process [20580]
2024-03-09 22:31:48.613 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:31:48.614 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:31:48.614 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:31:48.615 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:31:48.616 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:31:52.586 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59379 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:31:52.587 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x00000281533D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x00000281532A85E0>
           └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000281532B3C10>
    └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000281533EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>
    │    └ <function subprocess_started at 0x0000028155304EE0>
    └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=756, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000281533EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=756, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000281553040D0>
           │       │   └ <uvicorn.server.Server object at 0x00000281533EE460>
           │       └ <function run at 0x0000028154F9C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000028156499340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000028154F9D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000028154F9D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000028154FA04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000028154F0E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000281564CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000028155C32FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000281564CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028158A46A30>
          └ <fastapi.applications.FastAPI object at 0x0000028155C32FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028158A46F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028158A46A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028158A46FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028158A46F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000028158A60E20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028158A46FA0>
          └ <function wrap_app_handling_exceptions at 0x0000028156084790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000281589CFA00>>
          └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002815605DD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000028155FC0820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000028158A60FA0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000028155FC08B0>
          └ <function wrap_app_handling_exceptions at 0x0000028156084790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000028155FC08B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000028158A60FA0>
                     └ <function get_request_handler.<locals>.app at 0x0000028155FC0790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002815606B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000028158A97430>}
                 │         └ <function page at 0x0000028158A36EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000028155FC5400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 69, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user.User object at 0x0000028158AD2880>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x0000028156171820>
    │           └ <app.utils.responses.SuccessExtra object at 0x0000028158A97D60>
    └ <app.utils.responses.SuccessExtra object at 0x0000028158A97D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x0000028155061DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x0000028155061D30>
             └ <json.encoder.JSONEncoder object at 0x0000028158A97C70>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x0000028158AD4700>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:31:52.627 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 408
               │     └ 3
               └ <function _main at 0x00000281533D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 408
           │    └ <function BaseProcess._bootstrap at 0x00000281532A85E0>
           └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000281532B3C10>
    └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000281533EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>
    │    └ <function subprocess_started at 0x0000028155304EE0>
    └ <SpawnProcess name='SpawnProcess-10' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=756, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000281533EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=756, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000281553040D0>
           │       │   └ <uvicorn.server.Server object at 0x00000281533EE460>
           │       └ <function run at 0x0000028154F9C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000028156499340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000028154F9D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000028154F9D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000028154FA04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000028154F0E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000028158AD2490>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000281564CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000028155C32FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000281564CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028158...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028158A46A30>
          └ <fastapi.applications.FastAPI object at 0x0000028155C32FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028158A46F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000028158A46A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028158A46FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000028158A46F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000281558B39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000028158A60E20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000028158A46FA0>
          └ <function wrap_app_handling_exceptions at 0x0000028156084790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000281589CFA00>>
          └ <fastapi.routing.APIRouter object at 0x00000281589CFA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002815605DD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000028155FC0820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000028158A60FA0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000028155FC08B0>
          └ <function wrap_app_handling_exceptions at 0x0000028156084790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000028155FC0C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000028...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000028155FC08B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000028158A60FA0>
                     └ <function get_request_handler.<locals>.app at 0x0000028155FC0790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002815606B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000028158A97430>}
                 │         └ <function page at 0x0000028158A36EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000028155FC5400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 69, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 6
           │                 └ [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user.User object at 0x0000028158AD2880>}...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
    │           │    └ <function JSONResponse.render at 0x0000028156171820>
    │           └ <app.utils.responses.SuccessExtra object at 0x0000028158A97D60>
    └ <app.utils.responses.SuccessExtra object at 0x0000028158A97D60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x0000028155061DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
             │    └ <function JSONEncoder.iterencode at 0x0000028155061D30>
             └ <json.encoder.JSONEncoder object at 0x0000028158A97C70>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'User': <app.models.user.User object at 0x0000028158AD2850>}, {'User': <app.models.user....
           └ <_json.Encoder object at 0x0000028158AD4700>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 22:35:28.239 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:35:28.240 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:35:28.349 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:35:28.355 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:35:28.357 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:35:28.360 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:35:28.365 | INFO     | uvicorn.server:serve:87 - Finished server process [20580]
2024-03-09 22:35:28.370 | INFO     | uvicorn.server:serve:87 - Finished server process [20580]
2024-03-09 22:35:30.354 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:35:30.354 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:35:30.355 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:35:30.355 | INFO     | uvicorn.server:serve:77 - Started server process [9400]
2024-03-09 22:35:30.356 | INFO     | uvicorn.server:serve:77 - Started server process [9400]
2024-03-09 22:35:30.356 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:35:30.357 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:35:30.357 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:35:30.358 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:35:30.358 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:35:33.870 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59396 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:36:48.833 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:36:48.834 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:36:48.942 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:36:48.944 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:36:48.945 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:36:48.945 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:36:48.946 | INFO     | uvicorn.server:serve:87 - Finished server process [9400]
2024-03-09 22:36:48.946 | INFO     | uvicorn.server:serve:87 - Finished server process [9400]
2024-03-09 22:36:50.665 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:36:50.666 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:36:50.666 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:36:50.667 | INFO     | uvicorn.server:serve:77 - Started server process [6176]
2024-03-09 22:36:50.667 | INFO     | uvicorn.server:serve:77 - Started server process [6176]
2024-03-09 22:36:50.667 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:36:50.668 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:36:50.668 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:36:50.669 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:36:50.670 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:36:50.794 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59410 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:41:33.524 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 22:41:33.526 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 22:44:35.790 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:44:35.790 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:44:35.899 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:44:35.900 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:44:35.901 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:44:35.902 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:44:35.902 | INFO     | uvicorn.server:serve:87 - Finished server process [6176]
2024-03-09 22:44:35.902 | INFO     | uvicorn.server:serve:87 - Finished server process [6176]
2024-03-09 22:44:37.636 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:44:37.637 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:44:37.637 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:44:37.637 | INFO     | uvicorn.server:serve:77 - Started server process [16388]
2024-03-09 22:44:37.639 | INFO     | uvicorn.server:serve:77 - Started server process [16388]
2024-03-09 22:44:37.639 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:44:37.640 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:44:37.640 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:44:37.641 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:44:37.642 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:44:38.629 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59604 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:52:02.528 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59638 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:52:02.576 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:52:02.577 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:52:02.685 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:52:02.688 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:52:02.691 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:52:02.693 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:52:02.695 | INFO     | uvicorn.server:serve:87 - Finished server process [16388]
2024-03-09 22:52:02.696 | INFO     | uvicorn.server:serve:87 - Finished server process [16388]
2024-03-09 22:52:04.072 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:52:04.073 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:52:04.073 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:52:04.074 | INFO     | uvicorn.server:serve:77 - Started server process [11588]
2024-03-09 22:52:04.074 | INFO     | uvicorn.server:serve:77 - Started server process [11588]
2024-03-09 22:52:04.075 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:52:04.075 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:52:04.075 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:52:04.077 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:52:04.077 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:52:06.448 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59643 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:52:56.042 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:52:56.044 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:52:56.151 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:52:56.152 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:52:56.153 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:52:56.153 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:52:56.154 | INFO     | uvicorn.server:serve:87 - Finished server process [11588]
2024-03-09 22:52:56.155 | INFO     | uvicorn.server:serve:87 - Finished server process [11588]
2024-03-09 22:52:57.928 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:52:57.928 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:52:57.929 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:52:57.930 | INFO     | uvicorn.server:serve:77 - Started server process [6044]
2024-03-09 22:52:57.930 | INFO     | uvicorn.server:serve:77 - Started server process [6044]
2024-03-09 22:52:57.930 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:52:57.931 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:52:57.931 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:52:57.932 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:52:57.933 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:53:03.426 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59651 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:53:25.434 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59657 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:53:50.337 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:53:50.338 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:53:50.446 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:53:50.447 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:53:50.447 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:53:50.448 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:53:50.448 | INFO     | uvicorn.server:serve:87 - Finished server process [6044]
2024-03-09 22:53:50.449 | INFO     | uvicorn.server:serve:87 - Finished server process [6044]
2024-03-09 22:53:52.058 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:53:52.059 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:53:52.059 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:53:52.060 | INFO     | uvicorn.server:serve:77 - Started server process [4532]
2024-03-09 22:53:52.060 | INFO     | uvicorn.server:serve:77 - Started server process [4532]
2024-03-09 22:53:52.061 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:53:52.061 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:53:52.062 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:53:52.063 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:53:52.063 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:53:52.160 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59662 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:53:52.162 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000001C5690594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000001C568F585E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C568F63C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C56906E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>
    │    └ <function subprocess_started at 0x000001C56AF73EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=824, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C56906E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=824, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C56AF730D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C56906E460>
           │       └ <function run at 0x000001C56AC0C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C56C109340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C56AC0D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C56AC0D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C56AC104C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C56AB7E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C56C13FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C56B8A2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C56C13FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C56E6D3250>
          └ <fastapi.applications.FastAPI object at 0x000001C56B8A2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C56E6C7EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C56E6D3250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C56E6C7FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C56E6C7EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C56E6D3D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C56E6C7FD0>
          └ <function wrap_app_handling_exceptions at 0x000001C56BD1E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C56E64EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C56BCCBD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C56BC49820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C56E6D3F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C56BC499D0>
          └ <function wrap_app_handling_exceptions at 0x000001C56BD1E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56E6B69D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C56BC499D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C56E6D3F70>
                     └ <function get_request_handler.<locals>.app at 0x000001C56BC49790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001C56BCC28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C56E6F3430>}
                 │         └ <function page at 0x000001C56E6B6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001C56BC36400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001C56BDE4820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001C56E6D3070>
    └ <app.utils.responses.SuccessExtra object at 0x000001C56E6D3070>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001C56ACD1DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001C56ACD1D30>
             └ <json.encoder.JSONEncoder object at 0x000001C56E7147C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001C56E747D00>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:53:52.209 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x000001C5690594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x000001C568F585E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C568F63C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C56906E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>
    │    └ <function subprocess_started at 0x000001C56AF73EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=824, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C56906E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=824, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C56AF730D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C56906E460>
           │       └ <function run at 0x000001C56AC0C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C56C109340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C56AC0D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C56AC0D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C56AC104C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C56AB7E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C56E73F610>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C56C13FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C56B8A2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C56C13FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C56E...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C56E6D3250>
          └ <fastapi.applications.FastAPI object at 0x000001C56B8A2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C56E6C7EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C56E6D3250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C56E6C7FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C56E6C7EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C56BC498B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C56E6D3D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C56E6C7FD0>
          └ <function wrap_app_handling_exceptions at 0x000001C56BD1E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C56E64EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001C56E64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C56BCCBD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C56BC49820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56BC49940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C56E6D3F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C56BC499D0>
          └ <function wrap_app_handling_exceptions at 0x000001C56BD1E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C56E6B69D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C56BC499D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C56E6D3F70>
                     └ <function get_request_handler.<locals>.app at 0x000001C56BC49790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001C56BCC28B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C56E6F3430>}
                 │         └ <function page at 0x000001C56E6B6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001C56BC36400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=list_user, total=total)
           │                 │                └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001C56BDE4820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001C56E6D3070>
    └ <app.utils.responses.SuccessExtra object at 0x000001C56E6D3070>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001C56ACD1DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001C56ACD1D30>
             └ <json.encoder.JSONEncoder object at 0x000001C56E7147C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001C56E747D00>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:54:27.704 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:54:27.705 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:54:27.815 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:54:27.815 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:54:27.815 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:54:27.817 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:54:27.817 | INFO     | uvicorn.server:serve:87 - Finished server process [4532]
2024-03-09 22:54:27.817 | INFO     | uvicorn.server:serve:87 - Finished server process [4532]
2024-03-09 22:54:29.178 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:54:29.178 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:54:29.178 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:54:29.178 | INFO     | uvicorn.server:serve:77 - Started server process [2392]
2024-03-09 22:54:29.178 | INFO     | uvicorn.server:serve:77 - Started server process [2392]
2024-03-09 22:54:29.178 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:54:29.178 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:54:29.178 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:54:29.178 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:54:29.178 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:54:32.314 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59669 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:54:32.314 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x000001BF8FAD94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x000001BF8F8D45E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001BF8F8D3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001BF8FAEE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    └ <function subprocess_started at 0x000001BF91A03EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001BF8FAEE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001BF91A030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001BF8FAEE460>
           │       └ <function run at 0x000001BF9169C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001BF92B98340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001BF9169D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001BF9169D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001BF916A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001BF9160E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>
          └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001BF95162DC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001BF950CEA00>>
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001BF9275BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001BF926DB820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001BF95162FD0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001BF926DB8B0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DBC10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001BF926DB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001BF95162FD0>
                     └ <function get_request_handler.<locals>.app at 0x000001BF926DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001BF9275A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001BF95197400>}
                 │         └ <function page at 0x000001BF95136EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001BF926CA3D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001BF92882820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001BF951AAFD0>
    └ <app.utils.responses.SuccessExtra object at 0x000001BF951AAFD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001BF91761DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001BF91761D30>
             └ <json.encoder.JSONEncoder object at 0x000001BF95197BB0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001BF951C2B20>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:54:32.371 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x000001BF8FAD94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x000001BF8F8D45E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001BF8F8D3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001BF8FAEE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    └ <function subprocess_started at 0x000001BF91A03EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001BF8FAEE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001BF91A030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001BF8FAEE460>
           │       └ <function run at 0x000001BF9169C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001BF92B98340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001BF9169D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001BF9169D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001BF916A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001BF9160E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C42B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>
          └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF91FB39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001BF95162DC0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001BF950CEA00>>
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001BF9275BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001BF926DB820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DB040>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001BF95162FD0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001BF926DB8B0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF926DBC10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001BF926DB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001BF95162FD0>
                     └ <function get_request_handler.<locals>.app at 0x000001BF926DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001BF9275A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001BF95197400>}
                 │         └ <function page at 0x000001BF95136EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001BF926CA3D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001BF92882820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001BF951AAFD0>
    └ <app.utils.responses.SuccessExtra object at 0x000001BF951AAFD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001BF91761DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001BF91761D30>
             └ <json.encoder.JSONEncoder object at 0x000001BF95197BB0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001BF951C2B20>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:55:18.762 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:55:18.762 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:55:18.763 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59671 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:55:18.763 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x000001BF8FAD94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x000001BF8F8D45E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001BF8F8D3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001BF8FAEE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    └ <function subprocess_started at 0x000001BF91A03EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001BF8FAEE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>]
           │       │   │    └ <function Server.serve at 0x000001BF91A030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001BF8FAEE460>
           │       └ <function run at 0x000001BF9169C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001BF92B98340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001BF9169D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001BF9169D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001BF916A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001BF9160E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>
          └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001BF951C4430>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001BF950CEA00>>
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001BF9275BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001BF926DB820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001BF951C4670>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001BF95328DC0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001BF95328DC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001BF951C4670>
                     └ <function get_request_handler.<locals>.app at 0x000001BF926DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001BF9275A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001BF951C4A60>}
                 │         └ <function page at 0x000001BF95136EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001BF926CA3D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001BF92882820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001BF951AA3D0>
    └ <app.utils.responses.SuccessExtra object at 0x000001BF951AA3D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001BF91761DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001BF91761D30>
             └ <json.encoder.JSONEncoder object at 0x000001BF951C4C70>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001BF9533ACA0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:55:18.791 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x000001BF8FAD94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x000001BF8F8D45E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001BF8F8D3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001BF8FAEE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>
    │    └ <function subprocess_started at 0x000001BF91A03EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001BF8FAEE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>]
           │       │   │    └ <function Server.serve at 0x000001BF91A030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001BF8FAEE460>
           │       └ <function run at 0x000001BF9169C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001BF92B98340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001BF9169D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001BF9169D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001BF916A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001BF9160E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001BF951C4370>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001BF92BCFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001BF95...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>
          └ <fastapi.applications.FastAPI object at 0x000001BF92332FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001BF95147E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001BF95147F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001BF926DB1F0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001BF951C4430>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001BF95147FD0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001BF950CEA00>>
          └ <fastapi.routing.APIRouter object at 0x000001BF950CEA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001BF9275BD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001BF926DB820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001BF951C4670>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001BF95328DC0>
          └ <function wrap_app_handling_exceptions at 0x000001BF927AD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001BF95328CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001BF95328DC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001BF951C4670>
                     └ <function get_request_handler.<locals>.app at 0x000001BF926DB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001BF9275A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001BF951C4A60>}
                 │         └ <function page at 0x000001BF95136EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001BF926CA3D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 5
           │                 └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
    │           │    └ <function JSONResponse.render at 0x000001BF92882820>
    │           └ <app.utils.responses.SuccessExtra object at 0x000001BF951AA3D0>
    └ <app.utils.responses.SuccessExtra object at 0x000001BF951AA3D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x000001BF91761DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
             │    └ <function JSONEncoder.iterencode at 0x000001BF91761D30>
             └ <json.encoder.JSONEncoder object at 0x000001BF951C4C70>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email'...
           └ <_json.Encoder object at 0x000001BF9533ACA0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type datetime is not JSON serializable
2024-03-09 22:55:18.867 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:55:18.867 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:55:18.868 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:55:18.868 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:55:18.869 | INFO     | uvicorn.server:serve:87 - Finished server process [2392]
2024-03-09 22:55:18.869 | INFO     | uvicorn.server:serve:87 - Finished server process [2392]
2024-03-09 22:55:20.280 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:55:20.280 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:55:20.281 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:55:20.281 | INFO     | uvicorn.server:serve:77 - Started server process [21160]
2024-03-09 22:55:20.282 | INFO     | uvicorn.server:serve:77 - Started server process [21160]
2024-03-09 22:55:20.282 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:55:20.283 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:55:20.283 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:55:20.284 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:55:20.284 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:55:21.595 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59675 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:55:45.937 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:55:45.937 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:55:45.937 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59678 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:55:46.052 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:55:46.057 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:55:46.074 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:55:46.082 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:55:46.089 | INFO     | uvicorn.server:serve:87 - Finished server process [21160]
2024-03-09 22:55:46.089 | INFO     | uvicorn.server:serve:87 - Finished server process [21160]
2024-03-09 22:55:47.496 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:55:47.496 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:55:47.496 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:55:47.496 | INFO     | uvicorn.server:serve:77 - Started server process [10680]
2024-03-09 22:55:47.496 | INFO     | uvicorn.server:serve:77 - Started server process [10680]
2024-03-09 22:55:47.496 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:55:47.496 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:55:47.496 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:55:47.496 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:55:47.496 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:55:50.135 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59682 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:56:43.942 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59684 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:56:44.021 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:56:44.023 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:56:44.114 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:56:44.114 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:56:44.114 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:56:44.115 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:56:44.116 | INFO     | uvicorn.server:serve:87 - Finished server process [10680]
2024-03-09 22:56:44.116 | INFO     | uvicorn.server:serve:87 - Finished server process [10680]
2024-03-09 22:56:46.481 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:56:46.483 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:56:46.483 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:56:46.484 | INFO     | uvicorn.server:serve:77 - Started server process [12752]
2024-03-09 22:56:46.485 | INFO     | uvicorn.server:serve:77 - Started server process [12752]
2024-03-09 22:56:46.485 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:56:46.486 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:56:46.486 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:56:46.487 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:56:46.487 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:56:46.565 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59689 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 22:58:51.353 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:58:51.353 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:58:51.462 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:58:51.462 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:58:51.462 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:58:51.463 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:58:51.463 | INFO     | uvicorn.server:serve:87 - Finished server process [12752]
2024-03-09 22:58:51.463 | INFO     | uvicorn.server:serve:87 - Finished server process [12752]
2024-03-09 22:58:53.164 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:58:53.165 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:58:53.166 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:58:53.167 | INFO     | uvicorn.server:serve:77 - Started server process [17856]
2024-03-09 22:58:53.167 | INFO     | uvicorn.server:serve:77 - Started server process [17856]
2024-03-09 22:58:53.167 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:58:53.168 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:58:53.168 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:58:53.169 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:58:53.169 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:58:53.244 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59700 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:58:53.245 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x000001DBCA0A84C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x000001DBC9F885E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DBC9F93C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DBCA0BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DBCBFD3EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DBCA0BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DBCBFD30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DBCA0BE460>
           │       └ <function run at 0x000001DBCBC6C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DBCD168340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DBCBC6D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DBCBC6D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DBCBC704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DBCBBDE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>
          └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DBCF727D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>>
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DBCCD28D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DBCCCAA820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DBCF727F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCCAA9D0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCF7089D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCCAA9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DBCF727F70>
                     └ <function get_request_handler.<locals>.app at 0x000001DBCCCAA790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DBCCD3A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DBCF743430>}
                 │         └ <function page at 0x000001DBCF708EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DBCCC99400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: list_user, total: total}
            │     │          │      └ 0
            │     │          └ 0
            │     └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:58:53.275 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x000001DBCA0A84C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x000001DBC9F885E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DBC9F93C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DBCA0BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DBCBFD3EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DBCA0BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DBCBFD30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DBCA0BE460>
           │       └ <function run at 0x000001DBCBC6C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DBCD168340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DBCBC6D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DBCBC6D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DBCBC704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DBCBBDE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF7656A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>
          └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCCCAA8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DBCF727D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>>
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DBCCD28D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DBCCCAA820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCAA940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DBCF727F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCCAA9D0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCF7089D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCCAA9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DBCF727F70>
                     └ <function get_request_handler.<locals>.app at 0x000001DBCCCAA790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DBCCD3A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DBCF743430>}
                 │         └ <function page at 0x000001DBCF708EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DBCCC99400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: list_user, total: total}
            │     │          │      └ 0
            │     │          └ 0
            │     └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:58:58.104 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59708 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:58:58.105 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x000001DBCA0A84C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x000001DBC9F885E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DBC9F93C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DBCA0BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DBCBFD3EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DBCA0BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DBCBFD30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DBCA0BE460>
           │       └ <function run at 0x000001DBCBC6C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DBCD168340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DBCBC6D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DBCBC6D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DBCBC704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DBCBBDE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>
          └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DBCF786520>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>>
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DBCCD28D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DBCCCAA820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DBCF786730>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCAF4310>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCF8E9A60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCAF4310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DBCF786730>
                     └ <function get_request_handler.<locals>.app at 0x000001DBCCCAA790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DBCCD3A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DBCF786BE0>}
                 │         └ <function page at 0x000001DBCF708EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DBCCC99400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: list_user, total: total}
            │     │          │      └ 0
            │     │          └ 0
            │     └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:58:58.124 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x000001DBCA0A84C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x000001DBC9F885E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DBC9F93C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DBCA0BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DBCBFD3EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DBCA0BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=768, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DBCBFD30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DBCA0BE460>
           │       └ <function run at 0x000001DBCBC6C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DBCD168340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DBCBC6D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DBCBC6D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DBCBC704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DBCBBDE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DBCF786490>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DBCD19DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DBCF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>
          └ <fastapi.applications.FastAPI object at 0x000001DBCC902FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DBCF727250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DBCF718F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DBCC5849D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DBCF786520>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DBCF718EB0>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>>
          └ <fastapi.routing.APIRouter object at 0x000001DBCF69DA90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DBCCD28D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DBCCCAA820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCCCA0310>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DBCF786730>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCAF4310>
          └ <function wrap_app_handling_exceptions at 0x000001DBCCD7D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DBCF8E9A60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DBCCAF4310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DBCF786730>
                     └ <function get_request_handler.<locals>.app at 0x000001DBCCCAA790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DBCCD3A8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DBCF786BE0>}
                 │         └ <function page at 0x000001DBCF708EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DBCCC99400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: list_user, total: total}
            │     │          │      └ 0
            │     │          └ 0
            │     └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:59:21.144 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:59:21.146 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:59:21.253 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:59:21.255 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:59:21.256 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:59:21.257 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:59:21.258 | INFO     | uvicorn.server:serve:87 - Finished server process [17856]
2024-03-09 22:59:21.259 | INFO     | uvicorn.server:serve:87 - Finished server process [17856]
2024-03-09 22:59:22.731 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:59:22.731 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:59:22.732 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:59:22.733 | INFO     | uvicorn.server:serve:77 - Started server process [20272]
2024-03-09 22:59:22.734 | INFO     | uvicorn.server:serve:77 - Started server process [20272]
2024-03-09 22:59:22.734 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:59:22.734 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:59:22.735 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:59:22.736 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:59:22.736 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:59:22.837 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59721 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:59:22.838 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000025AD2B294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000025AD2A085E0>
           └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025AD2A13C10>
    └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025AD2B3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>
    │    └ <function subprocess_started at 0x0000025AD4A54EE0>
    └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=452, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000025AD2B3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=452, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000025AD4A540D0>
           │       │   └ <uvicorn.server.Server object at 0x0000025AD2B3E460>
           │       └ <function run at 0x0000025AD46EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000025AD5BEB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000025AD46ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025AD46ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025AD46F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025AD465E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025AD5C1EAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000025AD5382FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025AD5C1EAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025AD8195A60>
          └ <fastapi.applications.FastAPI object at 0x0000025AD5382FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025AD8195F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025AD8195A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025AD8195FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025AD8195F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000025AD81B1BB0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025AD8195FA0>
          └ <function wrap_app_handling_exceptions at 0x0000025AD57D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000025AD816B310>>
          └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000025AD57ADD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000025AD570D820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000025AD81D8250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000025AD570D040>
          └ <function wrap_app_handling_exceptions at 0x0000025AD57D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000025AD570D040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025AD81D8250>
                     └ <function get_request_handler.<locals>.app at 0x0000025AD570D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000025AD57B78B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025AD81D8610>}
                 │         └ <function page at 0x0000025AD8186EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000025AD5718400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: str(list_user), total: total}
            │         │           │      └ 0
            │         │           └ 0
            │         └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:59:22.890 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x0000025AD2B294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x0000025AD2A085E0>
           └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025AD2A13C10>
    └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025AD2B3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>
    │    └ <function subprocess_started at 0x0000025AD4A54EE0>
    └ <SpawnProcess name='SpawnProcess-24' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=452, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000025AD2B3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=452, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000025AD4A540D0>
           │       │   └ <uvicorn.server.Server object at 0x0000025AD2B3E460>
           │       └ <function run at 0x0000025AD46EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000025AD5BEB340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000025AD46ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025AD46ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025AD46F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025AD465E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025AD81D8D90>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025AD5C1EAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000025AD5382FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025AD5C1EAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025AD8...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025AD8195A60>
          └ <fastapi.applications.FastAPI object at 0x0000025AD5382FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025AD8195F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025AD8195A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025AD8195FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025AD8195F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025AD570DC10>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000025AD81B1BB0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025AD8195FA0>
          └ <function wrap_app_handling_exceptions at 0x0000025AD57D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000025AD816B310>>
          └ <fastapi.routing.APIRouter object at 0x0000025AD816B310>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000025AD57ADD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000025AD570D820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D8B0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000025AD81D8250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000025AD570D040>
          └ <function wrap_app_handling_exceptions at 0x0000025AD57D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025AD570D940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000025AD570D040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025AD81D8250>
                     └ <function get_request_handler.<locals>.app at 0x0000025AD570D790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000025AD57B78B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025AD81D8610>}
                 │         └ <function page at 0x0000025AD8186EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000025AD5718400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: str(list_user), total: total}
            │         │           │      └ 0
            │         │           └ 0
            │         └ []
            └ []

TypeError: unhashable type: 'list'
2024-03-09 22:59:52.981 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:59:52.982 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 22:59:53.084 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:59:53.085 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 22:59:53.085 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:59:53.085 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 22:59:53.095 | INFO     | uvicorn.server:serve:87 - Finished server process [20272]
2024-03-09 22:59:53.095 | INFO     | uvicorn.server:serve:87 - Finished server process [20272]
2024-03-09 22:59:54.632 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 22:59:54.632 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 22:59:54.632 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 22:59:54.632 | INFO     | uvicorn.server:serve:77 - Started server process [10516]
2024-03-09 22:59:54.632 | INFO     | uvicorn.server:serve:77 - Started server process [10516]
2024-03-09 22:59:54.632 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:59:54.632 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 22:59:54.641 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 22:59:54.641 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:59:54.641 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 22:59:54.749 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59734 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 22:59:54.755 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000002A40D9594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000002A40D7485E0>
           └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A40D753C10>
    └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A40D96E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>
    │    └ <function subprocess_started at 0x000002A40F885EE0>
    └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=584, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A40D96E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=584, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002A40F8850D0>
           │       │   └ <uvicorn.server.Server object at 0x000002A40D96E460>
           │       └ <function run at 0x000002A40F51C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A410A18340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A40F51D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A40F51D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A40F5204C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A40F48E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A410A4AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A4101B2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A410A4AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A412FE7250>
          └ <fastapi.applications.FastAPI object at 0x000002A4101B2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A412FD7EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A412FE7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A412FD7FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A412FD7EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002A412FE7D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A412FD7FA0>
          └ <function wrap_app_handling_exceptions at 0x000002A41060B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002A412F5DA30>>
          └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002A4105E3D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002A41055C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002A412FE7F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002A41055C9D0>
          └ <function wrap_app_handling_exceptions at 0x000002A41060B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A412FC89D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002A41055C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A412FE7F70>
                     └ <function get_request_handler.<locals>.app at 0x000002A41055C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002A4105E78B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002A413003430>}
                 │         └ <function page at 0x000002A412FC8EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002A410545400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data, total: total}
            │     │     │      └ 5
            │     │     └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 22:59:54.798 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000002A40D9594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000002A40D7485E0>
           └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A40D753C10>
    └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A40D96E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>
    │    └ <function subprocess_started at 0x000002A40F885EE0>
    └ <SpawnProcess name='SpawnProcess-25' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=584, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A40D96E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=584, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002A40F8850D0>
           │       │   └ <uvicorn.server.Server object at 0x000002A40D96E460>
           │       └ <function run at 0x000002A40F51C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A410A18340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A40F51D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A40F51D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A40F5204C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A40F48E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002A413003EB0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A410A4AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A4101B2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A410A4AAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A412...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A412FE7250>
          └ <fastapi.applications.FastAPI object at 0x000002A4101B2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A412FD7EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A412FE7250>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A412FD7FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A412FD7EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A41055C8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002A412FE7D90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A412FD7FA0>
          └ <function wrap_app_handling_exceptions at 0x000002A41060B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002A412F5DA30>>
          └ <fastapi.routing.APIRouter object at 0x000002A412F5DA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002A4105E3D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002A41055C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A41055C940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002A412FE7F70>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002A41055C9D0>
          └ <function wrap_app_handling_exceptions at 0x000002A41060B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002A412FC89D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002A41055C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A412FE7F70>
                     └ <function get_request_handler.<locals>.app at 0x000002A41055C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002A4105E78B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002A413003430>}
                 │         └ <function page at 0x000002A412FC8EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002A410545400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data, total: total}
            │     │     │      └ 5
            │     │     └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:00:13.203 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:00:13.204 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:00:13.313 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:00:13.315 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:00:13.315 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:00:13.316 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:00:13.316 | INFO     | uvicorn.server:serve:87 - Finished server process [10516]
2024-03-09 23:00:13.316 | INFO     | uvicorn.server:serve:87 - Finished server process [10516]
2024-03-09 23:00:14.908 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:00:14.908 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:00:14.909 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:00:14.910 | INFO     | uvicorn.server:serve:77 - Started server process [19464]
2024-03-09 23:00:14.910 | INFO     | uvicorn.server:serve:77 - Started server process [19464]
2024-03-09 23:00:14.911 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:00:14.911 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:00:14.912 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:00:14.914 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:00:14.916 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:00:15.012 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59743 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:00:15.015 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 404
               │     └ 3
               └ <function _main at 0x00000235AAE394C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 404
           │    └ <function BaseProcess._bootstrap at 0x00000235AAD285E0>
           └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000235AAD33C10>
    └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000235AAE4E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>
    │    └ <function subprocess_started at 0x00000235ACD63EE0>
    └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=488, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000235AAE4E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=488, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000235ACD630D0>
           │       │   └ <uvicorn.server.Server object at 0x00000235AAE4E460>
           │       └ <function run at 0x00000235AC9FC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000235ADEF6340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000235AC9FD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000235AC9FD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000235ACA004C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000235AC96E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000235ADF2DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000235AD692FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000235ADF2DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000235B04B72B0>
          └ <fastapi.applications.FastAPI object at 0x00000235AD692FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000235B04A7F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000235B04B72B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000235B04A7EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000235B04A7F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000235B04B7E20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000235B04A7EB0>
          └ <function wrap_app_handling_exceptions at 0x00000235ADAE4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000235B042EA00>>
          └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000235ADABDD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000235ADA1C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000235B04B7190>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000235ADA1C9D0>
          └ <function wrap_app_handling_exceptions at 0x00000235ADAE4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235B04969D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000235ADA1C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000235B04B7190>
                     └ <function get_request_handler.<locals>.app at 0x00000235ADA1C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000235ADACB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000235B04D3430>}
                 │         └ <function page at 0x00000235B0496EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000235ADA26400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: str(data), total: total}
            │         │      │      └ 5
            │         │      └ 5
            │         └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:00:15.050 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 404
               │     └ 3
               └ <function _main at 0x00000235AAE394C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 404
           │    └ <function BaseProcess._bootstrap at 0x00000235AAD285E0>
           └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000235AAD33C10>
    └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000235AAE4E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>
    │    └ <function subprocess_started at 0x00000235ACD63EE0>
    └ <SpawnProcess name='SpawnProcess-26' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=488, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000235AAE4E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=488, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000235ACD630D0>
           │       │   └ <uvicorn.server.Server object at 0x00000235AAE4E460>
           │       └ <function run at 0x00000235AC9FC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000235ADEF6340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000235AC9FD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000235AC9FD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000235ACA004C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000235AC96E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000235B04B73A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000235ADF2DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000235AD692FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000235ADF2DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000235B0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000235B04B72B0>
          └ <fastapi.applications.FastAPI object at 0x00000235AD692FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000235B04A7F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000235B04B72B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000235B04A7EB0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000235B04A7F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000235ADA1C8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000235B04B7E20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000235B04A7EB0>
          └ <function wrap_app_handling_exceptions at 0x00000235ADAE4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000235B042EA00>>
          └ <fastapi.routing.APIRouter object at 0x00000235B042EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000235ADABDD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000235ADA1C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235ADA1C940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000235B04B7190>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000235ADA1C9D0>
          └ <function wrap_app_handling_exceptions at 0x00000235ADAE4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000235B04969D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000235ADA1C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000235B04B7190>
                     └ <function get_request_handler.<locals>.app at 0x00000235ADA1C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000235ADACB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000235B04D3430>}
                 │         └ <function page at 0x00000235B0496EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000235ADA26400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: str(data), total: total}
            │         │      │      └ 5
            │         │      └ 5
            │         └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:06.225 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:01:06.227 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:01:06.336 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:01:06.337 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:01:06.337 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:01:06.337 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:01:06.337 | INFO     | uvicorn.server:serve:87 - Finished server process [19464]
2024-03-09 23:01:06.337 | INFO     | uvicorn.server:serve:87 - Finished server process [19464]
2024-03-09 23:01:07.916 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:01:07.916 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:01:07.917 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:01:07.917 | INFO     | uvicorn.server:serve:77 - Started server process [12944]
2024-03-09 23:01:07.918 | INFO     | uvicorn.server:serve:77 - Started server process [12944]
2024-03-09 23:01:07.918 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:01:07.919 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:01:07.919 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:01:07.920 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:01:07.920 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:01:08.044 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59756 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:01:08.048 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x00000204A50594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x00000204A4F385E0>
           └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000204A4F43C10>
    └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000204A506E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>
    │    └ <function subprocess_started at 0x00000204A6F84EE0>
    └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000204A506E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000204A6F840D0>
           │       │   └ <uvicorn.server.Server object at 0x00000204A506E460>
           │       └ <function run at 0x00000204A6C1C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000204A8118340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000204A6C1D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000204A6C1D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000204A6C214C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000204A6B8E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000204A814DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000204A78B2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000204A814DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000204AA6C8A30>
          └ <fastapi.applications.FastAPI object at 0x00000204A78B2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000204AA6C8F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000204AA6C8A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000204AA6C8F70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000204AA6C8F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000204AA6E2B80>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000204AA6C8F70>
          └ <function wrap_app_handling_exceptions at 0x00000204A7D0B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000204AA64EA00>>
          └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000204A7CDBD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000204A7C3C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000204AA6E2DF0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000204A7C3C040>
          └ <function wrap_app_handling_exceptions at 0x00000204A7D0B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000204A7C3C040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000204AA6E2DF0>
                     └ <function get_request_handler.<locals>.app at 0x00000204A7C3C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000204A7CEA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000204AA6F2220>}
                 │         └ <function page at 0x00000204AA6B6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000204A7C49400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:08.093 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x00000204A50594C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x00000204A4F385E0>
           └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000204A4F43C10>
    └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000204A506E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>
    │    └ <function subprocess_started at 0x00000204A6F84EE0>
    └ <SpawnProcess name='SpawnProcess-27' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000204A506E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000204A6F840D0>
           │       │   └ <uvicorn.server.Server object at 0x00000204A506E460>
           │       └ <function run at 0x00000204A6C1C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000204A8118340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000204A6C1D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000204A6C1D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000204A6C214C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000204A6B8E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000204AA6C8DF0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000204A814DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000204A78B2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000204A814DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000204AA...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000204AA6C8A30>
          └ <fastapi.applications.FastAPI object at 0x00000204A78B2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000204AA6C8F10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000204AA6C8A30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000204AA6C8F70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000204AA6C8F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000204A7C3C9D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000204AA6E2B80>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000204AA6C8F70>
          └ <function wrap_app_handling_exceptions at 0x00000204A7D0B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000204AA64EA00>>
          └ <fastapi.routing.APIRouter object at 0x00000204AA64EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000204A7CDBD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000204A7C3C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C8B0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000204AA6E2DF0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000204A7C3C040>
          └ <function wrap_app_handling_exceptions at 0x00000204A7D0B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000204A7C3C940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000020...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000204A7C3C040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000204AA6E2DF0>
                     └ <function get_request_handler.<locals>.app at 0x00000204A7C3C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000204A7CEA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000204AA6F2220>}
                 │         └ <function page at 0x00000204AA6B6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000204A7C49400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:22.321 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:01:22.321 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:01:22.426 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:01:22.427 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:01:22.428 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:01:22.429 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:01:22.430 | INFO     | uvicorn.server:serve:87 - Finished server process [12944]
2024-03-09 23:01:22.431 | INFO     | uvicorn.server:serve:87 - Finished server process [12944]
2024-03-09 23:01:24.103 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:01:24.103 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:01:24.103 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:01:24.103 | INFO     | uvicorn.server:serve:77 - Started server process [20780]
2024-03-09 23:01:24.103 | INFO     | uvicorn.server:serve:77 - Started server process [20780]
2024-03-09 23:01:24.103 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:01:24.103 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:01:24.103 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:01:24.103 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:01:24.103 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:01:24.503 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59762 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:01:24.503 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF1CFD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A4FFF57280>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4FD480940>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD480CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4FD480940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A4FFF57280>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A4FFF57610>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:24.541 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF853D0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FCD749D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF1CFD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD4809D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A4FFF57280>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4FD480940>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4FD480CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4FD480940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A4FFF57280>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A4FFF57610>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:26.181 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59763 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:01:26.181 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF85670>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A4FFF858B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9820>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E98B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A4FFF858B0>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A4FFF85D60>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:26.208 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A4FFF855B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4FFEF6790>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF85670>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A4FFF858B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9820>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E98B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A4FFF858B0>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A4FFF85D60>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:27.063 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59764 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:01:27.063 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF6DC70>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A48010F190>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9E50>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A48010F190>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A48010F910>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:01:27.091 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 380
               │     └ 3
               └ <function _main at 0x000001A4FA8A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 380
           │    └ <function BaseProcess._bootstrap at 0x000001A4FA7A85E0>
           └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001A4FA7B3C10>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001A4FA8BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>
    │    └ <function subprocess_started at 0x000001A4FC7C4EE0>
    └ <SpawnProcess name='SpawnProcess-28' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001A4FA8BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001A4FC7C40D0>
           │       │   └ <uvicorn.server.Server object at 0x000001A4FA8BE460>
           │       └ <function run at 0x000001A4FC45C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001A4FD957340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001A4FC45D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A4FC45D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A4FC4604C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A4FC3CE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A48010FAC0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001A4FD98CAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A4FF...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>
          └ <fastapi.applications.FastAPI object at 0x000001A4FD0F2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001A4FFF1C220>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001A4FFF05EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001A4800E9A60>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001A4FFF6DC70>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001A4FFF05FD0>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>>
          └ <fastapi.routing.APIRouter object at 0x000001A4FFE8EA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001A4FD525D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001A4FD480820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001A48010F190>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9E50>
          └ <function wrap_app_handling_exceptions at 0x000001A4FD54B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001A4800E9B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001A...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001A4800E9E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001A48010F190>
                     └ <function get_request_handler.<locals>.app at 0x000001A4FD480790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001A4FD5268B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001A48010F910>}
                 │         └ <function page at 0x000001A4FFEF6EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001A4FD4883D0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data[0], total: total}
            │     │        │      └ 5
            │     │        └ 5
            │     └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...
            └ [{'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': ...

TypeError: unhashable type: 'list'
2024-03-09 23:02:00.826 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:02:00.827 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:02:00.939 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:02:00.940 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:02:00.940 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:02:00.940 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:02:00.940 | INFO     | uvicorn.server:serve:87 - Finished server process [20780]
2024-03-09 23:02:00.940 | INFO     | uvicorn.server:serve:87 - Finished server process [20780]
2024-03-09 23:02:02.563 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:02:02.564 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:02:02.565 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:02:02.565 | INFO     | uvicorn.server:serve:77 - Started server process [21180]
2024-03-09 23:02:02.566 | INFO     | uvicorn.server:serve:77 - Started server process [21180]
2024-03-09 23:02:02.566 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:02:02.567 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:02:02.567 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:02:02.568 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:02:02.569 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:02:02.675 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59769 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:02:02.677 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000023ABD6E94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000023ABD5C85E0>
           └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000023ABD5D3C10>
    └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000023ABD6FE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>
    │    └ <function subprocess_started at 0x0000023ABF613EE0>
    └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000023ABD6FE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000023ABF6130D0>
           │       │   └ <uvicorn.server.Server object at 0x0000023ABD6FE460>
           │       └ <function run at 0x0000023ABF2AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000023AC07A8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000023ABF2AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000023ABF2AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000023ABF2B04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000023ABF21E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023AC07DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000023ABFF42FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023AC07DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000023AC2D682B0>
          └ <fastapi.applications.FastAPI object at 0x0000023ABFF42FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000023AC2D57EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000023AC2D682B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000023AC2D57FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000023AC2D57EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000023AC2D68DF0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000023AC2D57FA0>
          └ <function wrap_app_handling_exceptions at 0x0000023AC039B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>>
          └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000023AC0373D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000023AC02EC820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000023AC2D68FD0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000023AC02EC9D0>
          └ <function wrap_app_handling_exceptions at 0x0000023AC039B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC2D479D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000023AC02EC9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000023AC2D68FD0>
                     └ <function get_request_handler.<locals>.app at 0x0000023AC02EC790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000023AC03768B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000023AC2D83430>}
                 │         └ <function page at 0x0000023AC2D47EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000023AC02CE400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data, total: total}
            │     │     │      └ 5
            │     │     └ 5
            │     └ {'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': '...
            └ {'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': '...

TypeError: unhashable type: 'dict'
2024-03-09 23:02:02.722 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000023ABD6E94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000023ABD5C85E0>
           └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000023ABD5D3C10>
    └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000023ABD6FE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>
    │    └ <function subprocess_started at 0x0000023ABF613EE0>
    └ <SpawnProcess name='SpawnProcess-29' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000023ABD6FE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000023ABF6130D0>
           │       │   └ <uvicorn.server.Server object at 0x0000023ABD6FE460>
           │       └ <function run at 0x0000023ABF2AC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000023AC07A8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000023ABF2AD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000023ABF2AD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000023ABF2B04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000023ABF21E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000023AC2D57E80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023AC07DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000023ABFF42FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023AC07DFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023AC2...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000023AC2D682B0>
          └ <fastapi.applications.FastAPI object at 0x0000023ABFF42FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000023AC2D57EB0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000023AC2D682B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000023AC2D57FA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000023AC2D57EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023AC02EC8B0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000023AC2D68DF0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000023AC2D57FA0>
          └ <function wrap_app_handling_exceptions at 0x0000023AC039B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>>
          └ <fastapi.routing.APIRouter object at 0x0000023AC2CDDA30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000023AC0373D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000023AC02EC820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC02EC940>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000023AC2D68FD0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000023AC02EC9D0>
          └ <function wrap_app_handling_exceptions at 0x0000023AC039B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000023AC2D479D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000023...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000023AC02EC9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000023AC2D68FD0>
                     └ <function get_request_handler.<locals>.app at 0x0000023AC02EC790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000023AC03768B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000023AC2D83430>}
                 │         └ <function page at 0x0000023AC2D47EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000023AC02CE400>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return {data: data, total: total}
            │     │     │      └ 5
            │     │     └ 5
            │     └ {'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': '...
            └ {'id': '3eb8a2ac-b727-4362-a765-7a164bf81056', 'username': 'xiaoj', 'name': '员工', 'email': 'xiaoj@example.com', 'password': '...

TypeError: unhashable type: 'dict'
2024-03-09 23:02:21.725 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:02:21.725 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:02:21.832 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:02:21.833 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:02:21.833 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:02:21.834 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:02:21.834 | INFO     | uvicorn.server:serve:87 - Finished server process [21180]
2024-03-09 23:02:21.834 | INFO     | uvicorn.server:serve:87 - Finished server process [21180]
2024-03-09 23:02:23.466 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:02:23.467 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:02:23.467 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:02:23.468 | INFO     | uvicorn.server:serve:77 - Started server process [11824]
2024-03-09 23:02:23.468 | INFO     | uvicorn.server:serve:77 - Started server process [11824]
2024-03-09 23:02:23.469 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:02:23.469 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:02:23.470 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:02:23.471 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:02:23.472 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:02:23.558 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59774 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 23:11:33.159 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 23:11:33.161 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 23:11:33.269 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:11:33.269 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:11:33.379 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:11:33.379 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:11:33.380 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:11:33.380 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:11:33.381 | INFO     | uvicorn.server:serve:87 - Finished server process [11824]
2024-03-09 23:11:33.381 | INFO     | uvicorn.server:serve:87 - Finished server process [11824]
2024-03-09 23:11:35.509 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:11:35.509 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:11:35.510 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:11:35.510 | INFO     | uvicorn.server:serve:77 - Started server process [7316]
2024-03-09 23:11:35.511 | INFO     | uvicorn.server:serve:77 - Started server process [7316]
2024-03-09 23:11:35.511 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:11:35.512 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:11:35.512 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:11:35.513 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:11:35.513 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:12:08.554 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:12:08.554 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:12:08.663 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:12:08.664 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:12:08.665 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:12:08.666 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:12:08.667 | INFO     | uvicorn.server:serve:87 - Finished server process [7316]
2024-03-09 23:12:08.668 | INFO     | uvicorn.server:serve:87 - Finished server process [7316]
2024-03-09 23:12:10.305 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:12:10.305 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:12:10.306 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:12:10.307 | INFO     | uvicorn.server:serve:77 - Started server process [9584]
2024-03-09 23:12:10.307 | INFO     | uvicorn.server:serve:77 - Started server process [9584]
2024-03-09 23:12:10.307 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:12:10.308 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:12:10.308 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:12:10.309 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:12:10.310 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:12:11.532 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59870 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:12:11.534 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000296322294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000296321285E0>
           └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000029632133C10>
    └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002963223E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>
    │    └ <function subprocess_started at 0x0000029634153EE0>
    └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002963223E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000296341530D0>
           │       │   └ <uvicorn.server.Server object at 0x000002963223E460>
           │       └ <function run at 0x0000029633DEC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000296352E8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000029633DED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000029633DED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000029633DF14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000029633D5E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002963531FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000029634A82FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002963531FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000296378AC1F0>
          └ <fastapi.applications.FastAPI object at 0x0000029634A82FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000296378AC190>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000296378AC1F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000296378AC1C0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000296378AC190>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000296378ACFD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002963781E700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000296378AC1C0>
          └ <function wrap_app_handling_exceptions at 0x0000029634EFD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002963781E700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002963781E700>>
          └ <fastapi.routing.APIRouter object at 0x000002963781E700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000029634EABD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000029634E0C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000296378E6250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000029634E0C940>
          └ <function wrap_app_handling_exceptions at 0x0000029634EFD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0CCA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000029634E0C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000296378E6250>
                     └ <function get_request_handler.<locals>.app at 0x0000029634E0C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000029634EAA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000296378E65E0>}
                 │         └ <function page at 0x0000029637887EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000029634E123A0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 66, in page
    data, total = await UserCRUD.page_list_users(db)
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000296378E65E0>
                        │        └ <staticmethod object at 0x00000296377E4220>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 84, in page_list_users
    return data.scalars().all(), len(result.scalars().all())
           │                         │      └ <function Result.scalars at 0x0000029637267DC0>
           │                         └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x0000029637921EC0>
           └ <sqlalchemy.sql.selectable.Select object at 0x000002963791F460>

AttributeError: 'Select' object has no attribute 'scalars'
2024-03-09 23:12:11.562 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x00000296322294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x00000296321285E0>
           └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000029632133C10>
    └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002963223E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>
    │    └ <function subprocess_started at 0x0000029634153EE0>
    └ <SpawnProcess name='SpawnProcess-33' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002963223E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=800, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000296341530D0>
           │       │   └ <uvicorn.server.Server object at 0x000002963223E460>
           │       └ <function run at 0x0000029633DEC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000296352E8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000029633DED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000029633DED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000029633DF14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000029633D5E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002963791F550>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002963531FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000029634A82FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002963531FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029637...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000296378AC1F0>
          └ <fastapi.applications.FastAPI object at 0x0000029634A82FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000296378AC190>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000296378AC1F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000296378AC1C0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000296378AC190>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000296347049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000296378ACFD0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002963781E700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000296378AC1C0>
          └ <function wrap_app_handling_exceptions at 0x0000029634EFD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002963781E700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002963781E700>>
          └ <fastapi.routing.APIRouter object at 0x000002963781E700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000029634EABD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000029634E0C820>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0C9D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000296378E6250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000029634E0C940>
          └ <function wrap_app_handling_exceptions at 0x0000029634EFD790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029634E0CCA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000029...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000029634E0C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000296378E6250>
                     └ <function get_request_handler.<locals>.app at 0x0000029634E0C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000029634EAA8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000296378E65E0>}
                 │         └ <function page at 0x0000029637887EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000029634E123A0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 66, in page
    data, total = await UserCRUD.page_list_users(db)
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000296378E65E0>
                        │        └ <staticmethod object at 0x00000296377E4220>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 84, in page_list_users
    return data.scalars().all(), len(result.scalars().all())
           │                         │      └ <function Result.scalars at 0x0000029637267DC0>
           │                         └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x0000029637921EC0>
           └ <sqlalchemy.sql.selectable.Select object at 0x000002963791F460>

AttributeError: 'Select' object has no attribute 'scalars'
2024-03-09 23:13:46.286 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:13:46.287 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:13:46.394 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:13:46.394 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:13:46.395 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:13:46.396 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:13:46.396 | INFO     | uvicorn.server:serve:87 - Finished server process [9584]
2024-03-09 23:13:46.396 | INFO     | uvicorn.server:serve:87 - Finished server process [9584]
2024-03-09 23:13:47.968 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:13:47.968 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:13:47.969 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:13:47.970 | INFO     | uvicorn.server:serve:77 - Started server process [5532]
2024-03-09 23:13:47.970 | INFO     | uvicorn.server:serve:77 - Started server process [5532]
2024-03-09 23:13:47.971 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:13:47.971 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:13:47.971 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:13:47.972 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:13:47.973 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:13:48.137 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59893 - "GET /api/v1/users/page HTTP/1.1" 500
2024-03-09 23:13:48.138 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x00000279DC7A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x00000279DC6885E0>
           └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000279DC693C10>
    └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000279DC7BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>
    │    └ <function subprocess_started at 0x00000279DE6D3EE0>
    └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000279DC7BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000279DE6D30D0>
           │       │   └ <uvicorn.server.Server object at 0x00000279DC7BE460>
           │       └ <function run at 0x00000279DE36C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000279DF866340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000279DE36D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000279DE36D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000279DE3714C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000279DE2DE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000279DF89DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000279DF002FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000279DF89DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000279E1E1AE20>
          └ <fastapi.applications.FastAPI object at 0x00000279DF002FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000279E1E1AB20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000279E1E1AE20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000279E1E1AC40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000279E1E1AB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000279E1E36C10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000279E1E1AC40>
          └ <function wrap_app_handling_exceptions at 0x00000279DF454790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000279E1D9D700>>
          └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000279DF42DD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000279DF3AC5E0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000279E1E36E80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000279E1E07C10>
          └ <function wrap_app_handling_exceptions at 0x00000279DF454790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279E1E07B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000279E1E07C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000279E1E36E80>
                     └ <function get_request_handler.<locals>.app at 0x00000279DF3AC550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000279DF43B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000279E1E66250>}
                 │         └ <function page at 0x00000279E1E073A0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000279DF398220>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00000279E1EA15B0>, <app.models.user.U...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
    │           │    └ <function JSONResponse.render at 0x00000279DF54E820>
    │           └ <app.utils.responses.SuccessExtra object at 0x00000279E165F0D0>
    └ <app.utils.responses.SuccessExtra object at 0x00000279E165F0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x00000279DE432DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
             │    └ <function JSONEncoder.iterencode at 0x00000279DE432D30>
             └ <json.encoder.JSONEncoder object at 0x00000279E1E667F0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
           └ <_json.Encoder object at 0x00000279E1E9F160>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 23:13:48.185 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x00000279DC7A94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x00000279DC6885E0>
           └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000279DC693C10>
    └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000279DC7BE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>
    │    └ <function subprocess_started at 0x00000279DE6D3EE0>
    └ <SpawnProcess name='SpawnProcess-34' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000279DC7BE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=772, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000279DE6D30D0>
           │       │   └ <uvicorn.server.Server object at 0x00000279DC7BE460>
           │       └ <function run at 0x00000279DE36C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000279DF866340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000279DE36D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000279DE36D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000279DE3714C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000279DE2DE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000279E1E8E6A0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000279DF89DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000279DF002FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000279DF89DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000279E1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000279E1E1AE20>
          └ <fastapi.applications.FastAPI object at 0x00000279DF002FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000279E1E1AB20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000279E1E1AE20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000279E1E1AC40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000279E1E1AB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000279DEC849D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000279E1E36C10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000279E1E1AC40>
          └ <function wrap_app_handling_exceptions at 0x00000279DF454790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000279E1D9D700>>
          └ <fastapi.routing.APIRouter object at 0x00000279E1D9D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000279DF42DD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000279DF3AC5E0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279DF3ACB80>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000279E1E36E80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000279E1E07C10>
          └ <function wrap_app_handling_exceptions at 0x00000279DF454790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000279E1E07B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000279E1E07C10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000279E1E36E80>
                     └ <function get_request_handler.<locals>.app at 0x00000279DF3AC550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000279DF43B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000279E1E66250>}
                 │         └ <function page at 0x00000279E1E073A0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000279DF398220>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 68, in page
    return SuccessExtra(data=data, total=total)
           │                 │           └ 6
           │                 └ [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00000279E1EA15B0>, <app.models.user.U...
           └ <class 'app.utils.responses.SuccessExtra'>

  File "E:\ProgramCode\python\brisk\app\utils\responses.py", line 143, in __init__
    super().__init__(content=content, status_code=code)
                             │                    └ 200
                             └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 183, in __init__
    super().__init__(content, status_code, headers, media_type, background)
                     │        │            │        │           └ None
                     │        │            │        └ None
                     │        │            └ None
                     │        └ 200
                     └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 41, in __init__
    self.body = self.render(content)
    │           │    │      └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
    │           │    └ <function JSONResponse.render at 0x00000279DF54E820>
    │           └ <app.utils.responses.SuccessExtra object at 0x00000279E165F0D0>
    └ <app.utils.responses.SuccessExtra object at 0x00000279E165F0D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\responses.py", line 186, in render
    return json.dumps(
           │    └ <function dumps at 0x00000279DE432DC0>
           └ <module 'json' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\json\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\__init__.py", line 234, in dumps
    return cls(
           └ <class 'json.encoder.JSONEncoder'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
             │    └ <function JSONEncoder.iterencode at 0x00000279DE432D30>
             └ <json.encoder.JSONEncoder object at 0x00000279E1E667F0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
           │           └ {'code': 200, 'msg': None, 'data': [<app.models.user.User object at 0x00000279E1EA1070>, <app.models.user.User object at 0x00...
           └ <_json.Encoder object at 0x00000279E1E9F160>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type User is not JSON serializable
2024-03-09 23:14:09.844 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:14:09.845 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:14:09.954 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:14:09.954 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:14:09.955 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:14:09.955 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:14:09.956 | INFO     | uvicorn.server:serve:87 - Finished server process [5532]
2024-03-09 23:14:09.956 | INFO     | uvicorn.server:serve:87 - Finished server process [5532]
2024-03-09 23:14:11.916 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:14:11.917 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:14:11.917 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:14:11.918 | INFO     | uvicorn.server:serve:77 - Started server process [7536]
2024-03-09 23:14:11.918 | INFO     | uvicorn.server:serve:77 - Started server process [7536]
2024-03-09 23:14:11.919 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:14:11.919 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:14:11.920 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:14:11.921 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:14:11.921 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:14:13.347 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59905 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 23:16:12.821 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:16:12.825 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:16:12.938 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:16:12.939 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:16:12.939 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:16:12.939 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:16:12.939 | INFO     | uvicorn.server:serve:87 - Finished server process [7536]
2024-03-09 23:16:12.939 | INFO     | uvicorn.server:serve:87 - Finished server process [7536]
2024-03-09 23:16:14.823 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:16:14.823 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:16:14.823 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:16:14.823 | INFO     | uvicorn.server:serve:77 - Started server process [6696]
2024-03-09 23:16:14.823 | INFO     | uvicorn.server:serve:77 - Started server process [6696]
2024-03-09 23:16:14.823 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:16:14.823 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:16:14.823 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:16:14.823 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:16:14.823 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:16:17.047 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59927 - "GET /api/v1/users/page HTTP/1.1" 200
2024-03-09 23:16:20.418 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59927 - "GET /docs HTTP/1.1" 200
2024-03-09 23:16:20.579 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59927 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 23:16:33.351 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59928 - "GET /api/v1/users/page?pageNum=1&pageSize=2 HTTP/1.1" 200
2024-03-09 23:17:39.833 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:17:39.833 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:17:39.945 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:17:39.945 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:17:39.945 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:17:39.945 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:17:39.945 | INFO     | uvicorn.server:serve:87 - Finished server process [6696]
2024-03-09 23:17:39.945 | INFO     | uvicorn.server:serve:87 - Finished server process [6696]
2024-03-09 23:17:41.377 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:17:41.377 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:17:41.377 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:17:41.377 | INFO     | uvicorn.server:serve:77 - Started server process [10932]
2024-03-09 23:17:41.377 | INFO     | uvicorn.server:serve:77 - Started server process [10932]
2024-03-09 23:17:41.377 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:17:41.377 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:17:41.377 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:17:41.377 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:17:41.377 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:17:43.486 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59941 - "GET /api/v1/users/page?pageNum=1&pageSize=2 HTTP/1.1" 200
2024-03-09 23:17:52.243 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:59942 - "GET /api/v1/users/page?pageNum=0&pageSize=2 HTTP/1.1" 500
2024-03-09 23:17:52.243 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001DCA1AC8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001DCA1B07790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (0, -2, 2)
    │      │       └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001DCA1F39B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (0, -2, 2)
           │    │      │    │              └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA1F39CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>
           └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (0, -2, 2)
                   │    │               └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Cursor._query at 0x000001DCA1FD7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001DCA2...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Connection.query at 0x000001DCA1FE30D0>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001DCA1FE3820>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001DCA1FE4430>
          └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001DCA1FB4790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>
    │   └ <function raise_mysql_exception at 0x000001DCA1F621F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to...
          │          └ 1064
          └ <class 'pymysql.err.ProgrammingError'>

pymysql.err.ProgrammingError: (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-2, 2' at line 4")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000001DC9CA294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000001DC9C8185E0>
           └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DC9C823C10>
    └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DC9CA3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DC9E953EE0>
    └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=752, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DC9CA3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=752, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DC9E9530D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DC9CA3E460>
           │       └ <function run at 0x000001DC9E5EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DC9FAE8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DC9E5ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DC9E5ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DC9E5F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DC9E55E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC9FB1DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DC9F282FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC9FB1DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC9F621E80>
          └ <fastapi.applications.FastAPI object at 0x000001DC9F282FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DC9F6218E0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC9F621E80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC9F621F40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DC9F6218E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DCA20D8220>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC9F621F40>
          └ <function wrap_app_handling_exceptions at 0x000001DC9F6D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DCA202D700>>
          └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DC9F6ADD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DC9F62C8B0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DCA20D85B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DC9F62C940>
          └ <function wrap_app_handling_exceptions at 0x000001DC9F6D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DC9F62C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DCA20D85B0>
                     └ <function get_request_handler.<locals>.app at 0x000001DC9F62C820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DC9F6BB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>, 'pageNum': 0, 'pageSize': 2}
                 │         └ <function page at 0x000001DCA2096EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DC9F618220>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 67, in page
    data, total = await UserCRUD.page_list_users(db, pageNum, pageSize)
                        │        │               │   │        └ 2
                        │        │               │   └ 0
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>
                        │        └ <staticmethod object at 0x000001DCA1FDCF70>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 81, in page_list_users
    data = await async_session.execute(select(User).where(*search).offset((pageNum - 1) * pageSize).limit(pageSize))
                 │             │       │      │            │               │              │               └ 2
                 │             │       │      │            │               │              └ 2
                 │             │       │      │            │               └ 0
                 │             │       │      │            └ [<sqlalchemy.sql.elements.BinaryExpression object at 0x000001DCA20D8C40>]
                 │             │       │      └ <class 'app.models.user.User'>
                 │             │       └ <function select at 0x000001DCA19985E0>
                 │             └ <function AsyncSession.execute at 0x000001DCA1EB3160>
                 └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x000001DCA0542CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x000001DCA1DD8700>
           └ <sqlalchemy.orm.session.Session object at 0x000001DCA20D8970>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x000001DCA1C5E370>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x000001DCA1A04940>
             └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000001DCA2128E20>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000001DCA1A04C10>
           └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000001DCA1A04DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000001DCA1A04E50>
           └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000001DCA1A070D0>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ ProgrammingError(1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version ...
          │                    │              └ (<class 'pymysql.err.ProgrammingError'>, ProgrammingError(1064, "You have an error in your SQL syntax; check the manual that ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that correspo...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001DCA1AC8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001DCA1B07790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (0, -2, 2)
    │      │       └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001DCA1F39B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (0, -2, 2)
           │    │      │    │              └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA1F39CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>
           └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (0, -2, 2)
                   │    │               └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Cursor._query at 0x000001DCA1FD7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001DCA2...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Connection.query at 0x000001DCA1FE30D0>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001DCA1FE3820>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001DCA1FE4430>
          └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001DCA1FB4790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>
    │   └ <function raise_mysql_exception at 0x000001DCA1F621F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to...
          │          └ 1064
          └ <class 'pymysql.err.ProgrammingError'>

sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-2, 2' at line 4")
[SQL: SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, brisk_users.phone, brisk_users.created_at, brisk_users.updated_at, brisk_users.deleted_at, brisk_users.update_user, brisk_users.last_login_at, brisk_users.avatar, brisk_users.is_valid 
FROM brisk_users 
WHERE brisk_users.deleted_at = %s 
 LIMIT %s, %s]
[parameters: (0, -2, 2)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-03-09 23:17:52.539 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001DCA1AC8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001DCA1B07790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (0, -2, 2)
    │      │       └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001DCA1F39B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (0, -2, 2)
           │    │      │    │              └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA1F39CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>
           └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (0, -2, 2)
                   │    │               └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Cursor._query at 0x000001DCA1FD7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001DCA2...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Connection.query at 0x000001DCA1FE30D0>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001DCA1FE3820>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001DCA1FE4430>
          └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001DCA1FB4790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>
    │   └ <function raise_mysql_exception at 0x000001DCA1F621F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to...
          │          └ 1064
          └ <class 'pymysql.err.ProgrammingError'>

pymysql.err.ProgrammingError: (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-2, 2' at line 4")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x000001DC9CA294C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x000001DC9C8185E0>
           └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001DC9C823C10>
    └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001DC9CA3E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>
    │    └ <function subprocess_started at 0x000001DC9E953EE0>
    └ <SpawnProcess name='SpawnProcess-39' parent=17920 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=752, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001DC9CA3E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=752, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001DC9E9530D0>
           │       │   └ <uvicorn.server.Server object at 0x000001DC9CA3E460>
           │       └ <function run at 0x000001DC9E5EC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001DC9FAE8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001DC9E5ED9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DC9E5ED940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DC9E5F04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DC9E55E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DCA2136850>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC9FB1DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001DC9F282FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC9FB1DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DCA2...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC9F621E80>
          └ <fastapi.applications.FastAPI object at 0x000001DC9F282FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DC9F6218E0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC9F621E80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC9F621F40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001DC9F6218E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC9EF049D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001DCA20D8220>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC9F621F40>
          └ <function wrap_app_handling_exceptions at 0x000001DC9F6D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DCA202D700>>
          └ <fastapi.routing.APIRouter object at 0x000001DCA202D700>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001DC9F6ADD30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001DC9F62C8B0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CD30>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001DCA20D85B0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001DC9F62C940>
          └ <function wrap_app_handling_exceptions at 0x000001DC9F6D4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC9F62CA60>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001DC9F62C940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001DCA20D85B0>
                     └ <function get_request_handler.<locals>.app at 0x000001DC9F62C820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001DC9F6BB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>, 'pageNum': 0, 'pageSize': 2}
                 │         └ <function page at 0x000001DCA2096EE0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001DC9F618220>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 67, in page
    data, total = await UserCRUD.page_list_users(db, pageNum, pageSize)
                        │        │               │   │        └ 2
                        │        │               │   └ 0
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>
                        │        └ <staticmethod object at 0x000001DCA1FDCF70>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 81, in page_list_users
    data = await async_session.execute(select(User).where(*search).offset((pageNum - 1) * pageSize).limit(pageSize))
                 │             │       │      │            │               │              │               └ 2
                 │             │       │      │            │               │              └ 2
                 │             │       │      │            │               └ 0
                 │             │       │      │            └ [<sqlalchemy.sql.elements.BinaryExpression object at 0x000001DCA20D8C40>]
                 │             │       │      └ <class 'app.models.user.User'>
                 │             │       └ <function select at 0x000001DCA19985E0>
                 │             └ <function AsyncSession.execute at 0x000001DCA1EB3160>
                 └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DCA20D8910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x000001DCA0542CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x000001DCA1DD8700>
           └ <sqlalchemy.orm.session.Session object at 0x000001DCA20D8970>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x000001DCA1C5E370>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x000001DCA1A04940>
             └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000001DCA2128E20>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000001DCA1A04C10>
           └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000001DCA1A04DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000001DCA1A04E50>
           └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000001DCA1A070D0>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ ProgrammingError(1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version ...
          │                    │              └ (<class 'pymysql.err.ProgrammingError'>, ProgrammingError(1064, "You have an error in your SQL syntax; check the manual that ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that correspo...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001DCA1AC8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000001DCA1B07790>
    └ <sqlalchemy.engine.base.Connection object at 0x000001DCA20D8A90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ (0, -2, 2)
    │      │       └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000001DCA1F39B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ (0, -2, 2)
           │    │      │    │              └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA1F39CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>
           └ <_AsyncIoGreenlet object at 0x000001DCA20BC9C0 (otid=0x000001DCA03B4030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000001DCA212B940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ (0, -2, 2)
                   │    │               └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000001DCA2127B30>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Cursor._query at 0x000001DCA1FD7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000001DCA2...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ 'SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, ...
          │    └ <function Connection.query at 0x000001DCA1FE30D0>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000001DCA1FE3820>
          └ <aiomysql.connection.Connection object at 0x000001DCA20AFAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000001DCA1FE4430>
          └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000001DCA21285E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001DCA1FB4790>
    └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001DCA21366A0>
    │   └ <function raise_mysql_exception at 0x000001DCA1F621F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to...
          │          └ 1064
          └ <class 'pymysql.err.ProgrammingError'>

sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-2, 2' at line 4")
[SQL: SELECT brisk_users.id, brisk_users.username, brisk_users.name, brisk_users.email, brisk_users.password, brisk_users.`role`, brisk_users.phone, brisk_users.created_at, brisk_users.updated_at, brisk_users.deleted_at, brisk_users.update_user, brisk_users.last_login_at, brisk_users.avatar, brisk_users.is_valid 
FROM brisk_users 
WHERE brisk_users.deleted_at = %s 
 LIMIT %s, %s]
[parameters: (0, -2, 2)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-03-09 23:31:36.991 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:31:36.992 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:31:37.101 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:31:37.101 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:31:37.102 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:31:37.102 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:31:37.103 | INFO     | uvicorn.server:serve:87 - Finished server process [10932]
2024-03-09 23:31:37.103 | INFO     | uvicorn.server:serve:87 - Finished server process [10932]
2024-03-09 23:31:42.667 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:31:42.668 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:31:42.669 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:31:42.669 | INFO     | uvicorn.server:serve:77 - Started server process [10280]
2024-03-09 23:31:42.670 | INFO     | uvicorn.server:serve:77 - Started server process [10280]
2024-03-09 23:31:42.670 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:31:42.671 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:31:42.672 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:31:42.673 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:31:42.673 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:31:46.655 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60015 - "GET /docs HTTP/1.1" 200
2024-03-09 23:31:46.913 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60015 - "GET /static/swagger-ui.css HTTP/1.1" 304
2024-03-09 23:31:46.914 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60016 - "GET /static/swagger-ui-bundle.js HTTP/1.1" 304
2024-03-09 23:31:47.030 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60016 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 23:34:09.451 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:34:09.453 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:34:09.557 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:34:09.558 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:34:09.558 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:34:09.559 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:34:09.559 | INFO     | uvicorn.server:serve:87 - Finished server process [10280]
2024-03-09 23:34:09.560 | INFO     | uvicorn.server:serve:87 - Finished server process [10280]
2024-03-09 23:34:59.355 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:34:59.356 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:34:59.356 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:34:59.357 | INFO     | uvicorn.server:serve:77 - Started server process [17544]
2024-03-09 23:34:59.358 | INFO     | uvicorn.server:serve:77 - Started server process [17544]
2024-03-09 23:34:59.359 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:34:59.359 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:34:59.360 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:34:59.361 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:34:59.361 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:35:15.399 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60046 - "GET /docs HTTP/1.1" 200
2024-03-09 23:35:15.726 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60046 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 23:36:45.346 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:36:45.348 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:36:45.453 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:36:45.454 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:36:45.455 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:36:45.455 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:36:45.456 | INFO     | uvicorn.server:serve:87 - Finished server process [17544]
2024-03-09 23:36:45.456 | INFO     | uvicorn.server:serve:87 - Finished server process [17544]
2024-03-09 23:36:47.916 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:36:47.917 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:36:47.917 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:36:47.918 | INFO     | uvicorn.server:serve:77 - Started server process [21124]
2024-03-09 23:36:47.918 | INFO     | uvicorn.server:serve:77 - Started server process [21124]
2024-03-09 23:36:47.919 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:36:47.919 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:36:47.920 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:36:47.921 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:36:47.921 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:36:47.923 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60055 - "GET /docs HTTP/1.1" 200
2024-03-09 23:36:48.108 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60055 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 23:36:57.372 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60056 - "GET /api/v1/users/page?pageNum=0&pageSize=0 HTTP/1.1" 500
2024-03-09 23:36:57.376 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000021D2DB194C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000021D2D9185E0>
           └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000021D2D923C10>
    └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000021D2DB2E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>
    │    └ <function subprocess_started at 0x0000021D2FA43EE0>
    └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=520, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000021D2DB2E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=520, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000021D2FA430D0>
           │       │   └ <uvicorn.server.Server object at 0x0000021D2DB2E460>
           │       └ <function run at 0x0000021D2F6DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000021D30BD8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000021D2F6DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000021D2F6DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021D2F6E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021D2F64E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021D30C0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000021D30372FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021D30C0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021D33195610>
          └ <fastapi.applications.FastAPI object at 0x0000021D30372FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021D3070BB20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021D33195610>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021D3070BA60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021D3070BB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000021D331B7940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021D33128040>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021D3070BA60>
          └ <function wrap_app_handling_exceptions at 0x0000021D307CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000021D33128040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021D33128040>>
          └ <fastapi.routing.APIRouter object at 0x0000021D33128040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000021D307A5D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000021D307140D0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000021D331B79D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021D30700CA0>
          └ <function wrap_app_handling_exceptions at 0x0000021D307CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D30700B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000021D30700CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000021D331B79D0>
                     └ <function get_request_handler.<locals>.app at 0x0000021D30714040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000021D307A68B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000021D331B7A30>, 'pageNum': 0, 'pageSize': 0}
                 │         └ <function page at 0x0000021D305741F0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000021D30712130>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 64, in page
    data, total = await UserCRUD.page_list_users(db, pageNum, pageSize)
                        │        │               │   │        └ 0
                        │        │               │   └ 0
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000021D331B7A30>
                        │        └ <staticmethod object at 0x0000021D330D21F0>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 77, in page_list_users
    raise ValueError("输入数值必须大于0")

ValueError: 输入数值必须大于0
2024-03-09 23:36:57.511 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 384
               │     └ 3
               └ <function _main at 0x0000021D2DB194C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 384
           │    └ <function BaseProcess._bootstrap at 0x0000021D2D9185E0>
           └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000021D2D923C10>
    └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000021D2DB2E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>
    │    └ <function subprocess_started at 0x0000021D2FA43EE0>
    └ <SpawnProcess name='SpawnProcess-4' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=520, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000021D2DB2E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=520, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000021D2FA430D0>
           │       │   └ <uvicorn.server.Server object at 0x0000021D2DB2E460>
           │       └ <function run at 0x0000021D2F6DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000021D30BD8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000021D2F6DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000021D2F6DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021D2F6E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021D2F64E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000021D331B7D60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021D30C0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000021D30372FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000021D30C0FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021D33...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021D33195610>
          └ <fastapi.applications.FastAPI object at 0x0000021D30372FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021D3070BB20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021D33195610>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021D3070BA60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021D3070BB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021D2FFF39D0>
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000021D331B7940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021D33128040>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021D3070BA60>
          └ <function wrap_app_handling_exceptions at 0x0000021D307CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000021D33128040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021D33128040>>
          └ <fastapi.routing.APIRouter object at 0x0000021D33128040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000021D307A5D30>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000021D307140D0>
          └ APIRoute(path='/api/v1/users/page', name='page', methods=['GET'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D307009D0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000021D331B79D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021D30700CA0>
          └ <function wrap_app_handling_exceptions at 0x0000021D307CB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021D30700B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000021...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000021D30700CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000021D331B79D0>
                     └ <function get_request_handler.<locals>.app at 0x0000021D30714040>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000021D307A68B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000021D331B7A30>, 'pageNum': 0, 'pageSize': 0}
                 │         └ <function page at 0x0000021D305741F0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000021D30712130>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 64, in page
    data, total = await UserCRUD.page_list_users(db, pageNum, pageSize)
                        │        │               │   │        └ 0
                        │        │               │   └ 0
                        │        │               └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000021D331B7A30>
                        │        └ <staticmethod object at 0x0000021D330D21F0>
                        └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 77, in page_list_users
    raise ValueError("输入数值必须大于0")

ValueError: 输入数值必须大于0
2024-03-09 23:37:25.970 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:37:25.972 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:37:26.079 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:37:26.079 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:37:26.080 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:37:26.080 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:37:26.080 | INFO     | uvicorn.server:serve:87 - Finished server process [21124]
2024-03-09 23:37:26.081 | INFO     | uvicorn.server:serve:87 - Finished server process [21124]
2024-03-09 23:37:28.073 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:37:28.074 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:37:28.075 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:37:28.075 | INFO     | uvicorn.server:serve:77 - Started server process [3744]
2024-03-09 23:37:28.076 | INFO     | uvicorn.server:serve:77 - Started server process [3744]
2024-03-09 23:37:28.076 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:37:28.076 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:37:28.077 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:37:28.078 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:37:28.079 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:37:28.179 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60065 - "GET /api/v1/users/page?pageNum=0&pageSize=0 HTTP/1.1" 400
2024-03-09 23:37:31.818 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60065 - "GET /api/v1/users/page?pageNum=0&pageSize=0 HTTP/1.1" 400
2024-03-09 23:37:35.870 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60065 - "GET /api/v1/users/page?pageNum=1&pageSize=0 HTTP/1.1" 400
2024-03-09 23:37:37.688 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60065 - "GET /api/v1/users/page?pageNum=1&pageSize=2 HTTP/1.1" 200
2024-03-09 23:37:41.121 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60065 - "GET /api/v1/users/page?pageNum=1&pageSize=1 HTTP/1.1" 200
2024-03-09 23:37:44.104 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60065 - "GET /api/v1/users/page?pageNum=1&pageSize=5 HTTP/1.1" 200
2024-03-09 23:40:11.244 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:40:11.245 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:40:11.355 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:40:11.357 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:40:11.358 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:40:11.360 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:40:11.361 | INFO     | uvicorn.server:serve:87 - Finished server process [3744]
2024-03-09 23:40:11.362 | INFO     | uvicorn.server:serve:87 - Finished server process [3744]
2024-03-09 23:40:13.627 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:40:13.627 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:40:13.628 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:40:13.629 | INFO     | uvicorn.server:serve:77 - Started server process [18372]
2024-03-09 23:40:13.629 | INFO     | uvicorn.server:serve:77 - Started server process [18372]
2024-03-09 23:40:13.630 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:40:13.630 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:40:13.631 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:40:13.632 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:40:13.632 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:40:15.756 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60090 - "GET /docs HTTP/1.1" 200
2024-03-09 23:40:15.921 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60090 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 23:40:44.447 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:40:44.448 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:40:44.559 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:40:44.559 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:40:44.559 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:40:44.563 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:40:44.563 | INFO     | uvicorn.server:serve:87 - Finished server process [18372]
2024-03-09 23:40:44.563 | INFO     | uvicorn.server:serve:87 - Finished server process [18372]
2024-03-09 23:40:46.735 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:40:46.735 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:40:46.735 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:40:46.735 | INFO     | uvicorn.server:serve:77 - Started server process [8216]
2024-03-09 23:40:46.747 | INFO     | uvicorn.server:serve:77 - Started server process [8216]
2024-03-09 23:40:46.748 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:40:46.749 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:40:46.749 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:40:46.749 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:40:46.749 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:40:51.342 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60117 - "GET /docs HTTP/1.1" 200
2024-03-09 23:40:51.486 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60117 - "GET /openapi.json HTTP/1.1" 200
2024-03-09 23:40:55.975 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60117 - "GET /api/v1/users/page?pageNum=1&pageSize=1 HTTP/1.1" 200
2024-03-09 23:41:25.050 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60118 - "GET /api/v1/users/page?pageNum=1&pageSize=1&keywords=xiao HTTP/1.1" 200
2024-03-09 23:41:32.171 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 23:41:32.171 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-09 23:41:35.076 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60122 - "GET /api/v1/users/page?pageNum=1&pageSize=1&keywords=%E5%91%98%E5%B7%A5 HTTP/1.1" 200
2024-03-09 23:41:39.878 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60122 - "GET /api/v1/users/page?pageNum=1&pageSize=1&keywords=%E5%91%98%E5%B7%A51 HTTP/1.1" 200
2024-03-09 23:41:42.456 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60122 - "GET /api/v1/users/page?pageNum=1&pageSize=1&keywords=%E5%91%98 HTTP/1.1" 200
2024-03-09 23:43:33.342 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:43:33.343 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:43:33.451 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:43:33.452 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:43:33.453 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:43:33.453 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:43:33.454 | INFO     | uvicorn.server:serve:87 - Finished server process [8216]
2024-03-09 23:43:33.454 | INFO     | uvicorn.server:serve:87 - Finished server process [8216]
2024-03-09 23:43:35.012 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:43:35.013 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:43:35.013 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:43:35.013 | INFO     | uvicorn.server:serve:77 - Started server process [15196]
2024-03-09 23:43:35.015 | INFO     | uvicorn.server:serve:77 - Started server process [15196]
2024-03-09 23:43:35.015 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:43:35.016 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:43:35.016 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:43:35.017 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:43:35.018 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:48:28.744 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:48:28.745 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-09 23:48:28.853 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:48:28.853 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-09 23:48:28.853 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:48:28.854 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-09 23:48:28.855 | INFO     | uvicorn.server:serve:87 - Finished server process [15196]
2024-03-09 23:48:28.855 | INFO     | uvicorn.server:serve:87 - Finished server process [15196]
2024-03-09 23:48:31.095 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-09 23:48:31.096 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-09 23:48:31.097 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-09 23:48:31.097 | INFO     | uvicorn.server:serve:77 - Started server process [16324]
2024-03-09 23:48:31.098 | INFO     | uvicorn.server:serve:77 - Started server process [16324]
2024-03-09 23:48:31.100 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:48:31.100 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-09 23:48:31.101 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-09 23:48:31.102 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-09 23:48:31.103 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:04:35.225 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60260 - "GET /docs HTTP/1.1" 200
2024-03-10 00:04:35.334 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:04:35.335 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:04:35.445 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:04:35.447 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:04:35.449 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:04:35.452 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:04:35.454 | INFO     | uvicorn.server:serve:87 - Finished server process [16324]
2024-03-10 00:04:35.457 | INFO     | uvicorn.server:serve:87 - Finished server process [16324]
2024-03-10 00:04:37.931 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:04:37.931 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:04:37.932 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:04:37.933 | INFO     | uvicorn.server:serve:77 - Started server process [9748]
2024-03-10 00:04:37.933 | INFO     | uvicorn.server:serve:77 - Started server process [9748]
2024-03-10 00:04:37.934 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:04:37.934 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:04:37.935 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:04:37.936 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:04:37.936 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:04:37.943 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60263 - "GET /openapi.json HTTP/1.1" 200
2024-03-10 00:04:41.008 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60263 - "GET /docs HTTP/1.1" 200
2024-03-10 00:04:41.149 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60263 - "GET /openapi.json HTTP/1.1" 200
2024-03-10 00:05:01.096 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60270 - "POST /api/v1/users/login HTTP/1.1" 200
2024-03-10 00:05:23.259 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60275 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:05:23.261 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED2F949D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '149', 'sec-ch-ua': '"Chromium";v="122", "Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED2F949D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED6166C10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED6155040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6131820>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED61319D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6131820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED6155040>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6155940>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6155940>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='string', name='string', username='string', phone='string', role=0, email='user@example.com', is_valid=True)
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:05:23.304 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED613CEE0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED2F949D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '149', 'sec-ch-ua': '"Chromium";v="122", "Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED2F949D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED6166C10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6131CA0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED6155040>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6131820>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED61319D0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6131820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED6155040>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6155940>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6155940>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='string', name='string', username='string', phone='string', role=0, email='user@example.com', is_valid=True)
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:06:56.926 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60282 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:06:56.927 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '179', 'sec-ch-ua': '"Chromium";v="122", "Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478040>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED61E6B20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED61E6970>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED64781F0>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478280>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED64781F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED61E6970>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED61E6FD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED61E6FD0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username='string', phone='string', role=0, email='us...
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:06:56.948 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6155B20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '179', 'sec-ch-ua': '"Chromium";v="122", "Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478040>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED61E6B20>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478160>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED61E6970>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED64781F0>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED6478280>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED64781F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED61E6970>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED61E6FD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED61E6FD0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username='string', phone='string', role=0, email='us...
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:07:59.496 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60300 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:07:59.496 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478790>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED6490280>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED64903D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6478940>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64788B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6478940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED64903D0>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6490A00>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6490A00>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:07:59.518 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 392
               │     └ 3
               └ <function _main at 0x0000022ED0AB94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 392
           │    └ <function BaseProcess._bootstrap at 0x0000022ED09A85E0>
           └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022ED09B3C10>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022ED0ACE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>
    │    └ <function subprocess_started at 0x0000022ED29E3EE0>
    └ <SpawnProcess name='SpawnProcess-14' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022ED0ACE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=420, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000022ED29E30D0>
           │       │   └ <uvicorn.server.Server object at 0x0000022ED0ACE460>
           │       └ <function run at 0x0000022ED267C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022ED3B76340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000022ED267D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000022ED267D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022ED26804C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022ED25EE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022ED6490F10>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022ED3BACAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022ED6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>
          └ <fastapi.applications.FastAPI object at 0x0000022ED3312FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000022ED613C550>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000022ED6478790>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000022ED39CBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000022ED613C790...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000022ED6490280>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000022ED613C880>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>>
          └ <fastapi.routing.APIRouter object at 0x0000022ED39C47F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000022ED3745D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000022ED6127670>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64785E0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000022ED64903D0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6478940>
          └ <function wrap_app_handling_exceptions at 0x0000022ED376B790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000022ED64788B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000022ED6478940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000022ED64903D0>
                     └ <function get_request_handler.<locals>.app at 0x0000022ED61275E0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022ED37428B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6490A00>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000022ED610B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000022ED36B1D30>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000022ED6490A00>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000022ED60CB640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:09:34.034 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:09:34.034 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:09:34.144 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:09:34.144 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:09:34.145 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:09:34.146 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:09:34.147 | INFO     | uvicorn.server:serve:87 - Finished server process [9748]
2024-03-10 00:09:34.147 | INFO     | uvicorn.server:serve:87 - Finished server process [9748]
2024-03-10 00:09:35.597 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:09:35.598 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:09:35.598 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:09:35.599 | INFO     | uvicorn.server:serve:77 - Started server process [18856]
2024-03-10 00:09:35.600 | INFO     | uvicorn.server:serve:77 - Started server process [18856]
2024-03-10 00:09:35.600 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:09:35.601 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:09:35.601 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:09:35.602 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:09:35.603 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:09:38.659 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60310 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:09:38.660 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF47C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF47C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61BF85850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61BF85AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF5A670>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF5A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61BF85AC0>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61BF85E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61BF85E80>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:09:38.694 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BF85FD0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF47C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF47C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61BF85850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61BF85AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF5A670>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF5A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF5A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61BF85AC0>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61BF85E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61BF85E80>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:10:42.092 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60319 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:10:42.093 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF5AA60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF5AA60>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61BFD9940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61BFD9C10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF47F70>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF47EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF47F70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61BFD9C10>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E6194C2A60>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E6194C2A60>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:10:42.115 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61BFD9F40>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF5AA60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61BF5AA60>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61BFD9940>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E6194C0160>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61BFD9C10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF47F70>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61BF47EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61BF47F70>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61BFD9C10>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E6194C2A60>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E6194C2A60>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:10:43.658 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60320 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:10:43.659 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61C134DC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61C134DC0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61C15D160>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61C15D280>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61C134E50>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61C134E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61C15D280>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61C15D8E0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61C15D8E0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:10:43.695 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x000001E6168D94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x000001E6167C85E0>
           └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001E6167D3C10>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001E6168EE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>
    │    └ <function subprocess_started at 0x000001E618803EE0>
    └ <SpawnProcess name='SpawnProcess-15' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001E6168EE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=732, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001E6188030D0>
           │       │   └ <uvicorn.server.Server object at 0x000001E6168EE460>
           │       └ <function run at 0x000001E61849C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001E619999340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001E61849D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E61849D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E6184A14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E61840E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E61C15DE80>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001E6199CFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E61C...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>
          └ <fastapi.applications.FastAPI object at 0x000001E619132FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61C134DC0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001E61BF5D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001E61C134DC0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001E6197EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001E61BF5D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001E61C15D160>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001E61BF5D760>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001E61BF17F40>>
          └ <fastapi.routing.APIRouter object at 0x000001E61BF17F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001E61955DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001E61BF474C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134C10>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001E61C15D280>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001E61C134E50>
          └ <function wrap_app_handling_exceptions at 0x000001E619584790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001E61C134EE0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001E...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001E61C134E50>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001E61C15D280>
                     └ <function get_request_handler.<locals>.app at 0x000001E61BF47430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001E61956B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61C15D8E0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001E61BF2B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001E6194C2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 77, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001E61C15D8E0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001E61BEEA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:11:31.194 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 00:11:31.194 | WARNING  | uvicorn.protocols.http.httptools_impl:data_received:180 - Invalid HTTP request received.
2024-03-10 00:11:58.322 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:11:58.322 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:11:58.432 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:11:58.432 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:11:58.435 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:11:58.436 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:11:58.437 | INFO     | uvicorn.server:serve:87 - Finished server process [18856]
2024-03-10 00:11:58.439 | INFO     | uvicorn.server:serve:87 - Finished server process [18856]
2024-03-10 00:11:59.887 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:11:59.888 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:11:59.888 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:11:59.889 | INFO     | uvicorn.server:serve:77 - Started server process [12752]
2024-03-10 00:11:59.889 | INFO     | uvicorn.server:serve:77 - Started server process [12752]
2024-03-10 00:11:59.890 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:11:59.890 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:11:59.891 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:11:59.892 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:11:59.892 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:12:01.649 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60331 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:12:01.651 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001C6C25794C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001C6C24585E0>
           └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C6C2463C10>
    └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C6C258E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>
    │    └ <function subprocess_started at 0x000001C6C44A3EE0>
    └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=676, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C6C258E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=676, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C6C44A30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C6C258E460>
           │       └ <function run at 0x000001C6C413C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C6C5638340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C6C413D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C6C413D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C6C41404C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C6C40AE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C6C566FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C6C4DD2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C6C566FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C6C7C0DAC0>
          └ <fastapi.applications.FastAPI object at 0x000001C6C4DD2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C6C7BF6EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C6C7C0DAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C6C7BF6EE0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001C6C548BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C6C7C0D850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C6C7C2E9A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C6C7C0D850>
          └ <function wrap_app_handling_exceptions at 0x000001C6C5224790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>>
          └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C6C51FDD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C6C7BF6430>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C6C7C2EC10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C6C7C08A60>
          └ <function wrap_app_handling_exceptions at 0x000001C6C5224790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C6C7C08A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C6C7C2EC10>
                     └ <function get_request_handler.<locals>.app at 0x000001C6C7BF63A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001C6C520B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C6C7C2EFD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001C6C7BDA4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001C6C5172BB0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C6C7C2EFD0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001C6C7B9A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:12:01.684 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x000001C6C25794C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x000001C6C24585E0>
           └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001C6C2463C10>
    └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001C6C258E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>
    │    └ <function subprocess_started at 0x000001C6C44A3EE0>
    └ <SpawnProcess name='SpawnProcess-16' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=676, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001C6C258E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=676, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001C6C44A30D0>
           │       │   └ <uvicorn.server.Server object at 0x000001C6C258E460>
           │       └ <function run at 0x000001C6C413C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001C6C5638340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001C6C413D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001C6C413D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C6C41404C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C6C40AE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001C6C7C5A8B0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C6C566FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001C6C4DD2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001C6C566FAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C6C7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C6C7C0DAC0>
          └ <fastapi.applications.FastAPI object at 0x000001C6C4DD2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C6C7BF6EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001C6C7C0DAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001C6C7BF6EE0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001C6C548BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C6C7C0D850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001C6C7C0DA00...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001C6C7C2E9A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001C6C7C0D850>
          └ <function wrap_app_handling_exceptions at 0x000001C6C5224790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>>
          └ <fastapi.routing.APIRouter object at 0x000001C6C7BC6F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001C6C51FDD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001C6C7BF6430>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08AF0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001C6C7C2EC10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001C6C7C08A60>
          └ <function wrap_app_handling_exceptions at 0x000001C6C5224790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001C6C7C08B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001C...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001C6C7C08A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001C6C7C2EC10>
                     └ <function get_request_handler.<locals>.app at 0x000001C6C7BF63A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001C6C520B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C6C7C2EFD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001C6C7BDA4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001C6C5172BB0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.id, db)
          │        │           │            │             └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001C6C7C2EFD0>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001C6C7B9A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:13:15.985 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:13:15.985 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:13:16.092 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:13:16.093 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:13:16.094 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:13:16.095 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:13:16.095 | INFO     | uvicorn.server:serve:87 - Finished server process [12752]
2024-03-10 00:13:16.096 | INFO     | uvicorn.server:serve:87 - Finished server process [12752]
2024-03-10 00:13:17.556 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:13:17.557 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:13:17.557 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:13:17.558 | INFO     | uvicorn.server:serve:77 - Started server process [4072]
2024-03-10 00:13:17.559 | INFO     | uvicorn.server:serve:77 - Started server process [4072]
2024-03-10 00:13:17.560 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:13:17.560 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:13:17.561 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:13:17.562 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:13:17.562 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:13:19.720 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60360 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:13:19.721 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x00000186614794C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x00000186613785E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000018661383C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001866148E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>
    │    └ <function subprocess_started at 0x0000018663393EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001866148E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000186633930D0>
           │       │   └ <uvicorn.server.Server object at 0x000001866148E460>
           │       └ <function run at 0x000001866302C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000018664528340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001866302D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001866302D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000186630304C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000018662F9E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001866455DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000018663CC2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001866455DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018666AEDAC0>
          └ <fastapi.applications.FastAPI object at 0x0000018663CC2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018666AD6EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018666AEDAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018666AD6EE0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001866437BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018666AED850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000018666B0E9A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018666AED850>
          └ <function wrap_app_handling_exceptions at 0x0000018664129790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000018666AA7F40>>
          └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000186640F0D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000018666AD6430>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000018666B0EC10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000018666AE8A60>
          └ <function wrap_app_handling_exceptions at 0x0000018664129790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000018666AE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000018666B0EC10>
                     └ <function get_request_handler.<locals>.app at 0x0000018666AD63A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000186640EC8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018666B0EFD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000018666ABA4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000018664054BB0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018666B0EFD0>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000018666A7A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 94, in update_user
    if "updated_at" in update_data.keys():
                       └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pydantic\main.py", line 767, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')

AttributeError: 'UserUpdateForm' object has no attribute 'keys'
2024-03-10 00:13:19.765 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x00000186614794C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x00000186613785E0>
           └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000018661383C10>
    └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001866148E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>
    │    └ <function subprocess_started at 0x0000018663393EE0>
    └ <SpawnProcess name='SpawnProcess-17' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001866148E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=724, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000186633930D0>
           │       │   └ <uvicorn.server.Server object at 0x000001866148E460>
           │       └ <function run at 0x000001866302C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000018664528340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001866302D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001866302D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000186630304C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000018662F9E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018666B669D0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001866455DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000018663CC2FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001866455DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018666...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018666AEDAC0>
          └ <fastapi.applications.FastAPI object at 0x0000018663CC2FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018666AD6EE0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000018666AEDAC0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000018666AD6EE0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001866437BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018666AED850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000018666AED940...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000018666B0E9A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000018666AED850>
          └ <function wrap_app_handling_exceptions at 0x0000018664129790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000018666AA7F40>>
          └ <fastapi.routing.APIRouter object at 0x0000018666AA7F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000186640F0D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000018666AD6430>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8AF0>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000018666B0EC10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000018666AE8A60>
          └ <function wrap_app_handling_exceptions at 0x0000018664129790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000018666AE8B80>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000018...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000018666AE8A60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000018666B0EC10>
                     └ <function get_request_handler.<locals>.app at 0x0000018666AD63A0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000186640EC8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018666B0EFD0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000018666ABA4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000018664054BB0>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000018666B0EFD0>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000018666A7A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 94, in update_user
    if "updated_at" in update_data.keys():
                       └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pydantic\main.py", line 767, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')

AttributeError: 'UserUpdateForm' object has no attribute 'keys'
2024-03-10 00:14:05.544 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:14:05.548 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:14:05.652 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:14:05.652 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:14:05.653 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:14:05.653 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:14:05.654 | INFO     | uvicorn.server:serve:87 - Finished server process [4072]
2024-03-10 00:14:05.654 | INFO     | uvicorn.server:serve:87 - Finished server process [4072]
2024-03-10 00:14:07.097 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:14:07.098 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:14:07.098 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:14:07.099 | INFO     | uvicorn.server:serve:77 - Started server process [1240]
2024-03-10 00:14:07.100 | INFO     | uvicorn.server:serve:77 - Started server process [1240]
2024-03-10 00:14:07.100 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:14:07.100 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:14:07.101 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:14:07.102 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:14:07.103 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:14:07.273 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60367 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:14:07.275 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 312
               │     └ 3
               └ <function _main at 0x000001B2A64F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 312
           │    └ <function BaseProcess._bootstrap at 0x000001B2A62D85E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B2A62E3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B2A650E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>
    │    └ <function subprocess_started at 0x000001B2A8424EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B2A650E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B2A84240D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B2A650E460>
           │       └ <function run at 0x000001B2A80BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B2A95B8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B2A80BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B2A80BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B2A80C14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B2A802E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B2A95EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B2A8D52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B2A95EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B2ABB7E910>
          └ <fastapi.applications.FastAPI object at 0x000001B2A8D52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B2ABB66C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B2ABB7E910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B2ABB66C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001B2A940BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B2ABB7E760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B2ABBA5850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B2ABB7E760>
          └ <function wrap_app_handling_exceptions at 0x000001B2A91CE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>>
          └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B2A917FD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B2ABB664C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B2ABBA5AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B2ABB7A670>
          └ <function wrap_app_handling_exceptions at 0x000001B2A91CE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B2ABB7A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B2ABBA5AC0>
                     └ <function get_request_handler.<locals>.app at 0x000001B2ABB66430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001B2A91728B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B2ABBA5E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001B2ABB4B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001B2A90E2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B2ABBA5E80>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001B2ABB0A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 95, in update_user
    update_data["updated_at"] = datetime.now()
    │                           │        └ <method 'now' of 'datetime.datetime' objects>
    │                           └ <class 'datetime.datetime'>
    └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...

TypeError: 'UserUpdateForm' object does not support item assignment
2024-03-10 00:14:07.330 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 312
               │     └ 3
               └ <function _main at 0x000001B2A64F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 312
           │    └ <function BaseProcess._bootstrap at 0x000001B2A62D85E0>
           └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B2A62E3C10>
    └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B2A650E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>
    │    └ <function subprocess_started at 0x000001B2A8424EE0>
    └ <SpawnProcess name='SpawnProcess-18' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B2A650E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000001B2A84240D0>
           │       │   └ <uvicorn.server.Server object at 0x000001B2A650E460>
           │       └ <function run at 0x000001B2A80BC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001B2A95B8340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001B2A80BD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B2A80BD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B2A80C14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B2A802E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001B2ABBFAA60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B2A95EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000001B2A8D52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001B2A95EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B2AB...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B2ABB7E910>
          └ <fastapi.applications.FastAPI object at 0x000001B2A8D52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B2ABB66C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001B2ABB7E910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001B2ABB66C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000001B2A940BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B2ABB7E760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001B2ABB7E7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000001B2ABBA5850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001B2ABB7E760>
          └ <function wrap_app_handling_exceptions at 0x000001B2A91CE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>>
          └ <fastapi.routing.APIRouter object at 0x000001B2ABB37F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000001B2A917FD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000001B2ABB664C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000001B2ABBA5AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001B2ABB7A670>
          └ <function wrap_app_handling_exceptions at 0x000001B2A91CE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001B2ABB7A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001B...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000001B2ABB7A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001B2ABBA5AC0>
                     └ <function get_request_handler.<locals>.app at 0x000001B2ABB66430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001B2A91728B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B2ABBA5E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000001B2ABB4B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001B2A90E2C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001B2ABBA5E80>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000001B2ABB0A640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 95, in update_user
    update_data["updated_at"] = datetime.now()
    │                           │        └ <method 'now' of 'datetime.datetime' objects>
    │                           └ <class 'datetime.datetime'>
    └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...

TypeError: 'UserUpdateForm' object does not support item assignment
2024-03-10 00:15:01.013 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:15:01.013 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:15:01.123 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:15:01.124 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:15:01.125 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:15:01.126 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:15:01.127 | INFO     | uvicorn.server:serve:87 - Finished server process [1240]
2024-03-10 00:15:01.128 | INFO     | uvicorn.server:serve:87 - Finished server process [1240]
2024-03-10 00:15:02.643 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:15:02.643 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:15:02.644 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:15:02.645 | INFO     | uvicorn.server:serve:77 - Started server process [4008]
2024-03-10 00:15:02.645 | INFO     | uvicorn.server:serve:77 - Started server process [4008]
2024-03-10 00:15:02.645 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:15:02.646 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:15:02.646 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:15:02.647 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:15:02.648 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:15:04.538 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60372 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:15:04.539 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000026459858EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000026459897790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000026459CC9B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459CC9CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>
           └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x0000026459D67160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000026459...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x0000026459D730D0>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000026459D73820>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000026459D74430>
          └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000026459D43790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>
    │   └ <function raise_mysql_exception at 0x0000026459CF21F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'email' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x00000264547C94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x00000264546B85E0>
           └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000264546C3C10>
    └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000264547DE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>
    │    └ <function subprocess_started at 0x00000264566F3EE0>
    └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000264547DE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000264566F30D0>
           │       │   └ <uvicorn.server.Server object at 0x00000264547DE460>
           │       └ <function run at 0x000002645638C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000264578CA340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002645638D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002645638D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000264563904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000264562FE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026457881AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000026457022FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026457881AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026459E4D910>
          └ <fastapi.applications.FastAPI object at 0x0000026457022FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026459E36C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026459E4D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026459E36C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000264576DBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026459E4D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000026459E75850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026459E4D760>
          └ <function wrap_app_handling_exceptions at 0x000002645749E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000026459E07F40>>
          └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002645744DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000026459E364C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000026459E75AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026459E4A670>
          └ <function wrap_app_handling_exceptions at 0x000002645749E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000026459E4A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000026459E75AC0>
                     └ <function get_request_handler.<locals>.app at 0x0000026459E36430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000264574418B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000026459E1B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000264573C1C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000026459DDA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 99, in update_user
    await async_session.execute(stmt)
          │             │       └ <sqlalchemy.sql.dml.Update object at 0x0000026459EC8F10>
          │             └ <function AsyncSession.execute at 0x0000026459C41160>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x00000264582D3CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x0000026459B65700>
           └ <sqlalchemy.orm.session.Session object at 0x0000026459E75EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x0000026459B3D1C0>
                   │      └ <class 'sqlalchemy.orm.bulk_persistence.BulkORMUpdate'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\bulk_persistence.py", line 1617, in orm_execute_statement
    return super().orm_execute_statement(

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x0000026459794940>
             └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x0000026459EC8730>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x0000026459794C10>
           └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x0000026459794DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x0000026459794E50>
           └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x00000264597960D0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'email' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'email' cannot be null"), <traceback object at 0x00000264...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'email\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000026459858EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000026459897790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000026459CC9B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459CC9CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>
           └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x0000026459D67160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000026459...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x0000026459D730D0>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000026459D73820>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000026459D74430>
          └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000026459D43790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>
    │   └ <function raise_mysql_exception at 0x0000026459CF21F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'email' cannot be null")
[SQL: UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s]
[parameters: ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 00:15:04.779 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000026459858EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000026459897790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000026459CC9B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459CC9CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>
           └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x0000026459D67160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000026459...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x0000026459D730D0>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000026459D73820>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000026459D74430>
          └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000026459D43790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>
    │   └ <function raise_mysql_exception at 0x0000026459CF21F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'email' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 388
               │     └ 3
               └ <function _main at 0x00000264547C94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 388
           │    └ <function BaseProcess._bootstrap at 0x00000264546B85E0>
           └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000264546C3C10>
    └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000264547DE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>
    │    └ <function subprocess_started at 0x00000264566F3EE0>
    └ <SpawnProcess name='SpawnProcess-19' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000264547DE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=512, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000264566F30D0>
           │       │   └ <uvicorn.server.Server object at 0x00000264547DE460>
           │       └ <function run at 0x000002645638C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000264578CA340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002645638D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002645638D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000264563904C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000264562FE0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000026459EECB20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026457881AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000026457022FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000026457881AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026459...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026459E4D910>
          └ <fastapi.applications.FastAPI object at 0x0000026457022FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026459E36C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000026459E4D910>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000026459E36C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000264576DBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026459E4D760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000026459E4D7F0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000026459E75850>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000026459E4D760>
          └ <function wrap_app_handling_exceptions at 0x000002645749E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000026459E07F40>>
          └ <fastapi.routing.APIRouter object at 0x0000026459E07F40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002645744DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000026459E364C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000026459E75AC0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026459E4A670>
          └ <function wrap_app_handling_exceptions at 0x000002645749E790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026459E4A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000026...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000026459E4A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000026459E75AC0>
                     └ <function get_request_handler.<locals>.app at 0x0000026459E36430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000264574418B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000026459E1B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000264573C1C40>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000026459DDA640>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 99, in update_user
    await async_session.execute(stmt)
          │             │       └ <sqlalchemy.sql.dml.Update object at 0x0000026459EC8F10>
          │             └ <function AsyncSession.execute at 0x0000026459C41160>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000026459E75E80>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x00000264582D3CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x0000026459B65700>
           └ <sqlalchemy.orm.session.Session object at 0x0000026459E75EE0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x0000026459B3D1C0>
                   │      └ <class 'sqlalchemy.orm.bulk_persistence.BulkORMUpdate'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\bulk_persistence.py", line 1617, in orm_execute_statement
    return super().orm_execute_statement(

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x0000026459794940>
             └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x0000026459EC8730>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x0000026459794C10>
           └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x0000026459794DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x0000026459794E50>
           └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x00000264597960D0>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'email' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'email' cannot be null"), <traceback object at 0x00000264...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'email\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000026459858EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x0000026459897790>
    └ <sqlalchemy.engine.base.Connection object at 0x0000026459E9EA60>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x0000026459CC9B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459CC9CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>
           └ <_AsyncIoGreenlet object at 0x0000026459EDAEC0 (otid=0x0000026458153030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x0000026459ECE740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x0000026459EEE180>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x0000026459D67160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x0000026459...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x0000026459D730D0>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x0000026459D73820>
          └ <aiomysql.connection.Connection object at 0x0000026459E4DAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x0000026459D74430>
          └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x0000026459EC8D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x0000026459D43790>
    └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x0000026459E9E280>
    │   └ <function raise_mysql_exception at 0x0000026459CF21F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'email' cannot be null")
[SQL: UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s]
[parameters: ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 00:17:22.273 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:17:22.274 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:17:22.381 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:17:22.382 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:17:22.382 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:17:22.383 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:17:22.384 | INFO     | uvicorn.server:serve:87 - Finished server process [4008]
2024-03-10 00:17:22.385 | INFO     | uvicorn.server:serve:87 - Finished server process [4008]
2024-03-10 00:17:23.780 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:17:23.780 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:17:23.780 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:17:23.782 | INFO     | uvicorn.server:serve:77 - Started server process [3444]
2024-03-10 00:17:23.783 | INFO     | uvicorn.server:serve:77 - Started server process [3444]
2024-03-10 00:17:23.783 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:17:23.783 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:17:23.783 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:17:23.785 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:17:23.785 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:17:35.925 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60400 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:17:35.928 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000002497F6A8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000002497F6E7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000002497FB19B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FB19CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>
           └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x000002497FBB7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000002497F...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x000002497FBC30D0>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000002497FBC3820>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000002497FBC4430>
          └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000002497FB93790>
    └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>
    │   └ <function raise_mysql_exception at 0x000002497FB421F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'email' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 288
               │     └ 3
               └ <function _main at 0x000002497A6194C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 288
           │    └ <function BaseProcess._bootstrap at 0x000002497A4F85E0>
           └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002497A503C10>
    └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002497A62E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>
    │    └ <function subprocess_started at 0x000002497C545EE0>
    └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002497A62E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002497C5450D0>
           │       │   └ <uvicorn.server.Server object at 0x000002497A62E460>
           │       └ <function run at 0x000002497C1DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002497D71A340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002497C1DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002497C1DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002497C1E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002497C14E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002497D734AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002497CE72FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002497D734AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002497FC9D940>
          └ <fastapi.applications.FastAPI object at 0x000002497CE72FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002497FC88C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002497FC9D940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002497FC88C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000002497D52BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002497FC9D790>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002497FCC5880>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002497FC9D790>
          └ <function wrap_app_handling_exceptions at 0x000002497D2C4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002497FC56FD0>>
          └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002497D29DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002497FC884C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002497FCC5AF0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002497FC9A670>
          └ <function wrap_app_handling_exceptions at 0x000002497D2C4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002497FC9A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002497FCC5AF0>
                     └ <function get_request_handler.<locals>.app at 0x000002497FC88430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002497D2AB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000002497FC6B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002497D202C70>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000002497FC2B670>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 99, in update_user
    await async_session.execute(stmt)
          │             │       └ <sqlalchemy.sql.dml.Update object at 0x000002497FD19F10>
          │             └ <function AsyncSession.execute at 0x000002497FA90160>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x000002497E122CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x000002497F9B8700>
           └ <sqlalchemy.orm.session.Session object at 0x000002497FCC5F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x000002497F98D1C0>
                   │      └ <class 'sqlalchemy.orm.bulk_persistence.BulkORMUpdate'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\bulk_persistence.py", line 1617, in orm_execute_statement
    return super().orm_execute_statement(

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x000002497F5E4940>
             └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x000002497FD19730>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000002497F5E4C10>
           └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000002497F5E4DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000002497F5E4E50>
           └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000002497F5E60D0>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'email' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'email' cannot be null"), <traceback object at 0x00000249...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'email\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000002497F6A8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000002497F6E7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000002497FB19B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FB19CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>
           └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x000002497FBB7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000002497F...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x000002497FBC30D0>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000002497FBC3820>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000002497FBC4430>
          └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000002497FB93790>
    └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>
    │   └ <function raise_mysql_exception at 0x000002497FB421F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'email' cannot be null")
[SQL: UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s]
[parameters: ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 00:17:36.015 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000002497F6A8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000002497F6E7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000002497FB19B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FB19CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>
           └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x000002497FBB7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000002497F...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x000002497FBC30D0>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000002497FBC3820>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000002497FBC4430>
          └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000002497FB93790>
    └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>
    │   └ <function raise_mysql_exception at 0x000002497FB421F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

pymysql.err.IntegrityError: (1048, "Column 'email' cannot be null")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 288
               │     └ 3
               └ <function _main at 0x000002497A6194C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 288
           │    └ <function BaseProcess._bootstrap at 0x000002497A4F85E0>
           └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002497A503C10>
    └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002497A62E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>
    │    └ <function subprocess_started at 0x000002497C545EE0>
    └ <SpawnProcess name='SpawnProcess-20' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002497A62E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=460, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x000002497C5450D0>
           │       │   └ <uvicorn.server.Server object at 0x000002497A62E460>
           │       └ <function run at 0x000002497C1DC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002497D71A340>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002497C1DD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002497C1DD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002497C1E04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002497C14E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002497FD48B20>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002497D734AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x000002497CE72FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002497D734AF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002497F...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002497FC9D940>
          └ <fastapi.applications.FastAPI object at 0x000002497CE72FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002497FC88C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002497FC9D940>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002497FC88C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x000002497D52BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002497FC9D790>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002497FC9D820...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x000002497FCC5880>
          │                            │    └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002497FC9D790>
          └ <function wrap_app_handling_exceptions at 0x000002497D2C4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002497FC56FD0>>
          └ <fastapi.routing.APIRouter object at 0x000002497FC56FD0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x000002497D29DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x000002497FC884C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x000002497FCC5AF0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002497FC9A670>
          └ <function wrap_app_handling_exceptions at 0x000002497D2C4790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002497FC9A8B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x000002497FC9A670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002497FCC5AF0>
                     └ <function get_request_handler.<locals>.app at 0x000002497FC88430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002497D2AB8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x000002497FC6B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002497D202C70>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x000002497FC2B670>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 99, in update_user
    await async_session.execute(stmt)
          │             │       └ <sqlalchemy.sql.dml.Update object at 0x000002497FD19F10>
          │             └ <function AsyncSession.execute at 0x000002497FA90160>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002497FCC5EB0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 452, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x000002497E122CA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 197, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2306, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x000002497F9B8700>
           └ <sqlalchemy.orm.session.Session object at 0x000002497FCC5F10>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2191, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod object at 0x000002497F98D1C0>
                   │      └ <class 'sqlalchemy.orm.bulk_persistence.BulkORMUpdate'>
                   └ typing.Any

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\bulk_persistence.py", line 1617, in orm_execute_statement
    return super().orm_execute_statement(

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x000002497F5E4940>
             └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1408, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x000002497FD19730>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 513, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000002497F5E4C10>
           └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1630, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000002497F5E4DC0>
          └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1839, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x000002497F5E4E50>
           └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1979, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000002497F5E60D0>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2335, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError(1048, "Column 'email' cannot be null")
          │                    │              └ (<class 'pymysql.err.IntegrityError'>, IntegrityError(1048, "Column 'email' cannot be null"), <traceback object at 0x00000249...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(pymysql.err.IntegrityError) (1048, "Column \'email\' cannot be null")')

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1960, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000002497F6A8EE0>
    │    └ <sqlalchemy.dialects.mysql.aiomysql.MySQLDialect_aiomysql object at 0x000002497F6E7790>
    └ <sqlalchemy.engine.base.Connection object at 0x000002497FCEE460>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\engine\default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
    │      │       └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
    │      └ <function AsyncAdapt_aiomysql_cursor.execute at 0x000002497FB19B80>
    └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           │    │      │    │              │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
           │    │      │    │              └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
           │    │      │    └ <function AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FB19CA0>
           │    │      └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>
           │    └ <member 'await_' of 'AsyncAdapt_aiomysql_cursor' objects>
           └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 127, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           │                     └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>
           └ <_AsyncIoGreenlet object at 0x000002497FD2BF80 (otid=0x000002497DFA3030) dead>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_aiomysql_cursor._execute_async at 0x000002497FD1E740>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 102, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   │    │               │          └ ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)
                   │    │               └ 'UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s'
                   │    └ <member '_cursor' of 'AsyncAdapt_aiomysql_cursor' objects>
                   └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_cursor object at 0x000002497FD1AF40>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
          │    │      └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Cursor._query at 0x000002497FBB7160>
          └ <sqlalchemy.dialects.mysql.aiomysql.AsyncAdapt_aiomysql_dbapi._init_cursors_subclasses.<locals>.Cursor object at 0x000002497F...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
          │    │     └ "UPDATE brisk_users SET id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', username=NULL, name='string', email=NULL, `role`=NULL, pho...
          │    └ <function Connection.query at 0x000002497FBC30D0>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
          │    │                             └ False
          │    └ <function Connection._read_query_result at 0x000002497FBC3820>
          └ <aiomysql.connection.Connection object at 0x000002497FC9DB20>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
          │      └ <function MySQLResult.read at 0x000002497FBC4430>
          └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                         │    └ None
                         └ <aiomysql.connection.MySQLResult object at 0x000002497FD19D00>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000002497FB93790>
    └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000002497FCEE2B0>
    │   └ <function raise_mysql_exception at 0x000002497FB421F0>
    └ <module 'pymysql.err' from 'E:\\ProgramCode\\python\\brisk\\venv\\lib\\site-packages\\pymysql\\err.py'>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Column 'email' cannot be null"
          │          └ 1048
          └ <class 'pymysql.err.IntegrityError'>

sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, "Column 'email' cannot be null")
[SQL: UPDATE brisk_users SET id=%s, username=%s, name=%s, email=%s, `role`=%s, phone=%s, updated_at=now(), is_valid=%s]
[parameters: ('b9f67dc4-8e7b-4d6c-b576-9655b278eeef', None, 'string', None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-03-10 00:23:45.857 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:23:45.861 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:23:45.969 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:23:45.969 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:23:45.969 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:23:45.969 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:23:45.969 | INFO     | uvicorn.server:serve:87 - Finished server process [3444]
2024-03-10 00:23:45.969 | INFO     | uvicorn.server:serve:87 - Finished server process [3444]
2024-03-10 00:23:47.915 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:23:47.915 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:23:47.915 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:23:47.926 | INFO     | uvicorn.server:serve:77 - Started server process [9568]
2024-03-10 00:23:47.926 | INFO     | uvicorn.server:serve:77 - Started server process [9568]
2024-03-10 00:23:47.926 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:23:47.926 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:23:47.926 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:23:47.926 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:23:47.926 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:23:54.634 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60441 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:23:54.634 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 412
               │     └ 3
               └ <function _main at 0x00000222DC2F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 412
           │    └ <function BaseProcess._bootstrap at 0x00000222DC1C85E0>
           └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000222DC1D3C10>
    └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000222DC30E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>
    │    └ <function subprocess_started at 0x00000222DE224EE0>
    └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=556, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000222DC30E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=556, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000222DE2240D0>
           │       │   └ <uvicorn.server.Server object at 0x00000222DC30E460>
           │       └ <function run at 0x00000222DDEBC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000222DF3B9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000222DDEBD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000222DDEBD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000222DDEC14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000222DDE2E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000222DF3EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000222DEB52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000222DF3EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000222E197C9D0>
          └ <fastapi.applications.FastAPI object at 0x00000222DEB52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000222E1968C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000222E197C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000222E1968C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000222DF20BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000222E197C820>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000222E199E910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000222E197C820>
          └ <function wrap_app_handling_exceptions at 0x00000222DEFAB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000222E191DD90>>
          └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000222DEF80D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000222E19684C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000222E199EB80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000222E1979670>
          └ <function wrap_app_handling_exceptions at 0x00000222DEFAB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E19798B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000222E1979670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000222E199EB80>
                     └ <function get_request_handler.<locals>.app at 0x00000222E1968430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000222DEF8B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000222E199EF40>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x00000222E194B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000222DEEE2D00>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000222E199EF40>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x00000222E1908700>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 103, in update_user
    stmt = update(User).where(and_(User.id == update_data.id)).values(update_data)
           │      │           │    │    │     │                       └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    │     └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000222E18A84A0>
           │      │           │    └ <class 'app.models.user.User'>
           │      │           └ <function and_ at 0x00000222E1250F70>
           │      └ <class 'app.models.user.User'>
           └ <function update at 0x00000222E1250B80>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:23:54.667 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 412
               │     └ 3
               └ <function _main at 0x00000222DC2F94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 412
           │    └ <function BaseProcess._bootstrap at 0x00000222DC1C85E0>
           └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000222DC1D3C10>
    └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000222DC30E430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>
    │    └ <function subprocess_started at 0x00000222DE224EE0>
    └ <SpawnProcess name='SpawnProcess-22' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=556, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000222DC30E460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=556, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x00000222DE2240D0>
           │       │   └ <uvicorn.server.Server object at 0x00000222DC30E460>
           │       └ <function run at 0x00000222DDEBC160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000222DF3B9340>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000222DDEBD9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000222DDEBD940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000222DDEC14C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000222DDE2E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000222E19F6AF0>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000222DF3EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x00000222DEB52FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000222DF3EFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000222E1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000222E197C9D0>
          └ <fastapi.applications.FastAPI object at 0x00000222DEB52FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000222E1968C10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000222E197C9D0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000222E1968C10>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x00000222DF20BCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000222E197C820>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000222E197C8B0...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x00000222E199E910>
          │                            │    └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000222E197C820>
          └ <function wrap_app_handling_exceptions at 0x00000222DEFAB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x00000222E191DD90>>
          └ <fastapi.routing.APIRouter object at 0x00000222E191DD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x00000222DEF80D30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x00000222E19684C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E1979820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x00000222E199EB80>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000222E1979670>
          └ <function wrap_app_handling_exceptions at 0x00000222DEFAB790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000222E19798B0>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000022...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x00000222E1979670>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000222E199EB80>
                     └ <function get_request_handler.<locals>.app at 0x00000222E1968430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000222DEF8B8B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000222E199EF40>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x00000222E194B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000222DEEE2D00>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x00000222E199EF40>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x00000222E1908700>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 103, in update_user
    stmt = update(User).where(and_(User.id == update_data.id)).values(update_data)
           │      │           │    │    │     │                       └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    │     └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000222E18A84A0>
           │      │           │    └ <class 'app.models.user.User'>
           │      │           └ <function and_ at 0x00000222E1250F70>
           │      └ <class 'app.models.user.User'>
           └ <function update at 0x00000222E1250B80>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:24:45.430 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:24:45.431 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:24:45.538 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:24:45.539 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:24:45.540 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:24:45.541 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:24:45.543 | INFO     | uvicorn.server:serve:87 - Finished server process [9568]
2024-03-10 00:24:45.544 | INFO     | uvicorn.server:serve:87 - Finished server process [9568]
2024-03-10 00:24:47.057 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:24:47.057 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:24:47.058 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:24:47.058 | INFO     | uvicorn.server:serve:77 - Started server process [16712]
2024-03-10 00:24:47.059 | INFO     | uvicorn.server:serve:77 - Started server process [16712]
2024-03-10 00:24:47.059 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:24:47.060 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:24:47.060 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:24:47.061 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:24:47.062 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:24:47.187 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60448 - "PUT /api/v1/users/update HTTP/1.1" 500
2024-03-10 00:24:47.188 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x0000025E659E94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x0000025E658E85E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025E658F3C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025E659FE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>
    │    └ <function subprocess_started at 0x0000025E67905EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000025E659FE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000025E679050D0>
           │       │   └ <uvicorn.server.Server object at 0x0000025E659FE460>
           │       └ <function run at 0x0000025E6759C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000025E68A99340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000025E6759D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025E6759D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025E675A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025E6750E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025E68ACFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000025E68232FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025E68ACFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025E6B05C880>
          └ <fastapi.applications.FastAPI object at 0x0000025E68232FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025E67EB49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025E6B05C880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025E67EB49D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000025E688EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025E6B05C8B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000025E6B07A6A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025E6B05C8B0>
          └ <function wrap_app_handling_exceptions at 0x0000025E686AE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>>
          └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000025E6865DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000025E6B03A4C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000025E6B07A910>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000025E6B0598B0>
          └ <function wrap_app_handling_exceptions at 0x0000025E686AE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000025E6B0598B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025E6B07A910>
                     └ <function get_request_handler.<locals>.app at 0x0000025E6B03A430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000025E686528B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025E6B07AD60>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000025E6B02B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000025E685C2D00>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025E6B07AD60>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000025E6AFE7700>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 103, in update_user
    stmt = update(User).where(and_(User.id == update_data.id)).values(update_data)
           │      │           │    │    │     │                       └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    │     └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x0000025E6AF884A0>
           │      │           │    └ <class 'app.models.user.User'>
           │      │           └ <function and_ at 0x0000025E6A92FF70>
           │      └ <class 'app.models.user.User'>
           └ <function update at 0x0000025E6A92FB80>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:24:47.236 | ERROR    | uvicorn.protocols.http.httptools_impl:run_asgi:424 - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x0000025E659E94C0>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x0000025E658E85E0>
           └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025E658F3C10>
    └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025E659FE430>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>
    │    └ <function subprocess_started at 0x0000025E67905EE0>
    └ <SpawnProcess name='SpawnProcess-23' parent=10336 started>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000025E659FE460>>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=740, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 443)>]
           │       │   │    └ <function Server.serve at 0x0000025E679050D0>
           │       │   └ <uvicorn.server.Server object at 0x0000025E659FE460>
           │       └ <function run at 0x0000025E6759C160>
           └ <module 'asyncio' from 'C:\\Users\\wies\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\__init__.py'>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000025E68A99340>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000025E6759D9D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025E6759D940>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025E675A04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025E6750E0D0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>

  File "C:\Users\wies\AppData\Local\Programs\Python\Python38\lib\asyncio\events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000025E6B049A60>(<Future finished result=None>)>

> File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025E68ACFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
                 │    └ <fastapi.applications.FastAPI object at 0x0000025E68232FA0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025E68ACFAF0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025E6B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025E6B05C880>
          └ <fastapi.applications.FastAPI object at 0x0000025E68232FA0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025E67EB49D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000025E6B05C880>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:443', 'connection': 'keep-alive', 'content-length': '70', 'sec-ch-ua': '"Chromium";v="122", "Not(...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000025E67EB49D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function CORSMiddleware.simple_response at 0x0000025E688EBCA0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025E6B05C8B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000025E6B05C520...
          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    │    └ <starlette.requests.Request object at 0x0000025E6B07A6A0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000025E6B05C8B0>
          └ <function wrap_app_handling_exceptions at 0x0000025E686AE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>>
          └ <fastapi.routing.APIRouter object at 0x0000025E6AFFCD90>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │     └ <function Route.handle at 0x0000025E6865DD30>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │    └ <function request_response.<locals>.app at 0x0000025E6B03A4C0>
          └ APIRoute(path='/api/v1/users/update', name='update', methods=['PUT'])

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059820>
          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          │                            │    └ <starlette.requests.Request object at 0x0000025E6B07A910>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000025E6B0598B0>
          └ <function wrap_app_handling_exceptions at 0x0000025E686AE790>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000025E6B059940>
          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000025...
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 443), 'cli...
          └ <function request_response.<locals>.app.<locals>.app at 0x0000025E6B0598B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\starlette\routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025E6B07A910>
                     └ <function get_request_handler.<locals>.app at 0x0000025E6B03A430>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000025E686528B0>

  File "E:\ProgramCode\python\brisk\venv\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025E6B07AD60>, 'user_info': {'id': '4e9b7ed6-205d-4a89-a4...
                 │         └ <function update at 0x0000025E6B02B4C0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000025E685C2D00>

  File "E:\ProgramCode\python\brisk\app\apis\v1\auth\user.py", line 78, in update
    await UserCRUD.update_user(update_data, user_info.get("id"), db)
          │        │           │            │         │          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000025E6B07AD60>
          │        │           │            │         └ <method 'get' of 'dict' objects>
          │        │           │            └ {'id': '4e9b7ed6-205d-4a89-a48c-8f19d0d99bf1', 'username': 'admin', 'name': '管理员', 'email': 'user@example.com', 'role': 2, 'p...
          │        │           └ UserUpdateForm(id='b9f67dc4-8e7b-4d6c-b576-9655b278eeef', name='string', username=None, phone=None, role=None, email=None, is...
          │        └ <staticmethod object at 0x0000025E6AFE7700>
          └ <class 'app.crud.auth.user.UserCRUD'>

  File "E:\ProgramCode\python\brisk\app\crud\auth\user.py", line 103, in update_user
    stmt = update(User).where(and_(User.id == update_data.id)).values(update_data)
           │      │           │    │    │     │                       └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    │     └ {'id': 'b9f67dc4-8e7b-4d6c-b576-9655b278eeef', 'name': 'string'}
           │      │           │    │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x0000025E6AF884A0>
           │      │           │    └ <class 'app.models.user.User'>
           │      │           └ <function and_ at 0x0000025E6A92FF70>
           │      └ <class 'app.models.user.User'>
           └ <function update at 0x0000025E6A92FB80>

AttributeError: 'dict' object has no attribute 'id'
2024-03-10 00:25:32.044 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:25:32.045 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:25:32.156 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:25:32.157 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:25:32.160 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:25:32.162 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:25:32.166 | INFO     | uvicorn.server:serve:87 - Finished server process [16712]
2024-03-10 00:25:32.168 | INFO     | uvicorn.server:serve:87 - Finished server process [16712]
2024-03-10 00:25:33.719 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:25:33.719 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:25:33.720 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:25:33.721 | INFO     | uvicorn.server:serve:77 - Started server process [20776]
2024-03-10 00:25:33.721 | INFO     | uvicorn.server:serve:77 - Started server process [20776]
2024-03-10 00:25:33.722 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:25:33.722 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:25:33.723 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:25:33.724 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:25:33.724 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:25:40.637 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60462 - "PUT /api/v1/users/update HTTP/1.1" 200
2024-03-10 00:26:56.842 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:26:56.844 | INFO     | uvicorn.server:shutdown:265 - Shutting down
2024-03-10 00:26:56.951 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:26:56.951 | INFO     | uvicorn.lifespan.on:shutdown:65 - Waiting for application shutdown.
2024-03-10 00:26:56.952 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:26:56.953 | INFO     | uvicorn.lifespan.on:shutdown:76 - Application shutdown complete.
2024-03-10 00:26:56.953 | INFO     | uvicorn.server:serve:87 - Finished server process [20776]
2024-03-10 00:26:56.954 | INFO     | uvicorn.server:serve:87 - Finished server process [20776]
2024-03-10 00:26:58.710 | DEBUG    | app:init_logging:119 - 日志系统已加载
2024-03-10 00:26:58.710 | SUCCESS  | main:<module>:17 - brisk is running at Brisk
2024-03-10 00:26:58.711 | SUCCESS  | main:<module>:18 - 
                                  \`-,                             
                                  |   `\                           
                                  |     \                          
                               __/.- - -.\,__                      
                          _.-'`              `'"'--..,__           
                      .-'`                              `'--.,_    
                   .'`   _                         _ ___       `)  
                 .'   .'` `'-.                    (_`  _`)  _.-'   
               .'    '--.     '.                 .-.`"`@ .-'""-,   
      .------~'     ,.---'      '-._      _.'   /   `'--':::.-'   
    /`        '   /`  _,..-----.,__ `''''`/    ;__,..--''--'`      
    `'--.,__ '    |-'`             `'---'|     |                   
            `\    \                       \   /                    
             |     |                       '-'                     
              \    |                                               
               `\  |                                               
                 \/  

        
2024-03-10 00:26:58.711 | INFO     | uvicorn.server:serve:77 - Started server process [596]
2024-03-10 00:26:58.712 | INFO     | uvicorn.server:serve:77 - Started server process [596]
2024-03-10 00:26:58.713 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:26:58.713 | INFO     | uvicorn.lifespan.on:startup:46 - Waiting for application startup.
2024-03-10 00:26:58.714 | SUCCESS  | main:init_database:26 - database and tables created success.        ✔
2024-03-10 00:26:58.715 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:26:58.715 | INFO     | uvicorn.lifespan.on:startup:60 - Application startup complete.
2024-03-10 00:27:01.014 | INFO     | uvicorn.protocols.http.httptools_impl:send:489 - 127.0.0.1:60470 - "PUT /api/v1/users/update HTTP/1.1" 200
